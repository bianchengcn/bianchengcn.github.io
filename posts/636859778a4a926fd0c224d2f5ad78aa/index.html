<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C&#43;&#43;基础——结构体 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C&#43;&#43;基础——结构体" />
<meta property="og:description" content="目录
1 结构体基本概念
2 结构体定义和使用
3 结构体数组
4 结构体指针
5 结构体嵌套结构体
6 结构体做函数参数
7 结构体中 const使用场景
8 结构体案例
1 结构体基本概念 结构体属于用户自定义的数据类型，允许用户存储不同的数据类型
2 结构体定义和使用 语法：struct 结构体名 { 结构体成员列表 };
通过结构体创建变量的方式有三种：
○struct 结构体名 变量名
○struct 结构体名 变量名 = { 成员1值, 成员2值...}
○定义结构体时顺便创建变量
#include &lt;iostream&gt; using namespace std; #include&lt;string&gt; //1、创建学生数据类型：学生包括（姓名，年龄，分数） //自定义数据类型，一些类型集合组成的一个类型 //语法 struct 类型名称 { 成员列表 } struct Student { //成员列表 //姓名 string name; //年龄 int age; //分数 int score; }s3; //2、通过学生类型创建具体学生 int main(){ //2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/636859778a4a926fd0c224d2f5ad78aa/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-01T14:55:27+08:00" />
<meta property="article:modified_time" content="2022-02-01T14:55:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C&#43;&#43;基础——结构体</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="1%20%E7%BB%93%E6%9E%84%E4%BD%93%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-toc" style="margin-left:0px;"><a href="#1%20%E7%BB%93%E6%9E%84%E4%BD%93%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5" rel="nofollow">1 结构体基本概念</a></p> 
<p id="2%20%E7%BB%93%E6%9E%84%E4%BD%93%E5%AE%9A%E4%B9%89%E5%92%8C%E4%BD%BF%E7%94%A8-toc" style="margin-left:0px;"><a href="#2%20%E7%BB%93%E6%9E%84%E4%BD%93%E5%AE%9A%E4%B9%89%E5%92%8C%E4%BD%BF%E7%94%A8" rel="nofollow">2 结构体定义和使用</a></p> 
<p id="3%20%E7%BB%93%E6%9E%84%E4%BD%93%E6%95%B0%E7%BB%84-toc" style="margin-left:0px;"><a href="#3%20%E7%BB%93%E6%9E%84%E4%BD%93%E6%95%B0%E7%BB%84" rel="nofollow">3 结构体数组</a></p> 
<p id="4%20%E7%BB%93%E6%9E%84%E4%BD%93%E6%8C%87%E9%92%88-toc" style="margin-left:0px;"><a href="#4%20%E7%BB%93%E6%9E%84%E4%BD%93%E6%8C%87%E9%92%88" rel="nofollow">4 结构体指针</a></p> 
<p id="5%20%E7%BB%93%E6%9E%84%E4%BD%93%E5%B5%8C%E5%A5%97%E7%BB%93%E6%9E%84%E4%BD%93-toc" style="margin-left:0px;"><a href="#5%20%E7%BB%93%E6%9E%84%E4%BD%93%E5%B5%8C%E5%A5%97%E7%BB%93%E6%9E%84%E4%BD%93" rel="nofollow">5 结构体嵌套结构体</a></p> 
<p id="6%20%E7%BB%93%E6%9E%84%E4%BD%93%E5%81%9A%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0-toc" style="margin-left:0px;"><a href="#6%20%E7%BB%93%E6%9E%84%E4%BD%93%E5%81%9A%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0" rel="nofollow">6 结构体做函数参数</a></p> 
<p id="7%20%E7%BB%93%E6%9E%84%E4%BD%93%E4%B8%AD%20const%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF-toc" style="margin-left:0px;"><a href="#7%20%E7%BB%93%E6%9E%84%E4%BD%93%E4%B8%AD%20const%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF" rel="nofollow">7 结构体中 const使用场景</a></p> 
<p id="8%20%E7%BB%93%E6%9E%84%E4%BD%93%E6%A1%88%E4%BE%8B-toc" style="margin-left:0px;"><a href="#8%20%E7%BB%93%E6%9E%84%E4%BD%93%E6%A1%88%E4%BE%8B" rel="nofollow">8 结构体案例</a></p> 
<hr id="hr-toc"> 
<h2 id="1%20%E7%BB%93%E6%9E%84%E4%BD%93%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5">1 结构体基本概念</h2> 
<p>结构体属于用户自定义的数据类型，允许用户存储不同的数据类型</p> 
<p></p> 
<h2 id="2%20%E7%BB%93%E6%9E%84%E4%BD%93%E5%AE%9A%E4%B9%89%E5%92%8C%E4%BD%BF%E7%94%A8">2 结构体定义和使用</h2> 
<p>语法：struct 结构体名 { 结构体成员列表 };</p> 
<p>通过结构体创建变量的方式有三种：</p> 
<p>○struct 结构体名 变量名</p> 
<p>○struct 结构体名 变量名 = { 成员1值, 成员2值...}</p> 
<p>○定义结构体时顺便创建变量</p> 
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;
#include&lt;string&gt;


//1、创建学生数据类型：学生包括（姓名，年龄，分数）
//自定义数据类型，一些类型集合组成的一个类型
//语法 struct 类型名称 { 成员列表 }
struct Student
{
    //成员列表

    //姓名
    string name;
    //年龄
    int age;
    //分数
    int score;

}s3;

//2、通过学生类型创建具体学生



int main(){
	
//2.1 struct Student s1
   
    struct Student s1;
    Student s1; //struct关键字可以省略
    //给s1属性赋值，通过.访问结构体变量中的属性
    s1.name = "张三";
    s1.age = 18;
    s1.score = 100;

    cout &lt;&lt; "姓名： " &lt;&lt; s1.name &lt;&lt; "年龄： " &lt;&lt; s1.age &lt;&lt; "分数： " &lt;&lt; s1.score &lt;&lt; endl;

//2.2 struct Student s2 = { ... }
    struct Student s2 = { "李四" , 19 , 80 };
    cout &lt;&lt; "姓名： " &lt;&lt; s1.name &lt;&lt; "年龄： " &lt;&lt; s1.age &lt;&lt; "分数： " &lt;&lt; s1.score &lt;&lt; endl;

//2.3 在定义结构体时顺便创建结构体变量
    
    s3.name = "王五";
    s3.age = 20;
    s3.score = 100;
    cout &lt;&lt; "姓名： " &lt;&lt; s1.name &lt;&lt; "年龄： " &lt;&lt; s1.age &lt;&lt; "分数： " &lt;&lt; s1.score &lt;&lt; endl;


    system("pause");

    return 0;
}
</code></pre> 
<p></p> 
<h2 id="3%20%E7%BB%93%E6%9E%84%E4%BD%93%E6%95%B0%E7%BB%84">3 结构体数组</h2> 
<p>作用：将自定义的结构体放入到数组中方便维护</p> 
<p>语法：struct 结构体名 数组名[元素个数] = { {}, {} , ... {} }</p> 
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;

//结构体数组
//1、定义结构体
struct Student
{
    //姓名
    string name;
    //年龄
    int age;
    //分数
    int score;
};

int main(){
	
//2、创建结构体数组
    struct Student stuArray[3] = 
    {
        {"张三", 18, 100},
        {"李四", 28, 99},
        {"王五", 38, 66}
    };

//3、给结构体数组中的元素赋值
    stuArray[2].name = "赵六";
    stuArray[2].age = 80;
    stuArray[2].score = 60;

//4、遍历结构体数组
    for ( int i = 0; i &lt; 3; i++)
    {
        cout &lt;&lt; "姓名: " &lt;&lt; stuArray[i].name 
             &lt;&lt; "年龄：" &lt;&lt; stuArray[i].age 
             &lt;&lt; "分数：" &lt;&lt; stuArray[i].score &lt;&lt; endl;
    }

    system("pause");

    return 0;
}
</code></pre> 
<p></p> 
<h2 id="4%20%E7%BB%93%E6%9E%84%E4%BD%93%E6%8C%87%E9%92%88">4 结构体指针</h2> 
<p>作用：通过指针访问结构体中的成员</p> 
<p>○ 利用操作符 -&gt; 可以通过结构体指针访问结构体属性</p> 
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;

//结构体指针

//定义学生结构体
struct student
{
    string name; // 姓名
    int age; //年龄
    int score; //分数
};

int main(){
	
    //1、创建学生结构体变量
    struct student s = {"张三", 18 , 100};

    //2、通过指针指向结构体变量
    struct student * p = &amp;s;

    //3、通过指针访问结构体变量中的数据
    //通过结构体指针 访问结构体中的属性，需要利用' -&gt; '
    cout &lt;&lt; "姓名： " &lt;&lt; p-&gt;name 
         &lt;&lt; "年龄： " &lt;&lt; p-&gt;age 
         &lt;&lt; "分数： " &lt;&lt; p-&gt;score &lt;&lt; endl; 

    system("pause");

    return 0;
}
</code></pre> 
<p></p> 
<h2 id="5%20%E7%BB%93%E6%9E%84%E4%BD%93%E5%B5%8C%E5%A5%97%E7%BB%93%E6%9E%84%E4%BD%93">5 结构体嵌套结构体</h2> 
<p>作用：结构体中的成员可以是另一个结构体</p> 
<p>例如：每个老师辅导一个学员，一个老师的结构体中，记录一个学生的结构体</p> 
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;
#include &lt;string&gt;

//定义学生结构体
struct student
{
    string name; //姓名
    int age; //年龄
    int score; //分数
};

//定义老师结构体
struct teacher
{
    int id; // 教师编号
    string name; // 教师姓名
    int age; //年龄
    struct student stu; //辅导的学生
};

int main(){
	
    //结构体嵌套结构体
    //创建老师
    teacher t;
    t.id = 10000;
    t.name = "老王";
    t.age = 50;
    t.stu.name = "小王";
    t.stu.age = 20;
    t.stu.score = 60;

    cout &lt;&lt; "老师姓名： " &lt;&lt; t.name
         &lt;&lt; "老师编号： " &lt;&lt; t.id
         &lt;&lt; "老师年龄： " &lt;&lt; t.age
         &lt;&lt; "老师辅导的学生姓名：" &lt;&lt; t.stu.name 
         &lt;&lt; "学生年龄：" &lt;&lt; t.stu.age
         &lt;&lt; "学生考试分数为： " &lt;&lt; t.stu.score &lt;&lt; endl ;

    system("pause");

    return 0;
}
</code></pre> 
<p></p> 
<h2 id="6%20%E7%BB%93%E6%9E%84%E4%BD%93%E5%81%9A%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0">6 结构体做函数参数</h2> 
<p>作用：将结构体作为参数向函数中传递</p> 
<p>传递方式有两种：</p> 
<p>○ 值传递</p> 
<p>○ 地址传递</p> 
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;
#include &lt;string&gt;


//定义学生结构体
struct student
{
    //姓名
    string name;
    //年龄
    int age;
    //分数
    int score;
};

//打印学生信息函数
//1、值传递
void printStudent1(struct student s)
{
    s.age = 100;
    cout &lt;&lt; "子函数中 姓名： " &lt;&lt; s.name &lt;&lt; " 年龄： " &lt;&lt; s.age &lt;&lt; " 分数： " &lt;&lt; s.score &lt;&lt; endl;
}

//2、地址传递
void printStudent2(struct student * p)
{
    p-&gt;age = 200; 
    cout &lt;&lt; "子函数中 姓名： " &lt;&lt; p-&gt;name  &lt;&lt; " 年龄： " &lt;&lt; p-&gt;age &lt;&lt; " 分数： " &lt;&lt; p-&gt;score &lt;&lt; endl;
}

int main(){
	
    //结构体做函数参数
    //将学生传入到一个参数中，打印学生身上的所有信息

    //创建结构体变量
    student s;
    s.name = "张三";
    s.age = 20;
    s.score = 85;

    printStudent1(s)
    printStudent2(&amp;s)
    cout &lt;&lt; "main函数中打印 姓名: " &lt;&lt; s.name 
          &lt;&lt; " 年龄： " &lt;&lt; s.age
          &lt;&lt; " 分数： " &lt;&lt; s.score 
    
    system("pause");

    return 0;
}
</code></pre> 
<p>总结：如果不行修改主函数中的数据，用值传递，反之用地址传递</p> 
<p></p> 
<h2 id="7%20%E7%BB%93%E6%9E%84%E4%BD%93%E4%B8%AD%20const%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF">7 结构体中 const使用场景</h2> 
<p>作用：用const来防止误操作</p> 
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;
#include &lt;string&gt;

//const的使用场景

struct student
{
    //姓名
    string name;
    //年龄    
    int age;
    //分数
    int score;
};

//将函数中的形参改为指针，可以减少内存空间，而且不会赋值新的副本出来
void printStudents(const student *s)
{
    //s-&gt;age = 150; //加入const之后，一旦有修改的操作就会报错，可以防止我们的误操作
    cout &lt;&lt; "姓名： " &lt;&lt; s-&gt;name &lt;&lt; "年龄： " &lt;&lt; s-&gt;age &lt;&lt; "分数： " &lt;&lt; s-&gt;score &lt;&lt; endl;
}

int main(){
	
    //创建结构体变量
    struct student s = {"张三", 15, 70};
    
    //通过函数打印结构体变量信息
    printStudents(&amp;s);

    system("pause");

    return 0;
}
</code></pre> 
<p></p> 
<h2 id="8%20%E7%BB%93%E6%9E%84%E4%BD%93%E6%A1%88%E4%BE%8B">8 结构体案例</h2> 
<p>案例描述：学校正在做毕设项目，每名老师带领5个学生，总共有3名老师，需求如下：</p> 
<p>设计学生和老师的结构体，其中在老师的结构体中，有老师姓名和一个存放5名学生的数组作为成员</p> 
<p>学生的成员有姓名、考试分数，创建数组存放3名老师，通过函数给每个老师及所带的学生赋值</p> 
<p>最终打印出老师数据以及老师所带的学生数据</p> 
<pre><code class="language-cpp">#include &lt;iostream&gt;
using namespace std;
#include &lt;string&gt;
#include &lt;ctime&gt;

//学生的结构体
struct Student
{
    //姓名
    string sName;
    //分数
    int score;
};

//老师的结构体定义
struct Teacher
{
    //姓名
    string tName;
    //学生数组
    struct Student sArray[5];
};

//给老师和学生赋值的函数
void allocateSpace(struct Teacher tArray[], int len)
{
    string nameSeed = "ABCDE";
    //给老师开始赋值
    for(int i = 0; i &lt; len; i++)
    {
        tArray[i].tName = "Teacher_";
        tArray[i].tName += nameSeed[i];

        //通过循环给每名老师所带的学生赋值
        for(int j = 0; j &lt; 5; j++)
        {
            tArray[i].sArray[j].sName = "Student_";
            tArray[i].sArray[j].sName += nameSeed[j];
            
            int random = rand() % 60 + 40;//40~99
            tArray[i].sArray[j].score = random ;
        }
    
    }

}

//打印所有信息
void printInfo(struct Teacher tArray[],int len)
{
    for (int i = 0; i &lt; len; i++)
    {
        cout &lt;&lt; "老师姓名： " &lt;&lt; tArray[i].tName &lt;&lt; endl;
        
        for (int j = 0; j &lt; 5; j++)
        {
            cout &lt;&lt; "\t学生姓名： " &lt;&lt; tArray[i].sArray[j].sName 
                 &lt;&lt; " 考试分数： " &lt;&lt; tArray[i].sArray[j].score &lt;&lt; endl;
        }
    }
}

int main(){
	
    //随机数种子
    srand((unsigned int)time(NULL));

    //1、创建3名老师的数组
    struct Teacher tArray[3];

    //2、通过函数给3名老师的信息赋值，并给老师带的学生信息赋值
    int len = sizeof(tArray)/sizeof(tArray[0]);
    //此时为地址传递，传递的是数组名即数组首地址
    allocateSpace(tArray,len);

    //3、打印所有老师所带的学生信息
    printInfo(tArray,len);    

    system("pause");

    return 0;
}
</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e9620baffa4872b0b691a04edca2e3ff/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JavaScript也可以制作颜色拾取工具了</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/783aec7f184c957d5f51da14800270ff/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Linux学习之路--基础命令（2）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>