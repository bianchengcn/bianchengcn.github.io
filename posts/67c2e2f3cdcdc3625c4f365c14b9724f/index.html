<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【PyQt学习篇 · ⑩】：QAbstractButton的使用 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【PyQt学习篇 · ⑩】：QAbstractButton的使用" />
<meta property="og:description" content="文章目录 QAbstractButton简介子类化抽象类图标设置快捷键设置自动重复状态设置排他性点击设置点击有效区域可用信号 QAbstractButton简介 QAbstractButton 是一个抽象类，无法直接实例化，但它提供了很多在 PyQt 中使用按钮时常用的功能和特性。开发人员可以通过继承 QAbstractButton 类并实现自定义行为来创建自己的按钮类。
子类化抽象类 在 PyQt 中，可以通过子类化 QAbstractButton 的抽象类来创建自定义的按钮类。通过子类化，可以根据需要扩展和重写 QAbstractButton 的功能，并实现自定义的按钮行为。
如以下代码：
btu = QAbstractButton(window) btu.setText(&#39;按钮&#39;) 结果：
当我们实例化一个QAbstractButton对象时发生错误，原因就是C&#43;&#43;的抽象类无法直接被实例化，而应该去子类化一个类，也就是写一个继承自QAbstractButton的类才可以。
再看以下代码：
class Btu(QAbstractButton): pass btu = Btu(window) btu.setText(&#39;按钮&#39;) 结果：
当我们想子类化抽象类时，必须要实现抽象类里面的所有抽象方法，即根据以上报错信息，我们必须要实现绘制事件paintEvent这样一个方法。
示例代码：
from PyQt5.Qt import * import sys class Btu(QAbstractButton): def paintEvent(self, evt): # 1. 创建一个画家 painter = QPainter(self) # 2. 创建一支笔 QColor(RGB, 笔的宽度) pen = QPen(QColor(111, 100, 50), 3) # 3. 设置笔 painter.setPen(pen) # 4. 画家画 painter." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/67c2e2f3cdcdc3625c4f365c14b9724f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-03T16:56:51+08:00" />
<meta property="article:modified_time" content="2023-11-03T16:56:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【PyQt学习篇 · ⑩】：QAbstractButton的使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#QAbstractButton_1" rel="nofollow">QAbstractButton简介</a></li><li><a href="#_3" rel="nofollow">子类化抽象类</a></li><li><a href="#_73" rel="nofollow">图标设置</a></li><li><a href="#_129" rel="nofollow">快捷键设置</a></li><li><a href="#_198" rel="nofollow">自动重复</a></li><li><a href="#_269" rel="nofollow">状态设置</a></li><li><a href="#_415" rel="nofollow">排他性</a></li><li><a href="#_461" rel="nofollow">点击</a></li><li><a href="#_508" rel="nofollow">设置点击有效区域</a></li><li><a href="#_561" rel="nofollow">可用信号</a></li></ul> 
</div> 
<p></p> 
<h2><a id="QAbstractButton_1"></a>QAbstractButton简介</h2> 
<p>QAbstractButton 是一个抽象类，无法直接实例化，但它提供了很多在 PyQt 中使用按钮时常用的功能和特性。开发人员可以通过继承 QAbstractButton 类并实现自定义行为来创建自己的按钮类。</p> 
<h2><a id="_3"></a>子类化抽象类</h2> 
<p>在 PyQt 中，可以通过子类化 QAbstractButton 的抽象类来创建自定义的按钮类。通过子类化，可以根据需要扩展和重写 QAbstractButton 的功能，并实现自定义的按钮行为。</p> 
<p>如以下代码：</p> 
<pre><code class="prism language-python">btu <span class="token operator">=</span> QAbstractButton<span class="token punctuation">(</span>window<span class="token punctuation">)</span>
btu<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">'按钮'</span><span class="token punctuation">)</span>
</code></pre> 
<p>结果：</p> 
<p><img src="https://images2.imgbox.com/87/61/wpG0kntw_o.png" alt="在这里插入图片描述"><br> 当我们实例化一个QAbstractButton对象时发生错误，原因就是C++的抽象类无法直接被实例化，而应该去子类化一个类，也就是写一个继承自QAbstractButton的类才可以。</p> 
<p>再看以下代码：</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Btu</span><span class="token punctuation">(</span>QAbstractButton<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>
btu <span class="token operator">=</span> Btu<span class="token punctuation">(</span>window<span class="token punctuation">)</span>
btu<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">'按钮'</span><span class="token punctuation">)</span>
</code></pre> 
<p>结果：</p> 
<p><img src="https://images2.imgbox.com/ba/f7/uyX4uZqM_o.png" alt="在这里插入图片描述"><br> 当我们想子类化抽象类时，必须要实现抽象类里面的所有抽象方法，即根据以上报错信息，我们必须要实现绘制事件<code>paintEvent</code>这样一个方法。</p> 
<p><strong>示例代码：</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>Qt <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">import</span> sys


<span class="token keyword">class</span> <span class="token class-name">Btu</span><span class="token punctuation">(</span>QAbstractButton<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">paintEvent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> evt<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 1. 创建一个画家</span>
        painter <span class="token operator">=</span> QPainter<span class="token punctuation">(</span>self<span class="token punctuation">)</span>

        <span class="token comment"># 2. 创建一支笔 QColor(RGB, 笔的宽度)</span>
        pen <span class="token operator">=</span> QPen<span class="token punctuation">(</span>QColor<span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>

        <span class="token comment"># 3. 设置笔</span>
        painter<span class="token punctuation">.</span>setPen<span class="token punctuation">(</span>pen<span class="token punctuation">)</span>

        <span class="token comment"># 4. 画家画</span>
        painter<span class="token punctuation">.</span>drawText<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> self<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment"># 画个圆形（长方体的内切圆）</span>
        painter<span class="token punctuation">.</span>drawEllipse<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    window <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>

    btu <span class="token operator">=</span> Btu<span class="token punctuation">(</span>window<span class="token punctuation">)</span>
    btu<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">'按钮'</span><span class="token punctuation">)</span>
    btu<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    btu<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    btu<span class="token punctuation">.</span>pressed<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'按钮被按下'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果：</p> 
<p><img src="https://images2.imgbox.com/e0/a6/6qGGquL5_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/15/b5/lrN593Xw_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_73"></a>图标设置</h2> 
<p>下面是关于 QAbstractButton 图标设置的一些重要 API 的说明：</p> 
<ol><li> <p><code>setIcon(QIcon("resource/h1.png"))</code>：</p> 
  <ul><li>这个方法用于设置按钮的图标。它接受一个 QIcon 参数，表示要在按钮上显示的图标。</li></ul> </li><li> <p><code>setIconSize(QSize(w, h))</code>：</p> 
  <ul><li>这个方法用于设置按钮图标的大小。它接受一个 QSize 参数，指定图标的宽度（w）和高度（h）。</li></ul> </li><li> <p><code>icon()</code>：</p> 
  <ul><li>这个方法用于获取当前按钮的图标。</li></ul> </li><li> <p><code>iconSize()</code>：</p> 
  <ul><li>这个方法用于获取按钮图标的大小。</li></ul> </li></ol> 
<p>以上API的使用示例代码：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>Qt <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QIcon
<span class="token keyword">import</span> sys

<span class="token keyword">class</span> <span class="token class-name">Btu</span><span class="token punctuation">(</span>QPushButton<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
        <span class="token comment"># 设置图标</span>
        self<span class="token punctuation">.</span>setIcon<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span><span class="token string">'mouse.png'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># 设置图标大小</span>
        self<span class="token punctuation">.</span>setIconSize<span class="token punctuation">(</span>QSize<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment"># 点击鼠标，数值+1</span>
        self<span class="token punctuation">.</span>pressed<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>icon<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 获取当前按钮的图标并打印</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>iconSize<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 获取按钮图标的大小并打印</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    window <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'图标设置'</span><span class="token punctuation">)</span>

    btu <span class="token operator">=</span> Btu<span class="token punctuation">(</span>window<span class="token punctuation">)</span>

    window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果：</p> 
<p><img src="https://images2.imgbox.com/05/1a/wVxmq7Gp_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/cf/6f/ZrkUnxbc_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_129"></a>快捷键设置</h2> 
<p>可通过指定的快捷键，触发按钮的点击。</p> 
<ul><li>方式一：有提示文本的。如果提示文本包含<code>&amp;</code>符号的，则QAbstractButton会自动创建快捷键。</li><li>方式二：没有提示文本的。<code>setShortcut("Alt+G")</code></li></ul> 
<p><strong>方式一的示例代码：</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>Qt <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QIcon
<span class="token keyword">import</span> sys


<span class="token keyword">class</span> <span class="token class-name">Btu</span><span class="token punctuation">(</span>QPushButton<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">'a&amp;bc'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>

        <span class="token comment"># 设置图标</span>
        self<span class="token punctuation">.</span>setIcon<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span><span class="token string">'mouse.png'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># 设置图标大小</span>
        self<span class="token punctuation">.</span>setIconSize<span class="token punctuation">(</span>QSize<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>pressed<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'按钮被按下'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    window <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'快捷键设置'</span><span class="token punctuation">)</span>

    btu <span class="token operator">=</span> Btu<span class="token punctuation">(</span>window<span class="token punctuation">)</span>

    window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果：</p> 
<p><img src="https://images2.imgbox.com/60/0d/zgdUzHN4_o.png" alt="在这里插入图片描述"><br> 按下“Alt+b”后</p> 
<p><img src="https://images2.imgbox.com/28/39/pfybO4Nl_o.png" alt="在这里插入图片描述"><br> <strong>方式二示例代码：</strong></p> 
<p>修改方式一中<code>Btu</code>类中的代码：</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Btu</span><span class="token punctuation">(</span>QPushButton<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setShortcut<span class="token punctuation">(</span><span class="token string">"Alt+a"</span><span class="token punctuation">)</span>
        <span class="token comment"># 设置图标</span>
        self<span class="token punctuation">.</span>setIcon<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span><span class="token string">'mouse.png'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># 设置图标大小</span>
        self<span class="token punctuation">.</span>setIconSize<span class="token punctuation">(</span>QSize<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>pressed<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'按钮被按下'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果：</p> 
<p><img src="https://images2.imgbox.com/4c/e1/GuZV8qgd_o.png" alt="在这里插入图片描述"><br> 按下“Alt+b”后</p> 
<p><img src="https://images2.imgbox.com/ca/dd/xIyVAnPO_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_198"></a>自动重复</h2> 
<p>自动重复功能允许按钮在按下并保持按压状态时重复执行其操作。以下是关于 QAbstractButton 自动重复的一些重要 API 的说明：</p> 
<ol><li><code>setAutoRepeat(bool)</code>： 
  <ul><li>这个方法用于设置按钮的自动重复功能是否启用。它接受一个布尔值参数，如果为 True，表示启用自动重复；如果为 False，表示禁用自动重复。</li></ul> </li><li><code>setAutoRepeatInterval(毫秒)</code>： 
  <ul><li>这个方法用于设置按钮自动重复的时间间隔。它接受一个整数参数，表示按下按钮后的重复时间间隔，单位为毫秒。</li><li>默认情况下，按钮的自动重复时间间隔为 1000 毫秒（即 1 秒）。</li></ul> </li><li><code>setAutoRepeatDelay(毫秒)</code>： 
  <ul><li>这个方法用于设置按钮自动重复的延迟时间。它接受一个整数参数，表示按下按钮后开始重复之前的延迟时间，单位为毫秒。</li><li>默认情况下，按钮的自动重复延迟时间为 500 毫秒。</li></ul> </li><li><code>autoRepeat()</code>： 
  <ul><li>这个方法用于检查按钮的自动重复功能是否启用。如果按钮启用了自动重复，它将返回 True；否则返回 False。</li></ul> </li><li><code>autoRepeatInterval()</code>： 
  <ul><li>这个方法用于获取按钮的自动重复时间间隔，以毫秒为单位。</li></ul> </li><li><code>autoRepeatDelay()</code>： 
  <ul><li>这个方法用于获取按钮的自动重复延迟时间，以毫秒为单位。</li></ul> </li></ol> 
<p>示例代码：<br> 当点击按钮不松时，按钮文本数字连续累增。</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>Qt <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QIcon
<span class="token keyword">import</span> sys


<span class="token keyword">class</span> <span class="token class-name">Btu</span><span class="token punctuation">(</span>QPushButton<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>

        <span class="token comment"># 设置图标</span>
        self<span class="token punctuation">.</span>setIcon<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span><span class="token string">'mouse.png'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token comment"># 设置图标大小</span>
        self<span class="token punctuation">.</span>setIconSize<span class="token punctuation">(</span>QSize<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>pressed<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> self<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    window <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'自动回复'</span><span class="token punctuation">)</span>

    btu <span class="token operator">=</span> Btu<span class="token punctuation">(</span>window<span class="token punctuation">)</span>

    <span class="token comment"># 设置自动回复</span>
    btu<span class="token punctuation">.</span>setAutoRepeat<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    <span class="token comment"># 设置自动重复的时间间隔</span>
    btu<span class="token punctuation">.</span>setAutoRepeatInterval<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span>     <span class="token comment"># 1000毫秒</span>
    <span class="token comment"># 设置自动重复的延迟时间</span>
    btu<span class="token punctuation">.</span>setAutoRepeatDelay<span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span>    <span class="token comment"># 3000毫秒</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span>btu<span class="token punctuation">.</span>autoRepeat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>btu<span class="token punctuation">.</span>autoRepeatInterval<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>btu<span class="token punctuation">.</span>autoRepeatDelay<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre> 
<p>运行结果：</p> 
<p><img src="https://images2.imgbox.com/e8/93/py5sjvIG_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/89/c7/WTJi8bHG_o.png" alt="在这里插入图片描述"><br> 当鼠标一直按下按钮，过了三秒后，每隔一秒就会重复鼠标按下事件，于是数值每隔一秒后自增一。</p> 
<h2><a id="_269"></a>状态设置</h2> 
<p>QAbstractButton 是 PyQt5 中的一个按钮类，它提供了一些方法用于设置按钮的状态。以下是关于 QAbstractButton 状态设置的一些重要 API 的说明：</p> 
<ol><li> <p><code>isDown()</code>：</p> 
  <ul><li>这个方法用于设置按钮是否处于按下状态（本质上，它是一种“按下”的效果，因为按钮通常是矩形区域，我们不能真的看到按钮被按下）。</li><li>如果按钮被按下了，则返回 True；否则返回 False。</li><li><code>setDown(bool)</code> 方法用于设置按钮是否处于按下状态，接受一个布尔值参数，如果为 True，表示按钮被按下了，否则表示按钮未被按下。</li></ul> </li><li> <p><code>isChecked()</code>：</p> 
  <ul><li>这个方法用于设置按钮是否处于选中状态。</li><li>如果按钮被选中了，则返回 True；否则返回 False。</li><li><code>setCheckable(bool)</code> 方法用于设置按钮是否可以被选中，接受一个布尔值参数，如果为 True，表示按钮可以被选中；否则表示按钮不可被选中。</li><li><code>toggle()</code> 方法用于切换按钮的选中状态，如果按钮原来被选中，则调用 <code>toggle()</code> 后会取消选中；如果原来没被选中，则 <code>toggle()</code> 后会将其设置为被选中状态。</li></ul> </li><li> <p><code>isEnabled()</code> 和 <code>setEnabled(bool)</code>：</p> 
  <ul><li><code>isEnabled()</code> 方法用于检查按钮是否处于可用状态。如果按钮可用，则返回 True；否则返回 False。</li><li><code>setEnabled(bool)</code> 方法用于设置按钮的可用状态。如果将参数设置为 True，表示按钮可用，否则表示按钮不可用。</li></ul> </li></ol> 
<p><strong>示例1代码：</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>Qt <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QIcon
<span class="token keyword">import</span> sys


<span class="token keyword">class</span> <span class="token class-name">Btu</span><span class="token punctuation">(</span>QPushButton<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setIcon<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span><span class="token string">'mouse.png'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setIconSize<span class="token punctuation">(</span>QSize<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>

    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    window <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'状态设置'</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>

    btu <span class="token operator">=</span> Btu<span class="token punctuation">(</span>window<span class="token punctuation">)</span>

    <span class="token comment"># 创建三个按钮</span>
    push_btu <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span>window<span class="token punctuation">)</span>
    push_btu<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">'这是一个按钮'</span><span class="token punctuation">)</span>
    push_btu<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>

    radio_btu <span class="token operator">=</span> QRadioButton<span class="token punctuation">(</span>window<span class="token punctuation">)</span>
    radio_btu<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">'这是一个radio'</span><span class="token punctuation">)</span>
    radio_btu<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

    checkbox_btu <span class="token operator">=</span> QCheckBox<span class="token punctuation">(</span>window<span class="token punctuation">)</span>
    checkbox_btu<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">'这是一个checkbox'</span><span class="token punctuation">)</span>
    checkbox_btu<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>

    <span class="token comment"># 把三个按钮，置为按下状态</span>
    push_btu<span class="token punctuation">.</span>setDown<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    radio_btu<span class="token punctuation">.</span>setDown<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    checkbox_btu<span class="token punctuation">.</span>setDown<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>


    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'是否被按下：'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>push_btu<span class="token punctuation">.</span>isDown<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>radio_btu<span class="token punctuation">.</span>isDown<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>checkbox_btu<span class="token punctuation">.</span>isDown<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'是否处于选中状态：'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>push_btu<span class="token punctuation">.</span>isChecked<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>radio_btu<span class="token punctuation">.</span>isChecked<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>checkbox_btu<span class="token punctuation">.</span>isChecked<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'是否可以被选中：'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>push_btu<span class="token punctuation">.</span>isCheckable<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>radio_btu<span class="token punctuation">.</span>isCheckable<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>checkbox_btu<span class="token punctuation">.</span>isCheckable<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果：</p> 
<p><img src="https://images2.imgbox.com/da/a4/HFje2fZI_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/39/8a/pn2YOIgY_o.png" alt="在这里插入图片描述"><br> <strong>示例2代码：</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>Qt <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QIcon
<span class="token keyword">import</span> sys


<span class="token keyword">class</span> <span class="token class-name">Btu</span><span class="token punctuation">(</span>QPushButton<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setIcon<span class="token punctuation">(</span>QIcon<span class="token punctuation">(</span><span class="token string">'mouse.png'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setIconSize<span class="token punctuation">(</span>QSize<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">change_type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    push_btu<span class="token punctuation">.</span>toggle<span class="token punctuation">(</span><span class="token punctuation">)</span>
    radio_btu<span class="token punctuation">.</span>toggle<span class="token punctuation">(</span><span class="token punctuation">)</span>
    checkbox_btu<span class="token punctuation">.</span>toggle<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>

    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    window <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'状态设置'</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>

    btu <span class="token operator">=</span> Btu<span class="token punctuation">(</span>window<span class="token punctuation">)</span>
    btu<span class="token punctuation">.</span>pressed<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>change_type<span class="token punctuation">)</span>
    <span class="token comment"># 创建三个按钮</span>
    push_btu <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span>window<span class="token punctuation">)</span>
    push_btu<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">'这是一个按钮'</span><span class="token punctuation">)</span>
    push_btu<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    push_btu<span class="token punctuation">.</span>setCheckable<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>     <span class="token comment"># 设置为可以被选中</span>

    radio_btu <span class="token operator">=</span> QRadioButton<span class="token punctuation">(</span>window<span class="token punctuation">)</span>
    radio_btu<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">'这是一个radio'</span><span class="token punctuation">)</span>
    radio_btu<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

    checkbox_btu <span class="token operator">=</span> QCheckBox<span class="token punctuation">(</span>window<span class="token punctuation">)</span>
    checkbox_btu<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">'这是一个checkbox'</span><span class="token punctuation">)</span>
    checkbox_btu<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
    
    window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果：</p> 
<p><img src="https://images2.imgbox.com/0c/b0/OWfND1pL_o.png" alt="在这里插入图片描述"><br> <strong>示例3代码：</strong><br> 在示例2代码的基础上，设置三个按钮为不可用状态，观察其是否还可以切换状态。</p> 
<pre><code class="prism language-python">    push_btu<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    radio_btu<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    checkbox_btu<span class="token punctuation">.</span>setEnabled<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果：<br> 还是可以切换状态</p> 
<p><img src="https://images2.imgbox.com/9e/fa/jblngL1b_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_415"></a>排他性</h2> 
<p>以下是有关排他性的重要 API 的说明：</p> 
<ol><li><code>autoExclusive()</code> 和 <code>setAutoExclusive(bool)</code>： 
  <ul><li><code>autoExclusive()</code> 方法用于检查按钮是否启用了排他性。如果按钮启用了排他性，则返回 True；否则返回 False。</li><li><code>setAutoExclusive(bool)</code> 方法用于设置按钮是否启用排他性。如果参数设置为 True，表示启用按钮的排他性，即同一组中的按钮只能有一个处于选中状态；否则表示不启用排他性，即同一组中的按钮可以同时选中多个。</li></ul> </li></ol> 
<p>示例1代码：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>Qt <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">import</span> sys


app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

window <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'排他性'</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    btu <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span>window<span class="token punctuation">)</span>
    btu<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">'btu'</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
    btu<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">50</span><span class="token operator">*</span>i<span class="token punctuation">,</span> <span class="token number">50</span><span class="token operator">*</span>i<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>btu<span class="token punctuation">.</span>autoExclusive<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 打印三个按钮的排他性</span>
btu<span class="token punctuation">.</span>setCheckable<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>  <span class="token comment"># 设置三个按钮为可选中</span>

window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果：<br> 因为三个按钮排他性都为False，所以都可以被选中<br> <img src="https://images2.imgbox.com/3a/b6/M0ayXwRP_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/69/b1/9r1rAAVm_o.png" alt="在这里插入图片描述"></p> 
<p>示例2代码：</p> 
<pre><code class="prism language-python">btu<span class="token punctuation">.</span>setAutoExclusive<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>  <span class="token comment"># 设置排他性为True</span>
</code></pre> 
<p>运行结果：<br> 设置三个按钮的排他性为True后，只能选择其中一个按钮。</p> 
<p><img src="https://images2.imgbox.com/a8/54/KuzmFS5n_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f1/d2/A22PJ2UW_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_461"></a>点击</h2> 
<p>在 PyQt5 中，QAbstractButton 类提供了两个方法来处理按钮的点击事件。以下是有关点击事件的两个重要 API 的说明：</p> 
<ol><li><code>click()</code>： 
  <ul><li><code>click()</code> 方法用于手动触发按钮的点击事件。当程序调用该方法时，按钮将执行与点击事件相关的操作，就好像用户实际点击了按钮一样。</li></ul> </li><li><code>animateClick(ms)</code>： 
  <ul><li><code>animateClick(ms)</code> 方法用于模拟按钮的动画点击效果，即在一段时间内模拟按钮的按下和释放动作。该方法会触发按钮的点击事件，并在一定时间内呈现按钮按下和释放的效果。</li><li>参数 <code>ms</code> 表示动画点击的持续时间（以毫秒为单位）。在这段时间内，按钮会呈现按下状态，然后逐渐恢复到正常状态。</li></ul> </li></ol> 
<p>示例代码：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>Qt <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">import</span> sys


app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

window <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'点击'</span><span class="token punctuation">)</span>

btu <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span>window<span class="token punctuation">)</span>
btu<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">'按钮'</span><span class="token punctuation">)</span>
btu<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'点击了这个按钮'</span><span class="token punctuation">)</span>
btu<span class="token punctuation">.</span>pressed<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>text<span class="token punctuation">)</span>

btu<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment"># 模拟鼠标点击</span>

window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果：<br> 窗口出现后，模拟点击，进入槽函数，打印结果。</p> 
<p><img src="https://images2.imgbox.com/a9/48/fvm2uS6p_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/26/25/YxYk6DFi_o.png" alt="在这里插入图片描述"></p> 
<p>将以上代码中的 <code>btu.click()</code> 换成 <code>btu.animateClick(2000)</code> 后运行，在窗口出现后按钮被模拟点击2s，相当于按下按钮2s后再松开，展现一个按钮被点击的动画。</p> 
<p>运行结果：</p> 
<p><img src="https://images2.imgbox.com/6e/1f/crkvtMpz_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/8d/ef/lR2YqPSO_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_508"></a>设置点击有效区域</h2> 
<p>在 PyQt5 中，QAbstractButton 类提供了一个重写函数 <code>hitButton(QPoint)</code>，用于实现按钮的模拟点击。以下是 <code>hitButton(QPoint)</code> 的说明：</p> 
<ol><li><code>hitButton(QPoint)</code> 函数： 
  <ul><li><code>hitButton(QPoint)</code> 函数用于处理按钮的模拟点击事件。当用户在图形界面上模拟点击按钮时，该函数将被调用，并传入点击的坐标。</li><li>点击有效返回<code>True</code>，否则返回<code>False</code></li><li>参数 QPoint 表示点击的坐标，是一个包含 x 和 y 坐标值的 QPoint 对象，其中以按钮的左上角为坐标原点。</li></ul> </li></ol> 
<p>示例1代码：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>Qt <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">import</span> sys


<span class="token keyword">class</span> <span class="token class-name">Btu</span><span class="token punctuation">(</span>QPushButton<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">hitButton</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> point<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

    window <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'设置有效区域'</span><span class="token punctuation">)</span>

    btu <span class="token operator">=</span> Btu<span class="token punctuation">(</span>window<span class="token punctuation">)</span>
    btu<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">'点击'</span><span class="token punctuation">)</span>
    btu<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

    btu<span class="token punctuation">.</span>pressed<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'按钮被点击了'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果：<br> 点击按钮后槽函数并没有被执行，因为在<code>hitButton(self, point)</code>函数中返回了<code>False</code>，判定为本次点击无效。</p> 
<p><img src="https://images2.imgbox.com/f5/bf/ifWLn8Gy_o.png" alt="在这里插入图片描述"><br> 示例2代码：<br> 设置点击按钮左半部分无效，点击右半部分有效。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Btu</span><span class="token punctuation">(</span>QPushButton<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">hitButton</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> point<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>point<span class="token punctuation">)</span>
        <span class="token keyword">if</span> point<span class="token punctuation">.</span>x<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> self<span class="token punctuation">.</span>width<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
</code></pre> 
<p>运行结果：</p> 
<p><img src="https://images2.imgbox.com/3c/6c/fJ19Y6zT_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_561"></a>可用信号</h2> 
<p>在 PyQt5 中，QAbstractButton 类提供了多个可用信号，用于处理按钮被按下、释放、单击和切换等事件。以下是有关信号的四个重要 API 的说明：</p> 
<ol><li><code>pressed()</code>： 
  <ul><li><code>pressed()</code> 信号在按钮被按下时发出。对于鼠标事件，指鼠标按下左键并保持键盘状态的情况。</li></ul> </li><li><code>released()</code>： 
  <ul><li><code>released()</code> 信号在按钮被释放时发出。对于鼠标事件，指放开左键。</li></ul> </li><li><code>clicked(checked=false)</code>： 
  <ul><li><code>clicked(checked=false)</code> 信号在按钮被单击时发出。如果按钮是可切换的，则 checked 参数表示按钮状态是否已切换。</li><li>对于弹起事件，也会发出 clicked 信号。这意味着 clicked 信号发出时，不一定意味着按钮处于按下状态。</li></ul> </li><li><code>toggled(bool checked)</code>： 
  <ul><li><code>toggled(bool checked)</code> 信号在按钮的状态切换时发出。如果按钮未切换，则 checked 为 False；如果按钮已切换，则 checked 为 True。</li><li>这个信号只对可切换的按钮有效。</li></ul> </li></ol> 
<p>示例1代码：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>Qt <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">import</span> sys


app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

window <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'可用信号'</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>

btu <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span>window<span class="token punctuation">)</span>
btu<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
btu<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">'点击'</span><span class="token punctuation">)</span>

btu<span class="token punctuation">.</span>pressed<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'按钮被按下了'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
btu<span class="token punctuation">.</span>released<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'按钮被释放了'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果：</p> 
<p><img src="https://images2.imgbox.com/aa/6c/NTpwgTXe_o.png" alt="在这里插入图片描述"><br> 示例2代码：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> PyQt5<span class="token punctuation">.</span>Qt <span class="token keyword">import</span> <span class="token operator">*</span>
<span class="token keyword">import</span> sys

app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

window <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'可用信号'</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>

btu <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span>window<span class="token punctuation">)</span>
btu<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
btu<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">'点击'</span><span class="token punctuation">)</span>

btu<span class="token punctuation">.</span>toggled<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span> value<span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'按钮选中状态发生了改变'</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span>

window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果：<br> 点击按钮后没有任何打印结果</p> 
<p><img src="https://images2.imgbox.com/e0/be/sowlPOHv_o.png" alt="在这里插入图片描述"><br> 在示例2中加入以下代码：<br> 设置按钮为可选状态</p> 
<pre><code class="prism language-python">btu<span class="token punctuation">.</span>setCheckable<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果：</p> 
<p><img src="https://images2.imgbox.com/78/1e/UlaoGNt6_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/60f2b2b71964636f2072acacfccaa8f3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">宝塔面板强制安装 MySQL8.0</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ce5744a40b27c8ebafffa8362bd3c652/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Breakpad在Windows，Linux双平台编译、集成以及dump文件的分析</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>