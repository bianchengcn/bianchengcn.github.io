<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>常见web漏洞原理，危害，防御方法_常见web漏洞原理及危害和防御方法 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="常见web漏洞原理，危害，防御方法_常见web漏洞原理及危害和防御方法" />
<meta property="og:description" content="一 暴力破解 --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 概述：
在web攻击中，一般会使用这种手段对应用系统的认证信息进行获取。 其过程就是使用大量的认证信息在认证接口进行尝试登录，直到得到正确的结果。 为了提高效率，暴力破解一般会使用带有字典的工具来进行自动化操作。
危害：
用户密码被重置，敏感目录.参数被枚举
防御方法：
1.要求用户使用高强度密码
2.使用安全的验证码
3.对尝试登录的行为进行判断和限制
4.采用双因素认证
二 xss跨站脚本攻击 概述：
分为反射型，存储型，DOM型
反射型，存储型，DOM型区别：
反射型和DOM型没有持久性，而存储型是存储在服务器上，具有持久性；
反射型和DOM型是由浏览器解析，存储型由服务器解析
原理：
程序对输入和输出没有做合适的处理，导致精心构造的字符输出在前端时被浏览器中当做有效代码解析来执行
危害：
(1)钓鱼欺骗：利用目标网站的反射型跨站脚本漏洞将目标网站重定向到钓鱼网站，或者注入钓鱼JavaScript以监控目标网站的表单输入，甚至发起基于DHTML更高级的钓鱼攻击方式。
(2)网站挂马：跨站时利用IFrame嵌入隐藏的恶意网站或者将被攻击者定向到恶意网站上，或者弹出恶意网站窗口等方式都可以进行挂马攻击。
(3)身份盗用：Cookie是用户对于特定网站的身份验证标志，XSS可以盗取到用户的Cookie，从而利用该Cookie盗取用户对该网站的操作权限，如果一个网站管理员用户Cookie被窃取，将会对网站引发巨大的危害。
(4)盗取网站用户信息：当能够窃取到用户Cookie从而获取到用户身份，攻击者可以获得到用户对网站的操作权限，从而查看用户隐私信息。
防御手段：
输入过滤和输出转义
第一、在输入方面对所有用户提交内容进行可靠的输入验证，提交内容包括 URL、查询关键字、http 头、post 数据等。
第二、在输出方面，在用户输内容中使用 标签。标签内的内容不会解释，直接显示。
第三、严格执行字符输入字数控制。
四、在脚本执行区中，应绝无用户输入。
三CSRF跨站请求伪造 概述：
在CSRF的攻击场景中攻击者会伪造一个请求（这个请求一般是一个链接），然后欺骗目标用户进行点击，用户一旦点击了这个请求，整个攻击就完成了
原理：
简单的身份验证仅仅能保证请求发自某个用户的浏览器，却不能保证请求本身是用户自愿发出的。
危害：盗用受害者身份
防御措施：
–对敏感信息的操作增加安全的token；
–对敏感信息的操作增加安全的验证码；
–对敏感信息的操作实施安全的逻辑流程，比如修改密码时，需要先校验旧密码等
四 SQL注入 原理：
没有对用户输入内容的合法性做出严格的过滤和判断，导致用户输入的内容当做sql语句执行
危害：
（1）攻击者未经授权可以访问数据库中的数据，盗取用户的隐私以及个人信息，造成用户的信息泄露。
（2）可以对数据库的数据进行增加或删除操作，例如私自添加或删除管理员账号。
（3）如果网站目录存在写入权限，可以写入网页木马。攻击者进而可以对网页进行篡改，发布一些违法信息等。
（4）经过提权等步骤，服务器最高权限被攻击者获取。攻击者可以远程控制服务器，安装后门，得以修改或控制操作系统。
防御措施：
（1)基于攻击特征的匹配过滤。这是目前使用最为广泛的方式，系统会将攻击特征做成数据库，一旦匹配到这些攻击特征就会认定检测到SQL注入。这种方式可以有效的过滤大部分SQL注入攻击，但是大大增加了程序的复杂度，同时可能影响到业务的正常查询。
（2)对用户输入进行转义。例如，常见的SQL注入语句中都含有“‘’”，通过转义将“‘’”转义为“/”，SQL注入语句就会达不到攻击者预期的执行效果，从而实现对SQL注入进行防御。
（3）数据类型进行严格定义，数据长度进行严格规定。比如查询数据库某条记录的id，定义它为整型，如果用户传来的数据不满足条件，要对数据进行过滤。数据长度也应该做严格限制，可以防止较长的SQL注入语句。
（4）严格限制网站访问数据库的权限。
（5）近几年来，随着机器学习与人工智能技术的火热，基于机器学习的检测SQL注入方法成为了新的研究方向。首先将样本SQL语句转换为特征向量集合，使用机器学习的方法进行训练，将得到的模型投入使用，利用训练的模型检测传入的数据是否包含恶意SQL注入。
（6）其他防御措施。例如，避免网站显示SQL执行出错信息，防止攻击者使用基于错误的方式进行注入；每个数据层编码统一，防止过滤模型被绕过等。
sql注入绕过waf方法：
a) 大小写绕过
大小写绕过用于只针对小写或大写的关键字匹配技术，正则表达式/express/i 大小写不敏感即无法绕过，这是最简单的绕过技术" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/c4ae26671eff9ebde494b5cb1b9e77f5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-16T17:21:11+08:00" />
<meta property="article:modified_time" content="2024-01-16T17:21:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">常见web漏洞原理，危害，防御方法_常见web漏洞原理及危害和防御方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <img src="https://images2.imgbox.com/4d/f5/2L6tWSSB_o.jpg"> 一 暴力破解 --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 
<p><strong>概述：</strong><br> 在web攻击中，一般会使用这种手段对应用系统的认证信息进行获取。 其过程就是使用大量的认证信息在认证接口进行尝试登录，直到得到正确的结果。 为了提高效率，暴力破解一般会使用带有字典的工具来进行自动化操作。<br> <strong>危害：</strong><br> 用户密码被重置，敏感目录.参数被枚举<br> <strong>防御方法：</strong><br> 1.要求用户使用高强度密码<br> 2.使用安全的验证码<br> 3.对尝试登录的行为进行判断和限制<br> 4.采用双因素认证</p> 
<h3><a id="_xss_15"></a>二 xss跨站脚本攻击</h3> 
<p><strong>概述：</strong><br> 分为反射型，存储型，DOM型<br> 反射型，存储型，DOM型区别：<br> 反射型和DOM型没有持久性，而存储型是存储在服务器上，具有持久性；<br> 反射型和DOM型是由浏览器解析，存储型由服务器解析<br> <strong>原理：</strong><br> 程序对输入和输出没有做合适的处理，导致精心构造的字符输出在前端时被浏览器中当做有效代码解析来执行<br> 危害：<br> (1)钓鱼欺骗：利用目标网站的反射型跨站脚本漏洞将目标网站重定向到钓鱼网站，或者注入钓鱼JavaScript以监控目标网站的表单输入，甚至发起基于DHTML更高级的钓鱼攻击方式。</p> 
<p>(2)网站挂马：跨站时利用IFrame嵌入隐藏的恶意网站或者将被攻击者定向到恶意网站上，或者弹出恶意网站窗口等方式都可以进行挂马攻击。</p> 
<p>(3)身份盗用：Cookie是用户对于特定网站的身份验证标志，XSS可以盗取到用户的Cookie，从而利用该Cookie盗取用户对该网站的操作权限，如果一个网站管理员用户Cookie被窃取，将会对网站引发巨大的危害。</p> 
<p>(4)盗取网站用户信息：当能够窃取到用户Cookie从而获取到用户身份，攻击者可以获得到用户对网站的操作权限，从而查看用户隐私信息。<br> <strong>防御手段</strong>：<br> 输入过滤和输出转义<br> 第一、在输入方面对所有用户提交内容进行可靠的输入验证，提交内容包括 URL、查询关键字、http 头、post 数据等。</p> 
<p>第二、在输出方面，在用户输内容中使用 标签。标签内的内容不会解释，直接显示。</p> 
<p>第三、严格执行字符输入字数控制。</p> 
<p>四、在脚本执行区中，应绝无用户输入。</p> 
<h3><a id="CSRF_43"></a>三CSRF跨站请求伪造</h3> 
<p><strong>概述：</strong><br> 在CSRF的攻击场景中攻击者会伪造一个请求（这个请求一般是一个链接），然后欺骗目标用户进行点击，用户一旦点击了这个请求，整个攻击就完成了<br> <strong>原理：</strong><br> 简单的身份验证仅仅能保证请求发自某个用户的浏览器，却不能保证请求本身是用户自愿发出的。<br> 危害：盗用受害者身份<br> <strong>防御措施：</strong><br> –对敏感信息的操作增加安全的token；<br> –对敏感信息的操作增加安全的验证码；<br> –对敏感信息的操作实施安全的逻辑流程，比如修改密码时，需要先校验旧密码等</p> 
<h3><a id="_SQL_56"></a>四 SQL注入</h3> 
<p><strong>原理：</strong><br> 没有对用户输入内容的合法性做出严格的过滤和判断，导致用户输入的内容当做sql语句执行<br> <strong>危害：</strong><br> （1）攻击者未经授权可以访问数据库中的数据，盗取用户的隐私以及个人信息，造成用户的信息泄露。<br> （2）可以对数据库的数据进行增加或删除操作，例如私自添加或删除管理员账号。<br> （3）如果网站目录存在写入权限，可以写入网页木马。攻击者进而可以对网页进行篡改，发布一些违法信息等。<br> （4）经过提权等步骤，服务器最高权限被攻击者获取。攻击者可以远程控制服务器，安装后门，得以修改或控制操作系统。<br> <strong>防御措施：</strong><br> （1)基于攻击特征的匹配过滤。这是目前使用最为广泛的方式，系统会将攻击特征做成数据库，一旦匹配到这些攻击特征就会认定检测到SQL注入。这种方式可以有效的过滤大部分SQL注入攻击，但是大大增加了程序的复杂度，同时可能影响到业务的正常查询。<br> （2)对用户输入进行转义。例如，常见的SQL注入语句中都含有“‘’”，通过转义将“‘’”转义为“/”，SQL注入语句就会达不到攻击者预期的执行效果，从而实现对SQL注入进行防御。<br> （3）数据类型进行严格定义，数据长度进行严格规定。比如查询数据库某条记录的id，定义它为整型，如果用户传来的数据不满足条件，要对数据进行过滤。数据长度也应该做严格限制，可以防止较长的SQL注入语句。<br> （4）严格限制网站访问数据库的权限。<br> （5）近几年来，随着机器学习与人工智能技术的火热，基于机器学习的检测SQL注入方法成为了新的研究方向。首先将样本SQL语句转换为特征向量集合，使用机器学习的方法进行训练，将得到的模型投入使用，利用训练的模型检测传入的数据是否包含恶意SQL注入。<br> （6）其他防御措施。例如，避免网站显示SQL执行出错信息，防止攻击者使用基于错误的方式进行注入；每个数据层编码统一，防止过滤模型被绕过等。<br> <strong>sql注入绕过waf方法：</strong><br> <strong>a) 大小写绕过</strong></p> 
<p>大小写绕过用于只针对小写或大写的关键字匹配技术，正则表达式/express/i 大小写不敏感即无法绕过，这是最简单的绕过技术</p> 
<p>举例：z.com/index.php?page_id=-15 uNIoN sELecT 1,2,3,4</p> 
<p>示例场景可能的情况为filter的规则里有对大小写转换的处理，但不是每个关键字或每种情况都有处理</p> 
<p><strong>b)替换关键字</strong></p> 
<p>这种情况下大小写转化无法绕过，而且正则表达式会替换或删除select、union这些关键字，如果只匹配一次就很容易绕过</p> 
<p>举例：z.com/index.php?page_id=-15 UNIunionON SELselectECT 1,2,3,4</p> 
<p>同样是很基础的技术，有些时候甚至构造得更复杂：SeLSeselectleCTecT，不建议对此抱太大期望</p> 
<p><strong>c)使用编码</strong></p> 
<p>1.URL编码</p> 
<p>在Chrome中输入一个连接，非保留字的字符浏览器会对其URL编码，如空格变为 、单引号’、左括号(、右括号)</p> 
<p>普通的URL编码可能无法实现绕过，还存在一种情况URL编码只进行了一次过滤，可以用两次编码绕过：page.php?id=1UNION 1,2,3,4…</p> 
<p>SELECT(extractvalue(0x3C613E61646D696E3C2F613E,0x2f61))</p> 
<p>示例代码中，前者是对单个字符十六进制编码，后者则是对整个字符串编码，使用上来说较少见一点</p> 
<p>3.Unicode编码</p> 
<p>Unicode有所谓的标准编码和非标准编码，假设我们用的utf-8为标准编码，那么西欧语系所使用的就是非标准编码了</p> 
<p>看一下常用的几个符号的一些Unicode编码：</p> 
<p>单引号: %u0027、%u02b9、%u02bc、%u02c8、%u2032、%uff07、�’、�、�</p> 
<p>空格：%u0020、%uff00、� 、�、�</p> 
<p>左括号：%u0028、%uff08、�(、�、�</p> 
<p>右括号：%u0029、%uff09、�)、�、�</p> 
<p>举例：?id=10�‘ AND 1=2#</p> 
<p>SELECT ‘Ä’=‘A’; #1</p> 
<p>两个示例中，前者利用双字节绕过，比如对单引号转义操作变成’，那么就变成了�’，�\构成了一个款字节即Unicode字节，单引号可以正常使用</p> 
<p>第二个示例使用的是两种不同编码的字符的比较，它们比较的结果可能是True或者False，关键在于Unicode编码种类繁多，基于黑名单的过滤器无法处理所以情况，从而实现绕过</p> 
<p>另外平时听得多一点的可能是utf-7的绕过，还有utf-16、utf-32的绕过，后者从成功的实现对google的绕过，有兴趣的朋友可以去了解下</p> 
<p>常见的编码当然还有二进制、八进制，它们不一定都派得上用场，但后面会提到使用二进制的例子</p> 
<p><strong>d) 使用注释</strong></p> 
<p>看一下常见的用于注释的符号有哪些：//, – , , #, --+,-- -, ;，–a</p> 
<p>1.普通注释</p> 
<p>举例：z.com/index.php?page_id=-15 UnIONSElecT 1,2,3,4</p> 
<p>'union�select pass from users#</p> 
<p>在构造得查询语句中插入注释，规避对空格的依赖或关键字识别;#、–+用于终结语句的查询</p> 
<p>2.内联注释</p> 
<p>相比普通注释，内联注释用的更多，它有一个特性/!**/只有MySQL能识别</p> 
<p>举例：index.php?page_id=-15 1,2,3</p> 
<p>?page_id=null all +1,2,3,4…</p> 
<p>两个示例中前者使用内联注释，后者还用到了普通注释。使用注释一个很有用的做法便是对关键字的拆分，要做到这一点后面讨论的特殊符号也能实现，当然前提是包括/、*在内的这些字符能正常使用</p> 
<p><strong>e)等价函数与命令</strong></p> 
<p>有些函数或命令因其关键字被检测出来而无法使用，但是在很多情况下可以使用与之等价或类似的代码替代其使用</p> 
<p>1.函数或变量</p> 
<p>hex()、bin() ==&gt; ascii()</p> 
<p>sleep() ==&gt;benchmark()</p> 
<p>concat_ws()==&gt;group_concat()</p> 
<p>mid()、substr() ==&gt; substring()</p> 
<p>@@user ==&gt; user()</p> 
<p>@@datadir ==&gt; datadir()</p> 
<p>举例：substring()和substr()无法使用时：?id=1+and+ascii(lower(mid((select+pwd+from+users+limit+1,1),1,1)))=74</p> 
<p>或者：substr((select ‘password’),1,1) = 0x70</p> 
<p>strcmp(left(‘password’,1), 0x69) = 1</p> 
<p>strcmp(left(‘password’,1), 0x70) = 0</p> 
<p>strcmp(left(‘password’,1), 0x71) = -1</p> 
<p>上述这几个示例用于说明有时候当某个函数不能使用时，还可以找到其他的函数替代其实现，置于select、uinon、where等关键字被限制如何处理将在后面filter部分讨论</p> 
<p>2.符号</p> 
<p>and和or有可能不能使用，或者可以试下&amp;&amp;和||能不能用；还有=不能使用的情况，可以考虑尝试&lt;、&gt;，因为如果不小于又不大于，那边是等于了</p> 
<p>在看一下用得多的空格，可以使用如下符号表示其作用： �</p> 
<p>3.生僻函数</p> 
<p>MySQL/PostgreSQL支持XML函数：Select UpdateXML(‘</p> 
<p>?id=1 and 1=(updatexml(1,concat(0x3a,(select user())),1))</p> 
<p>SELECT xmlelement(name img,xmlattributes(1as src,'a\l\x65rt(1)'as \117n\x65rror));　//postgresql</p> 
<p>?id=1 and extractvalue(1, concat(0x5c, (select table_name from information_schema.tables limit 1)));</p> 
<p>MySQL、PostgreSQL、Oracle它们都有许多自己的函数，基于黑名单的filter要想涵盖这么多东西从实际上来说不太可能，而且代价太大，看来黑名单技术到一定程度便遇到了限制</p> 
<p><strong>f) 特殊符号</strong></p> 
<p>这里我把非字母数字的字符都规在了特殊符号一类，特殊符号有特殊的含义和用法，涉及信息量比前面提到的几种都要多</p> 
<p>先看下乌云drops上“waf的绕过技巧”一文使用的几个例子：</p> 
<p>1.使用反引号<code>，例如select</code> version()`，可以用来过空格和正则，特殊情况下还可以将其做注释符用</p> 
<p>2.神奇的"-+."，select+id-1+1.from users; “+”是用于字符串连接的，”-”和”.”在此也用于连接，可以逃过空格和关键字过滤</p> 
<p>3.@符号，select@^1.from users; @用于变量定义如@var_name，一个@表示用户定义，@@表示系统变量</p> 
<p>4.Mysql function() as xxx 也可不用as和空格　　 select-count(id)test from users; //绕过空格限制</p> 
<p>可见，使用这些字符的确是能做很多事，也证实了那句老话，只有想不到，没有做不到</p> 
<p>本人搜罗了部分可能发挥大作用的字符(未包括’、*、/等在内，考虑到前面已经出现较多次了)：`、~、!、@、%、()、[]、.、-、+ 、|、</p> 
<p>举例：</p> 
<p>关键字拆分：‘se’+’lec’+’t’</p> 
<p>%S%E%L%E%C%T 1</p> 
<p>1.aspx?id=1;EXEC(‘ma’+'ster…x’+'p_cm’+'dsh’+'ell ”net user”’)</p> 
<p>!和()：’ or --+2=- -!!!'2</p> 
<p>id=1+(UnI)(oN)+(SeL)(EcT)　//另 Access中,”[]”用于表和列,”()”用于数值也可以做分隔</p> 
<p>本节最后在给出一些和这些字符多少有点关系的操作符供参考：</p> 
<blockquote> 
 <blockquote> 
  <p>, &lt;&lt;, &gt;=, &lt;=, &lt;&gt;,&lt;=&gt;,XOR, DIV, SOUNDS LIKE, RLIKE, REGEXP, IS, NOT, BETWEEN</p> 
 </blockquote> 
</blockquote> 
<p>使用这些"特殊符号"实现绕过是一件很细微的事情，一方面各家数据库对有效符号的处理是不一样的，另一方面你得充分了解这些符号的特性和使用方法才能作为绕过手段</p> 
<p><strong>g) HTTP参数控制</strong></p> 
<p>这里HTTP参数控制除了对查询语句的参数进行篡改，还包括HTTP方法、HTTP头的控制</p> 
<p>1.HPP(HTTP Parameter Polution)</p> 
<p>举例：/?id=1;select+1,2,3+from+users+where+id=1—</p> 
<p>/?id=1;select+1&amp;id=2,3+from+users+where+id=1—</p> 
<p>/?id=1unionselectpwdfromusers</p> 
<p>HPP又称做重复参数污染，最简单的就是?uid=1&amp;uid=2&amp;uid=3，对于这种情况，不同的Web服务器处理方式如下：</p> 
<p>具体WAF如何处理，要看其设置的规则，不过就示例中最后一个来看有较大可能绕过</p> 
<p>2.HPF(HTTP Parameter Fragment)</p> 
<p>这种方法是HTTP分割注入，同CRLF有相似之处(使用控制字符 、 等执行换行)</p> 
<p>举例：</p> 
<p>/?a=1+unionselect+1,passfrom+users–</p> 
<p>select * from table where a=1 unionselect 1,passfrom users—</p> 
<p>看罢上面两个示例，发现和HPP最后一个示例很像，不同之处在于参数不一样，这里是在不同的参数之间进行分割，到了数据库执行查询时再合并语句。</p> 
<p>3.HPC(HTTP Parameter Contamination)</p> 
<p>这一概念见于exploit-db上的paper：Beyond SQLi: Obfuscate and Bypass，Contamination同样意为污染</p> 
<p>RFC2396定义了如下一些字符：</p> 
<p>Unreserved: a-z, A-Z, 0-9 and _ . ! ~ * ’ ()<br> Reserved : ; / ? : @ &amp; = + $ ,<br> Unwise : { } | \ ^ [ ] `</p> 
<p>不同的Web服务器处理处理构造得特殊请求时有不同的逻辑：</p> 
<p>以魔术字符%为例，Asp/Asp.net会受到影响</p> 
<p><strong>h) 缓冲区溢出(Advanced)</strong></p> 
<p>缓冲区溢出用于对付WAF，有不少WAF是C语言写的，而C语言自身没有缓冲区保护机制，因此如果WAF在处理测试向量时超出了其缓冲区长度，就会引发bug从而实现绕过</p> 
<p>举例：</p> 
<p>?id=1 and (select 1)=(Select 0xA*1000)+UnIoN+SeLeCT+1,2,version(),4,5,database(),user(),8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26</p> 
<p>示例0xA*1000指0xA后面”A"重复1000次，一般来说对应用软件构成缓冲区溢出都需要较大的测试长度，这里1000只做参考，在某些情况下可能不需要这么长也能溢出</p> 
<p><strong>i) 整合绕过</strong></p> 
<p>整合的意思是结合使用前面谈到的各种绕过技术，单一的技术可能无法绕过过滤机制，但是多种技术的配合使用成功的可能性就会增加不少了。这一方面来说 是总体与局部和的关系，另一方面则是多种技术的使用创造了更多的可能性，除非每一种技术单独都无法使用，否则它们能产生比自身大得多的能量。</p> 
<h3><a id="XEE_290"></a>五XEE外部实体注入</h3> 
<p><strong>概述</strong>：<br> 攻击者通过向服务器注入指定的xml实体内容,从而让服务器按照指定的配置进行执行,导致问题<br> <strong>危害：</strong><br> 导致可加载恶意外部文件， 造成文件读取、 命令执行、 内网端口扫描、 攻击内网网站、 发起dos攻击等危害。<br> <strong>防御措施：</strong><br> 禁止使用外部实体，例如libxml disable_entity_loader(true) 。<br> 过滤用户提交的XML数据，防止出现非法内容。</p> 
<h3><a id="ssrf_301"></a>六ssrf服务器请求伪造</h3> 
<p><strong>原理</strong>：由于服务端提供了从其他服务器应用获取数据的功能,但又没有对目标地址做严格过滤与限制<br> 导致攻击者可以传入任意的地址来让后端服务器对其发起请求,并返回对该目标地址请求的数据<br> <strong>危害：</strong><br> @ 端口扫描</p> 
<p>@ 内网Web 应用指纹识别</p> 
<p>@ 攻击内网Web 应用</p> 
<p>@ 读取本地文件<br> <strong>防御措施：</strong><br> @ 限制协议</p> 
<p>仅允许http和https请求。</p> 
<p>@ 限制IP</p> 
<p>避免应用被用来获取内网数据，攻击内网。</p> 
<p>@ 限制端口</p> 
<p>限制请求的端口为http 常用的端口，例如80 443 8080 8090</p> 
<p>@ 过滤返回信息</p> 
<p>验证远程服务器对请求的响应是比较简单的方法。</p> 
<p>@ 统一错误信息</p> 
<p>避免用户可以根据错误信息来判断远端服务器的端口状态</p> 
<h3><a id="_335"></a>七、文件上传</h3> 
<p>文件上传漏洞<br> **概述：**攻击者上传了一个可执行文件如木马，病毒，恶意脚本，WebShell等到服务器执行，并最终获得网站控制权限的高危漏洞。<br> <strong>原理：</strong><br> 大部分的网站和应用系统都有上传功能，而程序员在开发任意文件上传功能时，并未考虑文件格式后缀的合法性校验或者是否只在前端通过js进行后缀检验。这时攻击者可以上传一个与网站脚本语言相对应的恶意代码动态脚本，例如(jsp、asp、php、aspx文件后缀)到服务器上，从而访问这些恶意脚本中包含的恶意代码，进行动态解析最终达到执行恶意代码的效果，进一步影响服务器安全。<br> <strong>文件上传危害：</strong><br> 上传漏洞与SQL注入或 XSS相比 , 其风险更大 , 如果 Web应用程序存在上传漏洞 , 攻击者上传的文件是Web脚本语言，服务器的Web容器解释并执行了用户上传的脚本，导致代码执行。如果上传的文件是Flash的策略文件crossdomain.xml，黑客用以控制Flash在该域下的行为。如果上传的文件是病毒、木马文件，黑客用以诱骗用户或者管理员下载执行。如果上传的文件是钓鱼图片或为包含了脚本的图片，在某些版本的浏览器中会被作为脚本执行，被用于钓鱼和欺诈。甚至攻击者可以直接上传一个webshell到服务器上 完全控制系统或致使系统瘫痪。<br> <strong>文件上传绕过</strong>：<br> 黑名单：大小写绕过，00阶段，特殊文件名绕过，.htaccess文件攻击<br> 白名单：解析漏洞绕过，配合文件包含漏洞绕过<br> <strong>防御方法：</strong><br> 1.文件上传的目录设置为不可执行。只要web容器无法解析该目录下面的文件，即使攻击者上传了脚本文件，服务器本身也不会受到影响，因此这一点至关重要。<br> 2.判断文件类型。在判断文件类型时，可以结合使用MIME Type、后缀检查等方式。在文件类型检查中，强烈推荐白名单方式，黑名单的方式已经无数次被证明是不可靠的。此外，对于图片的处理，可以使用压缩函数或者resize函数，在处理图片的同时破坏图片中可能包含的HTML代码。<br> 3.使用随机数改写文件名和文件路径。文件上传如果要执行代码，则需要用户能够访问到这个文件。在某些环境中，用户能上传，但不能访问。如果应用了随机数改写了文件名和路径，将极大地增加攻击的成本。再来就是像shell.php.rar.rar和crossdomain.xml这种文件，都将因为重命名而无法攻击。<br> 4.单独设置文件服务器的域名。由于浏览器同源策略的关系，一系列客户端攻击将失效，比如上传crossdomain.xml、上传包含Javascript的XSS利用等问题将得到解决。<br> 5.使用安全设备防御。文件上传攻击的本质就是将恶意文件或者脚本上传到服务器，专业的安全设备防御此类漏洞主要是通过对漏洞的上传利用行为和恶意文件的上传过程进行检测。恶意文件千变万化，隐藏手法也不断推陈出新，对普通的系统管理员来说可以通过部署安全设备来帮助防御。</p> 
<h3><a id="_356"></a>网络安全工程师(白帽子)企业级学习路线</h3> 
<h4><a id="_358"></a>第一阶段：安全基础（入门）</h4> 
<p><img src="https://images2.imgbox.com/83/62/pABHST8c_o.png" alt="img"></p> 
<h4><a id="Web_364"></a>第二阶段：Web渗透（初级网安工程师）</h4> 
<p><img src="https://images2.imgbox.com/51/c6/iOWwzfPW_o.png" alt="img"></p> 
<h4><a id="_370"></a>第三阶段：进阶部分（中级网络安全工程师）</h4> 
<p><img src="https://images2.imgbox.com/1d/fe/Kc1hskGo_o.png" alt="img"></p> 
<p>如果你对网络安全入门感兴趣，那么你需要的话可以点击这里<strong>👉</strong><a href="https://mp.weixin.qq.com/s/BWb9OzaB-gVGVpkm161PMw" rel="nofollow">网络安全重磅福利：入门&amp;进阶全套282G学习资源包免费分享！</a></p> 
<h3><a id="_376"></a>学习资源分享</h3> 
<p><img src="https://images2.imgbox.com/01/f4/8ZU1w6Kb_o.png" alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传"></p> 
<p><img src="https://images2.imgbox.com/98/3f/Mro7xlIV_o.png">## 题外话</p> 
<p>初入计算机行业的人或者大学计算机相关专业毕业生，很多因缺少实战经验，就业处处碰壁。下面我们来看两组数据：</p> 
<p>2023届全国高校毕业生预计达到1158万人，就业形势严峻；</p> 
<p>国家网络安全宣传周公布的数据显示，到2027年我国网络安全人员缺口将达327万。</p> 
<p>一方面是每年应届毕业生就业形势严峻，一方面是网络安全人才百万缺口。</p> 
<p>6月9日，麦可思研究2023年版就业蓝皮书（包括《2023年中国本科生就业报告》《2023年中国高职生就业报告》）正式发布。</p> 
<p>2022届大学毕业生月收入较高的前10个专业</p> 
<p>本科计算机类、高职自动化类专业月收入较高。2022届本科计算机类、高职自动化类专业月收入分别为6863元、5339元。其中，本科计算机类专业起薪与2021届基本持平，高职自动化类月收入增长明显，2022届反超铁道运输类专业（5295元）排在第一位。</p> 
<p>具体看专业，2022届本科月收入较高的专业是信息安全（7579元）。对比2018届，电子科学与技术、自动化等与人工智能相关的本科专业表现不俗，较五年前起薪涨幅均达到了19%。数据科学与大数据技术虽是近年新增专业但表现亮眼，已跻身2022届本科毕业生毕业半年后月收入较高专业前三。五年前唯一进入本科高薪榜前10的人文社科类专业——法语已退出前10之列。<br> <img src="https://images2.imgbox.com/8b/a9/HT1KS96K_o.png" alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传"></p> 
<p>“没有网络安全就没有国家安全”。当前，网络安全已被提升到国家战略的高度，成为影响国家安全、社会稳定至关重要的因素之一。</p> 
<h4><a id="_401"></a><strong>网络安全行业特点</strong></h4> 
<p>1、就业薪资非常高，涨薪快 2022年猎聘网发布网络安全行业就业薪资行业最高人均33.77万！</p> 
<p><img src="https://images2.imgbox.com/71/4f/aozRZR7e_o.png" alt="img"></p> 
<h6><a id="2_407"></a>2、人才缺口大，就业机会多</h6> 
<p>2019年9月18日《中华人民共和国中央人民政府》官方网站发表：我国网络空间安全人才 需求140万人，而全国各大学校每年培养的人员不到1.5W人。猎聘网《2021年上半年网络安全报告》预测2027年网安人才需求300W，现在从事网络安全行业的从业人员只有10W人。<br> <img src="https://images2.imgbox.com/2e/1a/2dfrr8ve_o.png" alt="img"></p> 
<p>行业发展空间大，岗位非常多</p> 
<p>网络安全行业产业以来，随即新增加了几十个网络安全行业岗位︰网络安全专家、网络安全分析师、安全咨询师、网络安全工程师、安全架构师、安全运维工程师、渗透工程师、信息安全管理员、数据安全工程师、网络安全运营工程师、网络安全应急响应工程师、数据鉴定师、网络安全产品经理、网络安全服务工程师、网络安全培训师、网络安全审计员、威胁情报分析工程师、灾难恢复专业人员、实战攻防专业人员…</p> 
<p>职业增值潜力大</p> 
<p>网络安全专业具有很强的技术特性，尤其是掌握工作中的核心网络架构、安全技术，在职业发展上具有不可替代的竞争优势。</p> 
<p>随着个人能力的不断提升，所从事工作的职业价值也会随着自身经验的丰富以及项目运作的成熟，升值空间一路看涨，这也是为什么受大家欢迎的主要原因。</p> 
<p>从某种程度来讲，在网络安全领域，跟医生职业一样，越老越吃香，因为技术愈加成熟，自然工作会受到重视，升职加薪则是水到渠成之事。</p> 
<p>黑客&amp;网络安全如何学习</p> 
<p>今天只要你给我的文章点赞，我私藏的网安学习资料一样免费共享给你们，来看看有哪些东西。</p> 
<h6><a id="1_428"></a>1.学习路线图</h6> 
<p>行业发展空间大，岗位非常多</p> 
<p>网络安全行业产业以来，随即新增加了几十个网络安全行业岗位︰网络安全专家、网络安全分析师、安全咨询师、网络安全工程师、安全架构师、安全运维工程师、渗透工程师、信息安全管理员、数据安全工程师、网络安全运营工程师、网络安全应急响应工程师、数据鉴定师、网络安全产品经理、网络安全服务工程师、网络安全培训师、网络安全审计员、威胁情报分析工程师、灾难恢复专业人员、实战攻防专业人员…</p> 
<p>职业增值潜力大</p> 
<p>网络安全专业具有很强的技术特性，尤其是掌握工作中的核心网络架构、安全技术，在职业发展上具有不可替代的竞争优势。</p> 
<p>随着个人能力的不断提升，所从事工作的职业价值也会随着自身经验的丰富以及项目运作的成熟，升值空间一路看涨，这也是为什么受大家欢迎的主要原因。</p> 
<p>从某种程度来讲，在网络安全领域，跟医生职业一样，越老越吃香，因为技术愈加成熟，自然工作会受到重视，升职加薪则是水到渠成之事。</p> 
<p>黑客&amp;网络安全如何学习</p> 
<p>今天只要你给我的文章点赞，我私藏的网安学习资料一样免费共享给你们，来看看有哪些东西。</p> 
<h5><a id="1_446"></a>1.学习路线图</h5> 
<p><img src="https://images2.imgbox.com/d4/c2/s1DXApGr_o.png" alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传"></p> 
<p>攻击和防守要学的东西也不少，具体要学的东西我都写在了上面的路线图，如果你能学完它们，你去就业和接私活完全没有问题。</p> 
<h5><a id="2_452"></a>2.视频教程</h5> 
<p>网上虽然也有很多的学习资源，但基本上都残缺不全的，这是我自己录的网安视频教程，上面路线图的每一个知识点，我都有配套的视频讲解。</p> 
<p>内容涵盖了网络安全法学习、网络安全运营等保测评、渗透测试基础、漏洞详解、计算机基础知识等，都是网络安全入门必知必会的学习内容。<br> <img src="https://images2.imgbox.com/27/ec/PTgOo0E0_o.png" alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传"></p> 
<p>（都打包成一块的了，不能一一展开，总共300多集）</p> 
<p>因篇幅有限，仅展示部分资料，需要点击下方链接即可前往获取</p> 
<p>如果你对网络安全入门感兴趣，那么你需要的话可以点击这里<strong>👉</strong><a href="https://mp.weixin.qq.com/s/BWb9OzaB-gVGVpkm161PMw" rel="nofollow">网络安全重磅福利：入门&amp;进阶全套282G学习资源包免费分享！</a></p> 
<h5><a id="3_465"></a><strong>3.技术文档和电子书</strong></h5> 
<p>技术文档也是我自己整理的，包括我参加大型网安行动、CTF和挖SRC漏洞的经验和技术要点，电子书也有200多本，由于内容的敏感性，我就不一一展示了。</p> 
<p><img src="https://images2.imgbox.com/40/34/OCgZv7s8_o.png" alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传"></p> 
<p>因篇幅有限，仅展示部分资料，需要点击下方链接即可前往获取</p> 
<p>如果你对网络安全入门感兴趣，那么你需要的话可以点击这里<strong>👉</strong><a href="https://mp.weixin.qq.com/s/BWb9OzaB-gVGVpkm161PMw" rel="nofollow">网络安全重磅福利：入门&amp;进阶全套282G学习资源包免费分享！</a></p> 
<h5><a id="4_475"></a>4.工具包、面试题和源码</h5> 
<p>“工欲善其事必先利其器”我为大家总结出了最受欢迎的几十款款黑客工具。涉及范围主要集中在 信息收集、Android黑客工具、自动化工具、网络钓鱼等，感兴趣的同学不容错过。</p> 
<p>还有我视频里讲的案例源码和对应的工具包，需要的话也可以拿走。</p> 
<p>因篇幅有限，仅展示部分资料，需要点击下方链接即可前往获取<br> 如果你对网络安全入门感兴趣，那么你需要的话可以点击这里<strong>👉</strong><a href="https://mp.weixin.qq.com/s/BWb9OzaB-gVGVpkm161PMw" rel="nofollow">网络安全重磅福利：入门&amp;进阶全套282G学习资源包免费分享！</a></p> 
<p>最后就是我这几年整理的网安方面的面试题，如果你是要找网安方面的工作，它们绝对能帮你大忙。</p> 
<p>这些题目都是大家在面试深信服、奇安信、腾讯或者其它大厂面试时经常遇到的，如果大家有好的题目或者好的见解欢迎分享。</p> 
<p>参考解析：深信服官网、奇安信官网、Freebuf、csdn等</p> 
<p>内容特点：条理清晰，含图像化表示更加易懂。</p> 
<p>内容概要：包括 内网、操作系统、协议、渗透测试、安服、漏洞、注入、XSS、CSRF、SSRF、文件上传、文件下载、文件包含、XXE、逻辑漏洞、工具、SQLmap、NMAP、BP、MSF…</p> 
<p><img src="https://images2.imgbox.com/74/91/rNpJU5gk_o.png" alt="img"></p> 
<p>因篇幅有限，仅展示部分资料，需要点击下方链接即可前往获取</p> 
<p>如果你对网络安全入门感兴趣，那么你需要的话可以点击这里<strong>👉</strong><a href="https://mp.weixin.qq.com/s/BWb9OzaB-gVGVpkm161PMw" rel="nofollow">网络安全重磅福利：入门&amp;进阶全套282G学习资源包免费分享！</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8cbb2953b8c4e027dca49587514921fa/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue2使用qiankun微前端（跟着步骤走可实现）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b72bbe0a8fd0a910913b5d504bd71548/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">PhpStudy下载安装使用教程，图文教程（非常详细）从零基础入门到精通，看完这一篇就够了。</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>