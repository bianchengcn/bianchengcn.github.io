<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>UE5在VisualStudio升级后产生C&#43;&#43;无法编译的问题 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="UE5在VisualStudio升级后产生C&#43;&#43;无法编译的问题" />
<meta property="og:description" content="往期的虚幻引擎项目在VS更新后，编译时会报错，这一般出现在VS升级之后，UE对于VC&#43;&#43;的编译器定位没有更新导致；
有出现如下问题：
问题1：
Running I:/EPCI/Epic Games/UE_5.3/Engine/Build/BatchFiles/Build.bat -projectfiles -project=“I:/GAME/PJ/我的项目2/我的项目2.uproject” -game -rocket -progress
Using bundled DotNet SDK version: 6.0.302
Running UnrealBuildTool: dotnet “…..\Engine\Binaries\DotNET\UnrealBuildTool\UnrealBuildTool.dll” -projectfiles -project=“I:/GAME/PJ/???2/???2.uproject” -game -rocket -progress
Log file: C:\Users\Fox\AppData\Local\UnrealBuildTool\Log_GPF.txt
Some Platforms were skipped due to invalid SDK setup: IOS, Android, Linux, LinuxArm64.
See the log file for detailed information
Generating VisualStudio project files:
Discovering modules, targets and source code for project…
Microsoft platform targets must be compiled with Visual Studio 2022 17." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/bfd659540c0eb94591be3712c25aa3ca/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-28T15:45:29+08:00" />
<meta property="article:modified_time" content="2024-01-28T15:45:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">UE5在VisualStudio升级后产生C&#43;&#43;无法编译的问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>往期的虚幻引擎项目在VS更新后，编译时会报错，这一般出现在VS升级之后，UE对于VC++的编译器定位没有更新导致；</p> 
<p>有出现如下问题：</p> 
<p>问题1：</p> 
<blockquote> 
 <p>Running I:/EPCI/Epic Games/UE_5.3/Engine/Build/BatchFiles/Build.bat -projectfiles -project=“I:/GAME/PJ/我的项目2/我的项目2.uproject” -game -rocket -progress<br> Using bundled DotNet SDK version: 6.0.302<br> Running UnrealBuildTool: dotnet “…..\Engine\Binaries\DotNET\UnrealBuildTool\UnrealBuildTool.dll” -projectfiles -project=“I:/GAME/PJ/???2/???2.uproject” -game -rocket -progress<br> Log file: C:\Users\Fox\AppData\Local\UnrealBuildTool\Log_GPF.txt</p> 
 <p>Some Platforms were skipped due to invalid SDK setup: IOS, Android, Linux, LinuxArm64.<br> See the log file for detailed information</p> 
 <p>Generating VisualStudio project files:<br> Discovering modules, targets and source code for project…<br> Microsoft platform targets must be compiled with Visual Studio 2022 17.4 (MSVC 14.34.x) or later for the installed engine. Please update Visual Studio 2022 and ensure no configuration is forcing WindowsTargetRules.Compiler to VisualStudio2019. The current compiler version was detected as: 14.29.30152</p> 
</blockquote> 
<p></p> 
<p>问题1解决方案：</p> 
<p>打开VS安装器，修改，内部模组，把旧有的MSVC全部取消；</p> 
<pre><code>MSVC v142 - VS2019 C++ x64/x86 package
MSVC v141 - VS2017 C++ x64/x86 package
MSVC v140 - VS2015 C++ x64/x86 package
After uncheck the options, create UE5.3 C++ project again.
</code></pre> 
<p class="img-center"><img alt="20231222-103022" height="136" src="https://images2.imgbox.com/9a/f7/nuOlnuJl_o.jpg" width="217"></p> 
<p></p> 
<p>问题2：</p> 
<p>编译后报错</p> 
<blockquote> 
 <p>LNK1104 cannot open file 'legacy_stdio_definitions.lib'</p> 
</blockquote> 
<p>问题2解决方案：</p> 
<p>这个文件其实依然是由于UE定位在旧MSVC的目录导致的无法寻找到，此时将UE Editor关闭，然后直接VS打开虚幻工程，并重生成工程即可；</p> 
<p>再次打开UE5，其编译也就正常了；</p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/46a1f979e662b5dbf5a557052059531e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">VGGNet的结构和复现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/09b7cd7b9c972dca2acd9fdd6e221f21/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">阿里云发送短信</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>