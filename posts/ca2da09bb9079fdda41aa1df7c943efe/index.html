<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>#如何解决The MySQL server is running with the --secure-file-priv option so it cannot execute this state - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="#如何解决The MySQL server is running with the --secure-file-priv option so it cannot execute this state" />
<meta property="og:description" content="如何解决The MySQL server is running with the --secure-file-priv option so it cannot execute this statement 一、问题 在使用mysql代码将查询结果导出到EXCEL表中时，遇到 “server is running with the --secure-file-priv option so it cannot execute this statement” 报错信息
二、产生原因 Mysql配置文件规定了导出文件的默认路径，自定义路径会报错。
三、解决办法 1. 输入命令 show variables like &#39;secure%&#39; 变量secure_file_priv对应的值就是你电脑上MySQL默认导出文件的路径，笔者电脑的默认路径是C:\ProgramData\MySQL\MySQL Server 8.0\Uploads\，要想修改路径，只需将MySQL配置文件修改，如果不想修改路径，直接用它给的默认路径即可。
2. 将上图路径复制到资源管理器，回车 查看上一级目录，配置文件my.ini即保存在这里的
用笔记本打开my.ini，搜索 secure
找到secure-file-priv，将原本的那行注释掉(用#号)，在下面一行写
secure-file-priv=&#34;&#34; secure-file-priv=&#34;&#34;表示任意路径都可以，也可以自己指定路径。
3. 最关建的一步，Windows在打开配置文件时，会自动修改配置文件的编码格式为UTF-8，而MySQL配置文件的默认编码格式为 ANSI。这一步很重要！！！一定不要搞错，不然会导致MySQL重启失败。 点击 右上方-&gt;另存为-&gt;ANSI。 是否替换，选择“是”
4. 最后，重启MySQL服务，点击 开始-&gt;搜索组件服务-&gt;点击服务-&gt;找到mysql-&gt;重启此服务
四、查看结果 查询成功" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/ca2da09bb9079fdda41aa1df7c943efe/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-09-25T16:14:48+08:00" />
<meta property="article:modified_time" content="2020-09-25T16:14:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">#如何解决The MySQL server is running with the --secure-file-priv option so it cannot execute this state</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="The_MySQL_server_is_running_with_the_securefilepriv_option_so_it_cannot_execute_this_statement_0"></a>如何解决The MySQL server is running with the --secure-file-priv option so it cannot execute this statement</h2> 
<h3><a id="_1"></a>一、问题</h3> 
<p>在使用mysql代码将查询结果导出到EXCEL表中时，遇到 “server is running with the --secure-file-priv option so it cannot execute this statement” 报错信息<br> <img src="https://images2.imgbox.com/ed/bf/F7AIxO3T_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_5"></a>二、产生原因</h3> 
<p>Mysql配置文件规定了导出文件的默认路径，自定义路径会报错。</p> 
<h3><a id="_7"></a>三、解决办法</h3> 
<h4><a id="1_8"></a>1.</h4> 
<pre><code>输入命令 show variables like 'secure%'
</code></pre> 
<p><img src="https://images2.imgbox.com/c1/97/NvxQUYwo_o.png" alt="在这里插入图片描述"><br> 变量secure_file_priv对应的值就是你电脑上MySQL默认导出文件的路径，笔者电脑的默认路径是C:\ProgramData\MySQL\MySQL Server 8.0\Uploads\，要想修改路径，只需将MySQL配置文件修改，如果不想修改路径，直接用它给的默认路径即可。</p> 
<h4><a id="2_12"></a>2.</h4> 
<pre><code>将上图路径复制到资源管理器，回车
</code></pre> 
<p><img src="https://images2.imgbox.com/1f/00/KCVLWX2r_o.png" alt="在这里插入图片描述"><br> 查看上一级目录，配置文件my.ini即保存在这里的<br> <img src="https://images2.imgbox.com/b3/21/YaJovDZ9_o.png" alt="在这里插入图片描述"><br> 用笔记本打开my.ini，搜索 secure<br> <img src="https://images2.imgbox.com/0a/1c/eUHAAjmO_o.png" alt="在这里插入图片描述"><br> 找到secure-file-priv，将原本的那行注释掉(用#号)，在下面一行写</p> 
<pre><code class="prism language-handlebars"><span class="token variable">secure-file-priv</span><span class="token punctuation">=</span><span class="token string">""</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/3e/19/qU8Juaf1_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/40/f2/dNJzQD1s_o.png" alt="在这里插入图片描述"><br> <code>secure-file-priv=""</code>表示任意路径都可以，也可以自己指定路径。</p> 
<h4><a id="3_27"></a>3.</h4> 
<p><strong>最关建的一步，Windows在打开配置文件时，会自动修改配置文件的编码格式为UTF-8，而MySQL配置文件的默认编码格式为 ANSI。这一步很重要！！！一定不要搞错，不然会导致MySQL重启失败。 <mark>点击 右上方-&gt;另存为-&gt;ANSI。</mark> 是否替换，选择“是”</strong><br> <img src="https://images2.imgbox.com/19/62/UG5HUxy6_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="4_31"></a>4.</h4> 
<p>最后，重启MySQL服务，点击 开始-&gt;搜索组件服务-&gt;点击服务-&gt;找到mysql-&gt;重启此服务<br> <img src="https://images2.imgbox.com/af/c3/etBWIpUL_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/76/20/AGCV6Qks_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_36"></a>四、查看结果</h3> 
<p>查询成功<br> <img src="https://images2.imgbox.com/cb/18/PULIz3o4_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ecc7f343e594a75ecf61cfe85574961b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">chrome 通知权限管理_如何在Chrome浏览器中阻止或管理通知</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8bc7103c52c189b08df1fdaab9cab7b1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【编译原理】4 语义分析和中间代码生成</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>