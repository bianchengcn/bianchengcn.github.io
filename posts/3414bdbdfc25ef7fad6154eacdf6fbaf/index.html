<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>直线绘制算法-Bresenham算法 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="直线绘制算法-Bresenham算法" />
<meta property="og:description" content="该算法相较于其他直线绘制算法摆脱了直线方程式的使用，通过换元的思想实现整数加法的迭代。
一.Bresenham算法
前提条件k∈[0,1]，直线在x方向上每次增量为，在y方向上每次的增量为。通过一个变量d将y方向上的累计增量记录下来，当d大于1时，标记点m进1，并对变量d进行-1操作使得d的范围永远保持在[0,1]之间。并根据d的范围确定最终的y值，当时，则y保持不变；当时，y加1。
上述已经能够完成y值的判定，但是存在两个问题：k可能为浮点数、d每次需要同0.5这一浮点数比较大小。由于计算机计算整数的效率比浮点数速度快，因此要对上式进行优化改进，主要通过两步换元。
1.令
此次换元将d同0.5浮点数的判断转变成了e与0的判断。但是出现了新的问题的初值为浮点数、e要同0.5比较来决定是否-1，以及一开始遗留的k可能为浮点数的问题
2.令（△x&gt;0）
该换元的思想主要有两方面，一是乘2操作以消除0.5，二是将斜率k分解为△x和△y以便调整参数取整。此时Bresenham算法中已做到只对整数进行运算，完全消去了浮点数。
二.例题推导
A(0,0)、B(10,8)、斜率k=0.8，取△x=5、△y=4
t-531-1-3531-1-35m00123345677y01223456678 三.直线算法总结
DDA：先求出斜率k，每进给△x=1，y方向加k，int(y&#43;0.5)向下取整得出目标y值。缺点：k可能为浮点值，0.5为浮点值，涉及到浮点加法。
中点画线法：先求A、B值取整，不断迭代d点，根据d点值确定y值。
Bresenham：将k分解取整，m点为标记点，t决定是否&#43;1确定y值。
这三类算法中，综合比较中点画线法具备整数加法运算同时控制数仅有1个，因此运算效率上最优。从直线画线法得到的启发：数值迭代思想、浮点数分解为整数思想" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/3414bdbdfc25ef7fad6154eacdf6fbaf/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-25T21:10:54+08:00" />
<meta property="article:modified_time" content="2022-03-25T21:10:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">直线绘制算法-Bresenham算法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>该算法相较于其他直线绘制算法摆脱了直线方程式的使用，通过换元的思想实现整数加法的迭代。</p> 
<p>一.Bresenham算法</p> 
<p>前提条件k∈[0,1]，直线在x方向上每次增量为<img alt="\Delta x=1" class="mathcode" src="https://images2.imgbox.com/30/64/Sn5v7xGc_o.png">，在y方向上每次的增量为<img alt="\Delta y=k" class="mathcode" src="https://images2.imgbox.com/8e/bb/JW48aQSv_o.png">。通过一个变量d将y方向上的累计增量记录下来，当d大于1时，标记点m进1，并对变量d进行-1操作使得d的范围永远保持在[0,1]之间。并根据d的范围确定最终的y值，当<img alt="d\leq 0.5" class="mathcode" src="https://images2.imgbox.com/ad/61/9oP0RjGq_o.png">时，则y保持不变；当<img alt="d&gt;0.5" class="mathcode" src="https://images2.imgbox.com/9d/bf/nBYMXyMQ_o.png">时，y加1。</p> 
<p><img alt="" height="200" src="https://images2.imgbox.com/db/55/MHbJRTDl_o.png" width="505"></p> 
<p>上述已经能够完成y值的判定，但是存在两个问题：k可能为浮点数、d每次需要同0.5这一浮点数比较大小。由于计算机计算整数的效率比浮点数速度快，因此要对上式进行优化改进，主要通过两步换元。</p> 
<p>1.令<img alt="e=d-0.5" class="mathcode" src="https://images2.imgbox.com/cf/e6/1T2UY7ae_o.png"></p> 
<blockquote> 
 <p><img alt="d_{0}=0" class="mathcode" src="https://images2.imgbox.com/e3/29/WANsE2WM_o.png">                                           <img alt="\rightarrow" class="mathcode" src="https://images2.imgbox.com/bc/33/3RDbNMVK_o.png"> <img alt="e_{0}=-0.5" class="mathcode" src="https://images2.imgbox.com/43/ff/LacOxnh6_o.png"></p> 
 <p><img alt="d_{i+1}=d_{i}+k" class="mathcode" src="https://images2.imgbox.com/2f/78/JlmOA1Wd_o.png">                               <img alt="\rightarrow" class="mathcode" src="https://images2.imgbox.com/30/e5/uc4RLfMr_o.png"><img alt="e_{i+1}=e_{i}+k" class="mathcode" src="https://images2.imgbox.com/64/63/ursE4HHr_o.png"></p> 
 <p><img alt="d=d-1 (d&gt;1)" class="mathcode" src="https://images2.imgbox.com/db/a2/aioCjfoC_o.png">                         <img alt="\rightarrow" class="mathcode" src="https://images2.imgbox.com/f2/e2/KRfuHhTp_o.png"><img alt="e=e-1(e&gt;0.5)" class="mathcode" src="https://images2.imgbox.com/73/f7/J1u5MBo2_o.png"></p> 
 <p><img alt="m_{0}=y_{0}" class="mathcode" src="https://images2.imgbox.com/36/9f/bZnWdxyo_o.png">                                         <img alt="\rightarrow" class="mathcode" src="https://images2.imgbox.com/e2/41/eMuqCrXU_o.png"><img alt="m_{0}=y_{0}" class="mathcode" src="https://images2.imgbox.com/8c/d1/3PVjuMEe_o.png"> </p> 
 <p><img alt="m_{i+1}=m_{i}+1(d&gt;1)" class="mathcode" src="https://images2.imgbox.com/e9/05/O5tvDmzO_o.png">                 <img alt="\rightarrow" class="mathcode" src="https://images2.imgbox.com/8a/69/nqRK4lDd_o.png"><img alt="m_{i+1}=m_{i}+1(e&gt;0.5)" class="mathcode" src="https://images2.imgbox.com/36/ea/qc8HClp8_o.png">             </p> 
 <p><img alt="y_{i+1}=\left\{\begin{matrix} m_{i}+1 &amp;(d&gt;0.5) \\ m_{i}&amp; (d\leqslant 0.5) \end{matrix}\right." class="mathcode" src="https://images2.imgbox.com/42/ce/7sooaPsF_o.png">              <img alt="y_{i+1}=\left\{\begin{matrix} m_{i}+1 &amp;(e&gt;0) \\ m_{i}&amp; (e\leqslant 0) \end{matrix}\right." class="mathcode" src="https://images2.imgbox.com/d0/7e/4DloIBPy_o.png"></p> 
</blockquote> 
<p>此次换元将d同0.5浮点数的判断转变成了e与0的判断。但是出现了新的问题<img alt="e_{0}" class="mathcode" src="https://images2.imgbox.com/c5/7d/MxLQe8cg_o.png">的初值为浮点数、e要同0.5比较来决定是否-1，以及一开始遗留的k可能为浮点数的问题</p> 
<p>2.令<img alt="t=2e\Delta x" class="mathcode" src="https://images2.imgbox.com/df/1b/B542u7MO_o.png">（△x&gt;0）</p> 
<blockquote> 
 <p> <img alt="e_{0}=-0.5" class="mathcode" src="https://images2.imgbox.com/e1/58/vnduyQAx_o.png">                                    <img alt="\rightarrow" class="mathcode" src="https://images2.imgbox.com/02/37/Zl0Z3y5n_o.png"><img alt="t_{0}=-\Delta x" class="mathcode" src="https://images2.imgbox.com/fe/ca/CnA8mZNo_o.png"></p> 
 <p> <img alt="e_{i+1}=e_{i}+k" class="mathcode" src="https://images2.imgbox.com/96/0c/a8PytqAE_o.png">                               <img alt="\rightarrow" class="mathcode" src="https://images2.imgbox.com/38/2c/lIEmFkwT_o.png"><img alt="t_{i+1}=t_{i}+2\Delta y" class="mathcode" src="https://images2.imgbox.com/e0/53/habLKk8o_o.png"></p> 
 <p> <img alt="e=e-1(e&gt;0.5)" class="mathcode" src="https://images2.imgbox.com/91/e7/ufhtlz6I_o.png">                      <img alt="\rightarrow" class="mathcode" src="https://images2.imgbox.com/a5/82/EMxQN9a7_o.png"><img alt="t=t-2\Delta x(t&gt;\Delta x)" class="mathcode" src="https://images2.imgbox.com/ac/c3/jSnVrQck_o.png"></p> 
 <p> <img alt="m_{0}=y_{0}" class="mathcode" src="https://images2.imgbox.com/97/f6/XqoFp3xT_o.png">                                        <img alt="\rightarrow" class="mathcode" src="https://images2.imgbox.com/0a/dc/CoxoTl5A_o.png"><img alt="m_{0}=y_{0}" class="mathcode" src="https://images2.imgbox.com/4d/42/jTq2KV9Q_o.png"> </p> 
 <p> <img alt="m_{i+1}=m_{i}+1(e&gt;0.5)" class="mathcode" src="https://images2.imgbox.com/7e/f8/eEylQTai_o.png">             <img alt="\rightarrow" class="mathcode" src="https://images2.imgbox.com/70/46/UhZWseFS_o.png"><img alt="m_{i+1}=m_{i}+1(t&gt;\Delta x)" class="mathcode" src="https://images2.imgbox.com/6e/9e/DeihR4Vk_o.png">      </p> 
 <p> <img alt="y_{i+1}=\left\{\begin{matrix} m_{i}+1 &amp;(e&gt;0) \\ m_{i}&amp; (e\leqslant 0) \end{matrix}\right." class="mathcode" src="https://images2.imgbox.com/2c/2a/w8XVPq4K_o.png">               <img alt="y_{i+1}=\left\{\begin{matrix} m_{i}+1 &amp;(t&gt;0) \\ m_{i}&amp; (t\leqslant 0) \end{matrix}\right." class="mathcode" src="https://images2.imgbox.com/af/fa/XvZfaCWK_o.png"></p> 
</blockquote> 
<p> 该换元的思想主要有两方面，一是乘2操作以消除0.5，二是将斜率k分解为△x和△y以便调整参数取整。此时Bresenham算法中已做到只对整数进行运算，完全消去了浮点数。</p> 
<p>二.例题推导</p> 
<p><img alt="" height="379" src="https://images2.imgbox.com/b4/07/NON08bG5_o.png" width="365"></p> 
<p>A(0,0)、B(10,8)、斜率k=0.8，取△x=5、△y=4</p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td>t</td><td style="text-align:center;">-5</td><td style="text-align:center;">3</td><td style="text-align:center;">1</td><td style="text-align:center;">-1</td><td style="text-align:center;">-3</td><td style="text-align:center;">5</td><td style="text-align:center;">3</td><td style="text-align:center;">1</td><td style="text-align:center;">-1</td><td style="text-align:center;">-3</td><td style="text-align:center;">5</td></tr><tr><td>m</td><td style="text-align:center;">0</td><td style="text-align:center;">0</td><td style="text-align:center;">1</td><td style="text-align:center;">2</td><td style="text-align:center;">3</td><td style="text-align:center;">3</td><td style="text-align:center;">4</td><td style="text-align:center;">5</td><td style="text-align:center;">6</td><td style="text-align:center;">7</td><td style="text-align:center;">7</td></tr><tr><td>y</td><td style="text-align:center;">0</td><td style="text-align:center;">1</td><td style="text-align:center;">2</td><td style="text-align:center;">2</td><td style="text-align:center;">3</td><td style="text-align:center;">4</td><td style="text-align:center;">5</td><td style="text-align:center;">6</td><td style="text-align:center;">6</td><td style="text-align:center;">7</td><td style="text-align:center;">8</td></tr></tbody></table> 
<p>三.直线算法总结</p> 
<p><a class="link-info" href="https://blog.csdn.net/SX2101111/article/details/123685513?spm=1001.2014.3001.5501" title="DDA">DDA</a>：先求出斜率k，每进给△x=1，y方向加k，int(y+0.5)向下取整得出目标y值。缺点：k可能为浮点值，0.5为浮点值，涉及到浮点加法。</p> 
<p><a class="link-info" href="https://blog.csdn.net/SX2101111/article/details/123703009?spm=1001.2014.3001.5501" title="中点画线法">中点画线法</a>：先求A、B值取整，不断迭代d点，根据d点值确定y值。</p> 
<p>Bresenham：将k分解取整，m点为标记点，t决定是否+1确定y值。</p> 
<p>这三类算法中，综合比较中点画线法具备整数加法运算同时控制数仅有1个，因此运算效率上最优。从直线画线法得到的启发：数值迭代思想、浮点数分解为整数思想</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1f962703dddecf5c09d46cb29edd9fc5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">点击按钮改变颜色 模型动画暂停继续功能</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7322af10b881920027787838afd480e0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">latex中Winedt和Sumatra PDF互联设置及失效解决</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>