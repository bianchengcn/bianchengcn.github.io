<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C语言与操作符相关的经典例题 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C语言与操作符相关的经典例题" />
<meta property="og:description" content="目录
一道变态的面试题：不能创建临时变量（第三个变量），实现两个数的交换。
编写代码实现：求一个整数存储在内存中的二进制中1的个数。 二进制位置0或者置1
如果以下的知识点不是很清楚的可以去看这篇文章：操作符详解（上）-CSDN博客
一道变态的面试题：不能创建临时变量（第三个变量），实现两个数的交换。 这个题如果没有那个限制条件，我们一般都是创建第三个变量来处理。
法一：
//创建临时变量 #include &lt;stdio.h&gt; int main() { int a = 0; int b = 0; printf(&#34;请输入交换前的变量a与b:&#34;); scanf(&#34;%d%d&#34;, &amp;a, &amp;b); int c = 0; c = a; a = b; b = c; printf(&#34;交换后a=%d,b=%d\n&#34;, a, b); return 0; } 第二种方法可能也是比较容易想到的，通过计算和来减去对应的。
法二：
//加减法 #include &lt;stdio.h&gt; int main() { int a = 0; int b = 0; printf(&#34;请输入交换前的变量a与b:&#34;); scanf(&#34;%d%d&#34;, &amp;a, &amp;b); a = a &#43; b; b = a - b;//a&#43;b-b a = a - b;//a&#43;b-a printf(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/8769be99aff81823d0be30db2c4715f1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-27T23:30:00+08:00" />
<meta property="article:modified_time" content="2024-01-27T23:30:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C语言与操作符相关的经典例题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="-toc" style="margin-left:0px;"></p> 
<p id="%E4%B8%80%E9%81%93%E5%8F%98%E6%80%81%E7%9A%84%E9%9D%A2%E8%AF%95%E9%A2%98%EF%BC%9A%E4%B8%8D%E8%83%BD%E5%88%9B%E5%BB%BA%E4%B8%B4%E6%97%B6%E5%8F%98%E9%87%8F%EF%BC%88%E7%AC%AC%E4%B8%89%E4%B8%AA%E5%8F%98%E9%87%8F%EF%BC%89%EF%BC%8C%E5%AE%9E%E7%8E%B0%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%9A%84%E4%BA%A4%E6%8D%A2%E3%80%82-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E9%81%93%E5%8F%98%E6%80%81%E7%9A%84%E9%9D%A2%E8%AF%95%E9%A2%98%EF%BC%9A%E4%B8%8D%E8%83%BD%E5%88%9B%E5%BB%BA%E4%B8%B4%E6%97%B6%E5%8F%98%E9%87%8F%EF%BC%88%E7%AC%AC%E4%B8%89%E4%B8%AA%E5%8F%98%E9%87%8F%EF%BC%89%EF%BC%8C%E5%AE%9E%E7%8E%B0%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%9A%84%E4%BA%A4%E6%8D%A2%E3%80%82" rel="nofollow">一道变态的面试题：不能创建临时变量（第三个变量），实现两个数的交换。</a></p> 
<p id="%E7%BC%96%E5%86%99%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%EF%BC%9A%E6%B1%82%E4%B8%80%E4%B8%AA%E6%95%B4%E6%95%B0%E5%AD%98%E5%82%A8%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%B8%AD1%E7%9A%84%E4%B8%AA%E6%95%B0%E3%80%82%C2%A0%C2%A0-toc" style="margin-left:0px;"><a href="#%E7%BC%96%E5%86%99%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%EF%BC%9A%E6%B1%82%E4%B8%80%E4%B8%AA%E6%95%B4%E6%95%B0%E5%AD%98%E5%82%A8%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%B8%AD1%E7%9A%84%E4%B8%AA%E6%95%B0%E3%80%82%C2%A0%C2%A0" rel="nofollow">编写代码实现：求一个整数存储在内存中的二进制中1的个数。  </a></p> 
<p id="%C2%A0%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%BD%8D%E7%BD%AE0%E6%88%96%E8%80%85%E7%BD%AE1-toc" style="margin-left:0px;"><a href="#%C2%A0%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%BD%8D%E7%BD%AE0%E6%88%96%E8%80%85%E7%BD%AE1" rel="nofollow"> 二进制位置0或者置1</a></p> 
<hr id="hr-toc"> 
<p>如果以下的知识点不是很清楚的可以去看这篇文章：<a href="https://blog.csdn.net/2301_80854132/article/details/135852768?spm=1001.2014.3001.5502" title="操作符详解（上）-CSDN博客">操作符详解（上）-CSDN博客</a></p> 
<h2 id="%E4%B8%80%E9%81%93%E5%8F%98%E6%80%81%E7%9A%84%E9%9D%A2%E8%AF%95%E9%A2%98%EF%BC%9A%E4%B8%8D%E8%83%BD%E5%88%9B%E5%BB%BA%E4%B8%B4%E6%97%B6%E5%8F%98%E9%87%8F%EF%BC%88%E7%AC%AC%E4%B8%89%E4%B8%AA%E5%8F%98%E9%87%8F%EF%BC%89%EF%BC%8C%E5%AE%9E%E7%8E%B0%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%9A%84%E4%BA%A4%E6%8D%A2%E3%80%82"><span style="color:#fe2c24;">一道变态的面试题：不能创建临时变量（第三个变量），实现两个数的交换。</span></h2> 
<p>这个题如果没有那个限制条件，我们一般都是创建第三个变量来处理。</p> 
<p>法一：</p> 
<pre><code class="language-cs">//创建临时变量
#include &lt;stdio.h&gt;
int main()
{
	int a = 0;
	int b = 0;
	printf("请输入交换前的变量a与b:");
	scanf("%d%d", &amp;a, &amp;b);
	int c = 0;
	c = a;
	a = b;
	b = c;
	printf("交换后a=%d,b=%d\n", a, b);
	return 0;
}</code></pre> 
<p><img alt="" height="758" src="https://images2.imgbox.com/16/a0/GWomYo74_o.png" width="847"></p> 
<p>第二种方法可能也是比较容易想到的，通过计算和来减去对应的。</p> 
<p>法二：</p> 
<pre><code class="language-cs">
//加减法
#include &lt;stdio.h&gt;
int main()
{
	int a = 0;
	int b = 0;
	printf("请输入交换前的变量a与b:");
	scanf("%d%d", &amp;a, &amp;b);
	a = a + b;
	b = a - b;//a+b-b
	a = a - b;//a+b-a
	printf("交换后a=%d,b=%d\n", a, b);
	return 0;
}</code></pre> 
<p><img alt="" height="735" src="https://images2.imgbox.com/0d/93/au9dkuMV_o.png" width="943"></p> 
<p>这个法二其实严格来说，是有错误的。当a和b的值接近一个整形能存储的最大值是，它们两的和就会超出这个整形的最大值，从而导致溢出的问题。 </p> 
<p>第三种方法应该只有那些大佬才能够想到。 </p> 
<p> 法三：</p> 
<pre><code class="language-cs">#include &lt;stdio.h&gt;
int main()
{
	int a = 0;
	int b = 0;
	printf("请输入交换前的变量a与b:");
	scanf("%d%d", &amp;a, &amp;b);
	a = a ^ b;
	b = a ^ b;//a^b^b=a
	a = a ^ b;//a^b^a=b
	printf("交换后a=%d,b=%d\n", a, b);
	return 0;
}</code></pre> 
<p><img alt="" height="808" src="https://images2.imgbox.com/15/8c/mpqcMdPB_o.png" width="908"></p> 
<p>这个方法涉及了一个知识点：0^a=a，a^a=0。</p> 
<p>这个也用画图来解释一下吧： </p> 
<p><img alt="" height="649" src="https://images2.imgbox.com/aa/2d/Fhnp0Nv1_o.png" width="1200"></p> 
<h2 id="%E7%BC%96%E5%86%99%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0%EF%BC%9A%E6%B1%82%E4%B8%80%E4%B8%AA%E6%95%B4%E6%95%B0%E5%AD%98%E5%82%A8%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%B8%AD1%E7%9A%84%E4%B8%AA%E6%95%B0%E3%80%82%C2%A0%C2%A0"><span style="color:#fe2c24;">编写代码实现：求一个整数存储在内存中的二进制中1的个数。  </span></h2> 
<p>如果拿到这个题目的时候没思路的话，就可以先想一想十进制，求一个十进制数中1的个数，那么这个也就比较简单了，我们可以先%10，看看最后一位是否等于1，再/10赋给这个数更新一下，再%10拿到倒数第二位看看是否等于1，就这样一直%10，/10，知道最后这个/10的商为0，就可以停止了。同理，这个二进制我们也可以通过%2，/2的方法来计算。</p> 
<pre><code class="language-cs">#include &lt;stdio.h&gt;
int main()
{
	int n = 0;
	scanf("%d", &amp;n);
	int count = 0;
	while (n)
	{
		if (n % 2 == 1)
		{
			count++;
		}
		n /= 2;
	}
	printf("%d\n", count);
	return 0;
}</code></pre> 
<p>但是很遗憾的是这个代码只能求正整数，而对于负整数就不行了。</p> 
<p>例如：当我们输入-1时，输出的却是0。我们知道-1的补码全是1，正确输出的话应该要是32。</p> 
<p>代码演示：<img alt="" height="900" src="https://images2.imgbox.com/eb/ea/j3kKG5lk_o.png" width="714"></p> 
<p>其实这个问题还是比较好解决的，既然负数不行，那我们就把它变成无符号数，而-1的补码是32个1，那么对应的无符号数就是一个非常大的数字了。</p> 
<pre><code class="language-cs">#include &lt;stdio.h&gt;
int main()
{
	unsigned int n = 0;
	scanf("%d", &amp;n);
	int count = 0;
	while (n)
	{
		if (n % 2 == 1)
		{
			count++;
		}
		n /= 2;
	}
	printf("%d\n", count);
	return 0;
}</code></pre> 
<p><img alt="" height="854" src="https://images2.imgbox.com/3e/b2/ZArapxhe_o.png" width="773"></p> 
<p>但是如果题目要求我们用的是有符号整数，那么我们应该怎么办呢？ 其实这里就可以用到那个按位与（&amp;）操作符。这里我们就按照那个思路来想一想，当给出了一个二进制数字，我们按位与（&amp;）上一个1，那么我们就只要看第32个比特位了（因为两个数按位与（&amp;）的规则是对应的二进制位同为1，才是1，否则为0。而1的二进制补码，只有第32个比特位才是1，其余的都是0，那么无论什么数按位与（&amp;）1，最终的结果是前面的第31个都是0了，只有第32个比特位还不确定。），如果那个数第32个比特位为1，那么最终的结果就是1，如果那个数第32个比特位是0，那么最终的结果就是0了。这是第32位的计算结果，如果要想知道前面的结果，就只能通过移位符来来把前面的比特位移至最后一位，再来比较。这里可能有小伙伴会有疑问，为什么不移1呢？把1一位移位的移去前面来比较。其实这个移1，也不是不可以但是比起移那个数，还是要难一些。我们移1之后就表示判断结果等于1了，而是等不等于0，如果等于0，那么就没有1，如果不等于0，那么就有1。原因我就用图来表述了：</p> 
<p><img alt="" height="1158" src="https://images2.imgbox.com/14/d4/n5hGs7Eo_o.png" width="1200"></p> 
<p>以上就是全部的思路，接下来就用代码演示：</p> 
<p><span style="color:#fe2c24;"><strong>移输入数的位</strong></span></p> 
<pre><code class="language-cs">#include &lt;stdio.h&gt;
int main()
{
	int n = 0;
	scanf("%d", &amp;n);
	int count = 0;
	int i = 0;
	for (i = 1; i &lt;= 32; i++)
	{
		if (n &amp; 1 == 1)
		{
			count++;
		}
		n &gt;&gt;= 1;//注意这里千万不能是移i位，因为i的数字是不断增加的，而不是定值。
	}
	printf("%d\n", count);
	return 0;
}</code></pre> 
<pre><code class="language-cs">#include &lt;stdio.h&gt;
int main()
{
	int n = 0;
	scanf("%d", &amp;n);
	int count = 0;
	int i = 0;
	for (i = 0; i &lt; 32; i++)
	{
		if ((n &gt;&gt; i) &amp; 1 == 1)
		{
			count++;
		}
	}
	printf("%d\n", count);
	return 0;
}

</code></pre> 
<p> 上面这两种写法都是可以的。</p> 
<p><span style="color:#fe2c24;"><strong>移 1 的位 </strong></span></p> 
<pre><code class="language-cs">#include &lt;stdio.h&gt;
int main()
{
	int n = 0;
	scanf("%d", &amp;n);
	int count = 0;
	int i = 0;
	for (i = 0; i &lt; 32; i++)
	{
		if ((n &amp; (1 &lt;&lt; i)) != 0)
		{
			count++;
		}
	}
	printf("%d\n", count);
	return 0;
}</code></pre> 
<p>上面这个题目其实还能优化（属于大佬能想到的）</p> 
<p>我就先把代码演示一下：</p> 
<pre><code class="language-cs">#include &lt;stdio.h&gt;
int main()
{
	int n = 0;
	scanf("%d", &amp;n);
	int count = 0;
	while (n)
	{
		n = n &amp; (n - 1);
		count++;
	}
	printf("%d\n", count);
	return 0;
}</code></pre> 
<p>这个代码最难理解的就是那个 n = n &amp; (n-1)。这个表达式可以把从右往左把最左边的1给去掉。</p> 
<p>画图演示： <img alt="" height="811" src="https://images2.imgbox.com/ae/9f/SHOMy6K1_o.png" width="1200"></p> 
<p>这个代码其实算法的体现是比较明显了 ，一般不容易想到。</p> 
<h2 id="%C2%A0%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%BD%8D%E7%BD%AE0%E6%88%96%E8%80%85%E7%BD%AE1"> <span style="color:#fe2c24;">二进制位置0或者置1</span></h2> 
<p> 编写代码将n的二进制序列的第5位（从右往左的第5位）（假设第5位是0）修改为1，然后再改回0。</p> 
<p>这个题目应该是相较前面的难度要少一点。其实我们只要在第5位异或（^）一个1，就可以了。利用异或的规则：相异为1。至于这个第5位的1是怎么来实现呢？我们只需要讲1向移4位就够了。第二部，就在第5位按位异或（^）上一个1，就可以了。因为我们前面改了第5位的数变成了1，异或相同为0。</p> 
<p>代码实现：</p> 
<pre><code class="language-cs">#include &lt;stdio.h&gt;
int main()
{
	int n = 0;
	scanf("%d", &amp;n);
	n ^= (1 &lt;&lt; 4);
	printf("%d\n", n);
	n ^= (1 &lt;&lt; 4);
	printf("%d\n", n);
	return 0;
}</code></pre> 
<p>代码演示： </p> 
<p><img alt="" height="707" src="https://images2.imgbox.com/54/69/VE1MHqSL_o.png" width="582"></p> 
<p>我们上面就举了个最简单的例子0，任何一位都没有1，第5位改了之后就变成了2的4次方，等于16，第二次我们又改回来了，变成了0。</p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2109c8efbd4e391aa51e7143481010a4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Windows/MacOS 上 VSCode 配置 C&#43;&#43;：LLVM（Clang &#43; Clangd &#43; LLDB)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/66bc48bb1b0393778c8d16adbda37250/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">pytorch 卷积神经网络CNN</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>