<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>缓和曲线放样资料计算与精度评定程序编写 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="缓和曲线放样资料计算与精度评定程序编写" />
<meta property="og:description" content="软件约束 软件界面 “缓和曲线放样资料计算与精度评定软件”主要有两个子界面，图6.1所示界面用于计算缓和曲线放样资料，图6.2所示界面用于测设数据精度评定。
软件操作 缓和曲线放样资料计算 在窗口中输入各个常数的值；
点击“导出数据”，选择导出的文件，当弹出如图6.4（右）的数据导出成功的提示后，代表数据导出成功；
我们打开导出的文件，内容如图6.5所示，每一行数据从左到右代表：放样点，置镜点，后视点，距离值，角度值，正反拨。 测设数据精度评定 首先点击“导入数据”，选择待精度评定的数据文件；
点击“计算显示”，界面中会分别用图和表格的形式表示各个点的精度情况。
附录：源代码 LayOffCaculate.h #ifndef LAYOFFCACULATE_H #define LAYOFFCACULATE_H #include&lt;iostream&gt; #include&lt;vector&gt; #define PI 3.141592653589793238 using namespace std; struct Point { string name; string zhiJing; string houShi; double juLi; double rad; int ZhengFan; double liCheng; }; double dgree2rad(int dd, int mm, double ss); void rad2degree(int &amp;dd, int &amp;mm, double &amp;ss, double rad); double biaozhunLicheng2Caculate(size_t bignum, double smallnum); void caculateLicheng2Biaozhun(size_t &amp;bignum, double &amp;smallnum, double cacunum); double fangxiangAngle(double dx, double dy); class ZhuDian { public: ZhuDian(double r_, double l0_, double alpha_, double zh_lc_, double t_, double l_, double e_) :r(r_), l0(l0_), alpha(alpha_), zh_lc(zh_lc_),t(t_), l(l_), e(e_) {} Point caculateZH(); Point caculateQZ(); Point caculateHY(); private: double r, l0, alpha, zh_lc, t, l, e; }; class HuanHe { public: HuanHe(Point ZH_, Point HY_, double r_, double l0_) //拷贝类型 :ZH(ZH_),HY(HY_),r(r_),l0(l0_){} vector&lt;Point&gt; caculateHH(); protected: int point_count(); private: Point ZH, HY; double r; double l0; }; class YuanQX { public: YuanQX(double r_, double l0_, Point HY_,Point QZ_, Point ZH_) :r(r_),l0(l0_),HY(HY_),QZ(QZ_),ZH(ZH_){}; vector&lt;Point&gt; caculateYQX(); protected: double caculateM(); double caculateP(); double caculateBelta0(); private: double r, l0; Point HY, QZ, ZH; }; #endif LAYOFFCACULATE_H LayOffCaculate." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/d31c94b8b6bfa02f4a3be9d263a86724/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-21T16:16:22+08:00" />
<meta property="article:modified_time" content="2021-07-21T16:16:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">缓和曲线放样资料计算与精度评定程序编写</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>软件约束</h3> 
<p><img src="https://images2.imgbox.com/9f/2a/Cks2XUCO_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_2"></a>软件界面</h3> 
<p>“缓和曲线放样资料计算与精度评定软件”主要有两个子界面，图6.1所示界面用于计算缓和曲线放样资料，图6.2所示界面用于测设数据精度评定。</p> 
<p><img src="https://images2.imgbox.com/c7/32/TAZq9Sec_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/89/e2/eT9re0JY_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_7"></a>软件操作</h3> 
<h4><a id="_8"></a>缓和曲线放样资料计算</h4> 
<ol><li>在窗口中输入各个常数的值；<br> <img src="https://images2.imgbox.com/1d/55/uiDWMqBv_o.png" alt="在这里插入图片描述"></li><li>点击“导出数据”，选择导出的文件，当弹出如图6.4（右）的数据导出成功的提示后，代表数据导出成功；<br> <img src="https://images2.imgbox.com/44/26/iBFbCxza_o.png" alt="在这里插入图片描述"></li><li>我们打开导出的文件，内容如图6.5所示，每一行数据从左到右代表：放样点，置镜点，后视点，距离值，角度值，正反拨。<img src="https://images2.imgbox.com/fc/41/GC6nxhFa_o.png" alt="在这里插入图片描述"></li></ol> 
<h4><a id="_14"></a>测设数据精度评定</h4> 
<ol><li>首先点击“导入数据”，选择待精度评定的数据文件；<br> <img src="https://images2.imgbox.com/59/b8/fF3ImMoY_o.png" alt="在这里插入图片描述"></li><li>点击“计算显示”，界面中会分别用图和表格的形式表示各个点的精度情况。<br> <img src="https://images2.imgbox.com/ba/9f/KVilukJR_o.png" alt="在这里插入图片描述"></li></ol> 
<h3><a id="_20"></a>附录：源代码</h3> 
<h4><a id="LayOffCaculateh_21"></a>LayOffCaculate.h</h4> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">ifndef</span> LAYOFFCACULATE_H</span>
<span class="token macro property">#<span class="token directive keyword">define</span> LAYOFFCACULATE_H</span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">define</span> PI 3.141592653589793238</span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">struct</span> Point <span class="token punctuation">{<!-- --></span>
	string name<span class="token punctuation">;</span>
	string zhiJing<span class="token punctuation">;</span>
	string houShi<span class="token punctuation">;</span>
	<span class="token keyword">double</span> juLi<span class="token punctuation">;</span>
	<span class="token keyword">double</span> rad<span class="token punctuation">;</span>
	<span class="token keyword">int</span> ZhengFan<span class="token punctuation">;</span>
	<span class="token keyword">double</span> liCheng<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> <span class="token function">dgree2rad</span><span class="token punctuation">(</span><span class="token keyword">int</span> dd<span class="token punctuation">,</span> <span class="token keyword">int</span> mm<span class="token punctuation">,</span> <span class="token keyword">double</span> ss<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">rad2degree</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>dd<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>mm<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">&amp;</span>ss<span class="token punctuation">,</span> <span class="token keyword">double</span> rad<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> <span class="token function">biaozhunLicheng2Caculate</span><span class="token punctuation">(</span>size_t bignum<span class="token punctuation">,</span> <span class="token keyword">double</span> smallnum<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">caculateLicheng2Biaozhun</span><span class="token punctuation">(</span>size_t <span class="token operator">&amp;</span>bignum<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">&amp;</span>smallnum<span class="token punctuation">,</span> <span class="token keyword">double</span> cacunum<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> <span class="token function">fangxiangAngle</span><span class="token punctuation">(</span><span class="token keyword">double</span> dx<span class="token punctuation">,</span> <span class="token keyword">double</span> dy<span class="token punctuation">)</span><span class="token punctuation">;</span>



<span class="token keyword">class</span> <span class="token class-name">ZhuDian</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">ZhuDian</span><span class="token punctuation">(</span><span class="token keyword">double</span> r_<span class="token punctuation">,</span> <span class="token keyword">double</span> l0_<span class="token punctuation">,</span> <span class="token keyword">double</span> alpha_<span class="token punctuation">,</span> <span class="token keyword">double</span> zh_lc_<span class="token punctuation">,</span> <span class="token keyword">double</span> t_<span class="token punctuation">,</span> <span class="token keyword">double</span> l_<span class="token punctuation">,</span> <span class="token keyword">double</span> e_<span class="token punctuation">)</span>
		<span class="token operator">:</span><span class="token function">r</span><span class="token punctuation">(</span>r_<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">l0</span><span class="token punctuation">(</span>l0_<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">alpha</span><span class="token punctuation">(</span>alpha_<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">zh_lc</span><span class="token punctuation">(</span>zh_lc_<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">t</span><span class="token punctuation">(</span>t_<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">l</span><span class="token punctuation">(</span>l_<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">e</span><span class="token punctuation">(</span>e_<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
	Point <span class="token function">caculateZH</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Point <span class="token function">caculateQZ</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	Point <span class="token function">caculateHY</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">double</span> r<span class="token punctuation">,</span> l0<span class="token punctuation">,</span> alpha<span class="token punctuation">,</span> zh_lc<span class="token punctuation">,</span> t<span class="token punctuation">,</span> l<span class="token punctuation">,</span> e<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">HuanHe</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">HuanHe</span><span class="token punctuation">(</span>Point ZH_<span class="token punctuation">,</span> Point HY_<span class="token punctuation">,</span> <span class="token keyword">double</span> r_<span class="token punctuation">,</span> <span class="token keyword">double</span> l0_<span class="token punctuation">)</span>    <span class="token comment">//拷贝类型</span>
	<span class="token operator">:</span><span class="token function">ZH</span><span class="token punctuation">(</span>ZH_<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">HY</span><span class="token punctuation">(</span>HY_<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">r</span><span class="token punctuation">(</span>r_<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">l0</span><span class="token punctuation">(</span>l0_<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
	vector<span class="token operator">&lt;</span>Point<span class="token operator">&gt;</span> <span class="token function">caculateHH</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">protected</span><span class="token operator">:</span>
	<span class="token keyword">int</span> <span class="token function">point_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	Point ZH<span class="token punctuation">,</span> HY<span class="token punctuation">;</span>
	<span class="token keyword">double</span> r<span class="token punctuation">;</span>
	<span class="token keyword">double</span> l0<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">YuanQX</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">YuanQX</span><span class="token punctuation">(</span><span class="token keyword">double</span> r_<span class="token punctuation">,</span> <span class="token keyword">double</span> l0_<span class="token punctuation">,</span> Point HY_<span class="token punctuation">,</span>Point QZ_<span class="token punctuation">,</span> Point ZH_<span class="token punctuation">)</span>
	<span class="token operator">:</span><span class="token function">r</span><span class="token punctuation">(</span>r_<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">l0</span><span class="token punctuation">(</span>l0_<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">HY</span><span class="token punctuation">(</span>HY_<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">QZ</span><span class="token punctuation">(</span>QZ_<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">ZH</span><span class="token punctuation">(</span>ZH_<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>

	vector<span class="token operator">&lt;</span>Point<span class="token operator">&gt;</span> <span class="token function">caculateYQX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">protected</span><span class="token operator">:</span>
	<span class="token keyword">double</span> <span class="token function">caculateM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> <span class="token function">caculateP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> <span class="token function">caculateBelta0</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token keyword">double</span> r<span class="token punctuation">,</span> l0<span class="token punctuation">;</span>
	Point HY<span class="token punctuation">,</span> QZ<span class="token punctuation">,</span> ZH<span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> LAYOFFCACULATE_H</span>
</code></pre> 
<h4><a id="LayOffCaculatecpp_90"></a>LayOffCaculate.cpp</h4> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"LayOffCaculate.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span>
<span class="token keyword">double</span> <span class="token function">dgree2rad</span><span class="token punctuation">(</span><span class="token keyword">int</span> dd<span class="token punctuation">,</span> <span class="token keyword">int</span> mm<span class="token punctuation">,</span> <span class="token keyword">double</span> ss<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	dd <span class="token operator">=</span> dd <span class="token operator">+</span> mm <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">+</span> ss <span class="token operator">/</span> <span class="token number">3600</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> dd <span class="token operator">*</span> PI <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">rad2degree</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>dd<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>mm<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">&amp;</span>ss<span class="token punctuation">,</span> <span class="token keyword">double</span> rad<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">double</span> temp<span class="token punctuation">;</span>
	temp <span class="token operator">=</span> rad <span class="token operator">*</span> <span class="token number">180</span> <span class="token operator">/</span> PI<span class="token punctuation">;</span>
	dd <span class="token operator">=</span> <span class="token keyword">int</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>

	mm <span class="token operator">=</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token punctuation">(</span>temp <span class="token operator">-</span> dd<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	ss <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>temp <span class="token operator">-</span> dd<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">-</span> mm<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">double</span> <span class="token function">biaozhunLicheng2Caculate</span><span class="token punctuation">(</span>size_t bignum<span class="token punctuation">,</span> <span class="token keyword">double</span> smallnum<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> bignum <span class="token operator">*</span> <span class="token number">1000</span> <span class="token operator">+</span> smallnum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">caculateLicheng2Biaozhun</span><span class="token punctuation">(</span>size_t <span class="token operator">&amp;</span>bignum<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">&amp;</span>smallnum<span class="token punctuation">,</span> <span class="token keyword">double</span> cacunum<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	bignum <span class="token operator">=</span> <span class="token keyword">int</span><span class="token punctuation">(</span>cacunum <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	smallnum <span class="token operator">=</span> cacunum <span class="token operator">-</span> bignum <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">double</span> <span class="token function">fangxiangAngle</span><span class="token punctuation">(</span><span class="token keyword">double</span> dx<span class="token punctuation">,</span> <span class="token keyword">double</span> dy<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//未检测</span>
	<span class="token keyword">double</span> angle<span class="token punctuation">;</span>

	<span class="token comment">//if (dx == 0) { </span>
	<span class="token comment">//	if(dy&gt;=0)</span>
	<span class="token comment">//		return angle = 0.0;</span>
	<span class="token comment">//}</span>
	<span class="token comment">//if (dy == 0) { angle = PI / 2; }</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>dy <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> dx <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		angle <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">atan</span><span class="token punctuation">(</span>dy <span class="token operator">/</span> dx<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span>dx <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> dy <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			angle <span class="token operator">=</span> angle<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>dx <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> dy<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			angle <span class="token operator">=</span> PI <span class="token operator">-</span> angle<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>dx <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> dy <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			angle <span class="token operator">=</span> PI <span class="token operator">+</span> angle<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>dx <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> dy <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			angle <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> PI <span class="token operator">-</span> angle<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> angle<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


Point ZhuDian<span class="token operator">::</span><span class="token function">caculateZH</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Point ZH<span class="token punctuation">;</span>
	ZH<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"ZH"</span><span class="token punctuation">;</span>
	ZH<span class="token punctuation">.</span>zhiJing <span class="token operator">=</span> <span class="token string">"JD"</span><span class="token punctuation">;</span>
	ZH<span class="token punctuation">.</span>houShi <span class="token operator">=</span> <span class="token string">"ZD"</span><span class="token punctuation">;</span>
	ZH<span class="token punctuation">.</span>juLi <span class="token operator">=</span> t<span class="token punctuation">;</span>
	ZH<span class="token punctuation">.</span>rad <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>
	ZH<span class="token punctuation">.</span>ZhengFan <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	ZH<span class="token punctuation">.</span>liCheng <span class="token operator">=</span> zh_lc<span class="token punctuation">;</span>
	<span class="token keyword">return</span> ZH<span class="token punctuation">;</span>
	
<span class="token punctuation">}</span>

Point ZhuDian<span class="token operator">::</span><span class="token function">caculateQZ</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Point QZ<span class="token punctuation">;</span>
	QZ<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"QZ"</span><span class="token punctuation">;</span>
	QZ<span class="token punctuation">.</span>zhiJing <span class="token operator">=</span> <span class="token string">"JD"</span><span class="token punctuation">;</span>
	QZ<span class="token punctuation">.</span>houShi <span class="token operator">=</span> <span class="token string">"ZD"</span><span class="token punctuation">;</span>
	QZ<span class="token punctuation">.</span>juLi <span class="token operator">=</span> e<span class="token punctuation">;</span>
	QZ<span class="token punctuation">.</span>rad <span class="token operator">=</span> <span class="token punctuation">(</span>PI <span class="token operator">-</span> alpha<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
	QZ<span class="token punctuation">.</span>ZhengFan <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	QZ<span class="token punctuation">.</span>liCheng <span class="token operator">=</span> zh_lc <span class="token operator">+</span> l <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> QZ<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Point ZhuDian<span class="token operator">::</span><span class="token function">caculateHY</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	Point HY<span class="token punctuation">;</span>
	HY<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"HY"</span><span class="token punctuation">;</span>
	HY<span class="token punctuation">.</span>zhiJing <span class="token operator">=</span> <span class="token string">"ZH"</span><span class="token punctuation">;</span>
	HY<span class="token punctuation">.</span>houShi <span class="token operator">=</span> <span class="token string">"JD"</span><span class="token punctuation">;</span>
	
	<span class="token keyword">double</span> x <span class="token operator">=</span> l0 <span class="token operator">-</span> <span class="token function">pow</span><span class="token punctuation">(</span>l0<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">40</span> <span class="token operator">/</span> <span class="token function">pow</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> y <span class="token operator">=</span> <span class="token function">pow</span><span class="token punctuation">(</span>l0<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">6</span> <span class="token operator">/</span> r<span class="token punctuation">;</span>
	HY<span class="token punctuation">.</span>rad <span class="token operator">=</span> <span class="token function">atan</span><span class="token punctuation">(</span>y <span class="token operator">/</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
	HY<span class="token punctuation">.</span>juLi <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	HY<span class="token punctuation">.</span>ZhengFan <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	HY<span class="token punctuation">.</span>liCheng <span class="token operator">=</span> zh_lc <span class="token operator">+</span> l0<span class="token punctuation">;</span>
	<span class="token keyword">return</span> HY<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

vector<span class="token operator">&lt;</span>Point<span class="token operator">&gt;</span> HuanHe<span class="token operator">::</span><span class="token function">caculateHH</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token function">point_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	count<span class="token operator">--</span><span class="token punctuation">;</span>
	vector<span class="token operator">&lt;</span>Point<span class="token operator">&gt;</span> hh_point_list<span class="token punctuation">;</span>
	Point hh_point<span class="token punctuation">;</span>
	<span class="token keyword">double</span> li<span class="token punctuation">,</span>  licheng<span class="token punctuation">,</span>smallnum<span class="token punctuation">;</span>
	size_t bignum<span class="token punctuation">;</span>
	<span class="token keyword">double</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		li <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">*</span> i<span class="token punctuation">;</span>
		x <span class="token operator">=</span> li <span class="token operator">-</span> <span class="token function">pow</span><span class="token punctuation">(</span>li<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">40</span> <span class="token operator">/</span> <span class="token function">pow</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">pow</span><span class="token punctuation">(</span>l0<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		y <span class="token operator">=</span> <span class="token function">pow</span><span class="token punctuation">(</span>li<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">6</span> <span class="token operator">/</span> r<span class="token operator">/</span>l0<span class="token punctuation">;</span>

		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"x="</span> <span class="token operator">&lt;&lt;</span> x <span class="token operator">&lt;&lt;</span> <span class="token string">"   y="</span> <span class="token operator">&lt;&lt;</span> y <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

		licheng <span class="token operator">=</span> ZH<span class="token punctuation">.</span>liCheng <span class="token operator">+</span> li<span class="token punctuation">;</span>


		<span class="token function">caculateLicheng2Biaozhun</span><span class="token punctuation">(</span>bignum<span class="token punctuation">,</span> smallnum<span class="token punctuation">,</span> licheng<span class="token punctuation">)</span><span class="token punctuation">;</span>

		


		hh_point<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"DK"</span> <span class="token operator">+</span> <span class="token function">to_string</span><span class="token punctuation">(</span>bignum<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"+"</span> <span class="token operator">+</span> <span class="token function">to_string</span><span class="token punctuation">(</span>smallnum<span class="token punctuation">)</span><span class="token punctuation">;</span>
		hh_point<span class="token punctuation">.</span>zhiJing <span class="token operator">=</span> <span class="token string">"ZH"</span><span class="token punctuation">;</span>
		hh_point<span class="token punctuation">.</span>houShi <span class="token operator">=</span> <span class="token string">"JD"</span><span class="token punctuation">;</span>
		hh_point<span class="token punctuation">.</span>juLi <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		hh_point<span class="token punctuation">.</span>liCheng <span class="token operator">=</span> licheng<span class="token punctuation">;</span>
		hh_point<span class="token punctuation">.</span>rad <span class="token operator">=</span> <span class="token function">atan</span><span class="token punctuation">(</span>y <span class="token operator">/</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
		cout <span class="token operator">&lt;&lt;</span> hh_point<span class="token punctuation">.</span>rad <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

		hh_point<span class="token punctuation">.</span>ZhengFan <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

		hh_point_list<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>hh_point<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> hh_point_list<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword">int</span> HuanHe<span class="token operator">::</span><span class="token function">point_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">double</span> zh_hy <span class="token operator">=</span>  HY<span class="token punctuation">.</span>liCheng<span class="token operator">-</span> ZH<span class="token punctuation">.</span>liCheng<span class="token punctuation">;</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token keyword">int</span><span class="token punctuation">(</span>zh_hy <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> count<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

vector<span class="token operator">&lt;</span>Point<span class="token operator">&gt;</span> YuanQX<span class="token operator">::</span><span class="token function">caculateYQX</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> hy_temp <span class="token operator">=</span> HY<span class="token punctuation">.</span>liCheng <span class="token operator">/</span> <span class="token number">20</span><span class="token punctuation">;</span>
	hy_temp <span class="token operator">=</span> hy_temp <span class="token operator">*</span> <span class="token number">20</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token punctuation">(</span>QZ<span class="token punctuation">.</span>liCheng <span class="token operator">-</span> hy_temp<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


	vector<span class="token operator">&lt;</span>Point<span class="token operator">&gt;</span> yqx_point_list<span class="token punctuation">;</span>
	Point yqx_point<span class="token punctuation">;</span>
	<span class="token keyword">double</span> li<span class="token punctuation">,</span> alphai<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span>smallnum<span class="token punctuation">;</span>
	size_t bignum<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		li <span class="token operator">=</span> hy_temp<span class="token operator">-</span>ZH<span class="token punctuation">.</span>liCheng <span class="token operator">+</span> <span class="token number">20</span> <span class="token operator">*</span> i<span class="token punctuation">;</span>
		alphai <span class="token operator">=</span> <span class="token punctuation">(</span>li <span class="token operator">-</span> l0<span class="token punctuation">)</span> <span class="token operator">/</span> r <span class="token operator">+</span> <span class="token function">caculateBelta0</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		x <span class="token operator">=</span> r <span class="token operator">*</span> <span class="token function">sin</span><span class="token punctuation">(</span>alphai<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">caculateM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		y <span class="token operator">=</span> r <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token function">cos</span><span class="token punctuation">(</span>alphai<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">caculateP</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">caculateLicheng2Biaozhun</span><span class="token punctuation">(</span>bignum<span class="token punctuation">,</span> smallnum<span class="token punctuation">,</span> li<span class="token operator">+</span>ZH<span class="token punctuation">.</span>liCheng<span class="token punctuation">)</span><span class="token punctuation">;</span>

		yqx_point<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"DK"</span> <span class="token operator">+</span> <span class="token function">to_string</span><span class="token punctuation">(</span>bignum<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"+"</span> <span class="token operator">+</span> <span class="token function">to_string</span><span class="token punctuation">(</span>smallnum<span class="token punctuation">)</span><span class="token punctuation">;</span>
		yqx_point<span class="token punctuation">.</span>zhiJing <span class="token operator">=</span> <span class="token string">"ZH"</span><span class="token punctuation">;</span>
		yqx_point<span class="token punctuation">.</span>houShi <span class="token operator">=</span> <span class="token string">"JD"</span><span class="token punctuation">;</span>
		yqx_point<span class="token punctuation">.</span>juLi <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		yqx_point<span class="token punctuation">.</span>liCheng <span class="token operator">=</span> li<span class="token operator">+</span>ZH<span class="token punctuation">.</span>liCheng<span class="token punctuation">;</span>
		yqx_point<span class="token punctuation">.</span>rad <span class="token operator">=</span> <span class="token function">atan</span><span class="token punctuation">(</span>y <span class="token operator">/</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
		yqx_point<span class="token punctuation">.</span>ZhengFan <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		yqx_point_list<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>yqx_point<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> yqx_point_list<span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token keyword">double</span> YuanQX<span class="token operator">::</span><span class="token function">caculateM</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> l0 <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token function">pow</span><span class="token punctuation">(</span>l0<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">240</span> <span class="token operator">/</span> <span class="token function">pow</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">double</span> YuanQX<span class="token operator">::</span><span class="token function">caculateP</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token function">pow</span><span class="token punctuation">(</span>l0<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">24</span> <span class="token operator">/</span> r<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">double</span> YuanQX<span class="token operator">::</span><span class="token function">caculateBelta0</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> l0 <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">/</span> r<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="MainWindowh_281"></a>MainWindow.h</h4> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">ifndef</span> MAINWINDOW_H</span>
<span class="token macro property">#<span class="token directive keyword">define</span> MAINWINDOW_H</span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;QMainWindow&gt;</span></span>
<span class="token comment">//#include&lt;MyMathLib/LayOffCaculate.h&gt;</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"LayOffCaculate.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
QT_BEGIN_HEADER
<span class="token keyword">namespace</span> Ui <span class="token punctuation">{<!-- --></span> <span class="token keyword">class</span> <span class="token class-name">MainWindow</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
QT_END_HEADER

<span class="token keyword">class</span> <span class="token class-name">MainWindow</span> <span class="token operator">:</span><span class="token keyword">public</span> QMainWindow
<span class="token punctuation">{<!-- --></span>
	Q_OBJECT
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">MainWindow</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token operator">~</span><span class="token function">MainWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> slots<span class="token operator">:</span>
	<span class="token keyword">void</span> <span class="token function">caculateClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">accuracyClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">private</span><span class="token operator">:</span>
	Ui<span class="token operator">::</span>MainWindow <span class="token operator">*</span>ui<span class="token punctuation">;</span>
	<span class="token keyword">double</span> r<span class="token punctuation">,</span> l0<span class="token punctuation">,</span> rad<span class="token punctuation">,</span> zh_lc<span class="token punctuation">,</span> t<span class="token punctuation">,</span> l<span class="token punctuation">,</span> e<span class="token punctuation">;</span>
	Si<span class="token operator">::</span>Point zh<span class="token punctuation">,</span> qz<span class="token punctuation">,</span> hy<span class="token punctuation">;</span>
	vector<span class="token operator">&lt;</span>Si<span class="token operator">::</span>Point<span class="token operator">&gt;</span> hh_point_list<span class="token punctuation">,</span> yqx_point_list<span class="token punctuation">;</span>
	std<span class="token operator">::</span>string <span class="token function">qstr2str</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString qstr<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		QByteArray cdata <span class="token operator">=</span> qstr<span class="token punctuation">.</span><span class="token function">toLocal8Bit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> std<span class="token operator">::</span><span class="token function">string</span><span class="token punctuation">(</span>cdata<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	QString <span class="token function">str2qstr</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token operator">::</span>string str<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> QString<span class="token operator">::</span><span class="token function">fromLocal8Bit</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> MAINWINDOW_H</span>
</code></pre> 
<h4><a id="MainWindowcpp_325"></a>MainWindow.cpp</h4> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"MainWindow.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"ui_MainWindow.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;qfiledialog.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;QMessageBox&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;fstream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sstream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"AccuracyWindow.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;qdebug.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;qstandarditemmodel.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;string&gt;</span></span>



MainWindow<span class="token operator">::</span><span class="token function">MainWindow</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span>
	<span class="token operator">:</span><span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>    <span class="token comment">//继承</span>
	<span class="token punctuation">,</span><span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token operator">::</span>MainWindow<span class="token punctuation">)</span>    <span class="token comment">//在ui中，mainwindow继承了ui_mainwindow</span>
<span class="token punctuation">{<!-- --></span>
	ui<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


	<span class="token comment">//r = 200;</span>
	<span class="token comment">//l0 = 30;</span>
	<span class="token comment">//rad = Si::dgree2rad(20, 00, 00);</span>
	<span class="token comment">//zh_lc = Si::biaozhunLicheng2Caculate(100, 335.79);</span>
	<span class="token comment">//t = 50.296;</span>
	<span class="token comment">//l = 99.813;</span>
	<span class="token comment">//e = 3.276;</span>



	<span class="token comment">//</span>
	<span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-</span><span class="token operator">&gt;</span>btn_out<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">caculateClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-</span><span class="token operator">&gt;</span>btn_accuracy<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">accuracyClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
MainWindow<span class="token operator">::</span><span class="token operator">~</span><span class="token function">MainWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">delete</span> ui<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">accuracyClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	AccuracyWindow <span class="token operator">*</span>accuracyWindow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">AccuracyWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	accuracyWindow<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> Si<span class="token punctuation">;</span>
<span class="token keyword">void</span> MainWindow<span class="token operator">::</span><span class="token function">caculateClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	r <span class="token operator">=</span> <span class="token function">atof</span><span class="token punctuation">(</span>ui<span class="token operator">-</span><span class="token operator">&gt;</span>input_r<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toStdString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	l0<span class="token operator">=</span> <span class="token function">atof</span><span class="token punctuation">(</span>ui<span class="token operator">-</span><span class="token operator">&gt;</span>input_l0<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toStdString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">int</span> dd<span class="token punctuation">,</span> mm<span class="token punctuation">;</span>
	<span class="token keyword">double</span> ss<span class="token punctuation">,</span> smallnum<span class="token punctuation">;</span>
	size_t bignum<span class="token punctuation">;</span>
	dd<span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>ui<span class="token operator">-</span><span class="token operator">&gt;</span>input_a0<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toStdString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	mm<span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>ui<span class="token operator">-</span><span class="token operator">&gt;</span>input_a1<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toStdString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ss<span class="token operator">=</span> <span class="token function">atof</span><span class="token punctuation">(</span>ui<span class="token operator">-</span><span class="token operator">&gt;</span>input_a2<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toStdString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	rad <span class="token operator">=</span> <span class="token function">dgree2rad</span><span class="token punctuation">(</span>dd<span class="token punctuation">,</span> mm<span class="token punctuation">,</span> ss<span class="token punctuation">)</span><span class="token punctuation">;</span>

	bignum<span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>ui<span class="token operator">-</span><span class="token operator">&gt;</span>input_zh0<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toStdString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	smallnum<span class="token operator">=</span> <span class="token function">atof</span><span class="token punctuation">(</span>ui<span class="token operator">-</span><span class="token operator">&gt;</span>input_zh1<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toStdString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	zh_lc <span class="token operator">=</span> <span class="token function">biaozhunLicheng2Caculate</span><span class="token punctuation">(</span>bignum<span class="token punctuation">,</span> smallnum<span class="token punctuation">)</span><span class="token punctuation">;</span>


	t<span class="token operator">=</span> <span class="token function">atof</span><span class="token punctuation">(</span>ui<span class="token operator">-</span><span class="token operator">&gt;</span>input_t<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toStdString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	l<span class="token operator">=</span> <span class="token function">atof</span><span class="token punctuation">(</span>ui<span class="token operator">-</span><span class="token operator">&gt;</span>input_l<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toStdString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	e<span class="token operator">=</span> <span class="token function">atof</span><span class="token punctuation">(</span>ui<span class="token operator">-</span><span class="token operator">&gt;</span>input_e<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toStdString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


	ZhuDian <span class="token function">zd</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> l0<span class="token punctuation">,</span> rad<span class="token punctuation">,</span> zh_lc<span class="token punctuation">,</span> t<span class="token punctuation">,</span> l<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
	hy <span class="token operator">=</span> zd<span class="token punctuation">.</span><span class="token function">caculateHY</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	zh <span class="token operator">=</span> zd<span class="token punctuation">.</span><span class="token function">caculateZH</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	qz <span class="token operator">=</span> zd<span class="token punctuation">.</span><span class="token function">caculateQZ</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


	HuanHe <span class="token function">hh</span><span class="token punctuation">(</span>zh<span class="token punctuation">,</span> hy<span class="token punctuation">,</span> r<span class="token punctuation">,</span> l0<span class="token punctuation">)</span><span class="token punctuation">;</span>
	hh_point_list <span class="token operator">=</span> hh<span class="token punctuation">.</span><span class="token function">caculateHH</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	YuanQX <span class="token function">yqx</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> l0<span class="token punctuation">,</span> hy<span class="token punctuation">,</span> qz<span class="token punctuation">,</span> zh<span class="token punctuation">)</span><span class="token punctuation">;</span>
	yqx_point_list <span class="token operator">=</span> yqx<span class="token punctuation">.</span><span class="token function">caculateYQX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//打开文件</span>
	QString filename<span class="token punctuation">;</span>
	filename <span class="token operator">=</span> QFileDialog<span class="token operator">::</span><span class="token function">getOpenFileName</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> QString<span class="token operator">::</span><span class="token function">fromLocal8Bit</span><span class="token punctuation">(</span><span class="token string">"选择导出文件"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"(*.csv)"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	std<span class="token operator">::</span>ofstream ofs<span class="token punctuation">;</span>
	string str_filename <span class="token operator">=</span> <span class="token function">qstr2str</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
	ofs<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>str_filename<span class="token punctuation">,</span> std<span class="token operator">::</span>ios<span class="token operator">::</span>trunc<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//打开清空内容</span>
	<span class="token comment">//先写入主点测设资料</span>
	<span class="token comment">//ofs &lt;&lt; "主点测设" &lt;&lt; std::endl;</span>
	<span class="token comment">//string temp = "放样点,置镜点,后视点,距离,角度,正反拨";</span>
	<span class="token comment">//ofs &lt;&lt; temp &lt;&lt; std::endl;</span>
	<span class="token function">rad2degree</span><span class="token punctuation">(</span>dd<span class="token punctuation">,</span> mm<span class="token punctuation">,</span> ss<span class="token punctuation">,</span> zh<span class="token punctuation">.</span>rad<span class="token punctuation">)</span><span class="token punctuation">;</span>
	ofs <span class="token operator">&lt;&lt;</span> zh<span class="token punctuation">.</span>name <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> zh<span class="token punctuation">.</span>zhiJing <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> zh<span class="token punctuation">.</span>houShi <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> zh<span class="token punctuation">.</span>juLi <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> dd <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> mm <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> ss <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> zh<span class="token punctuation">.</span>ZhengFan <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>

	<span class="token function">rad2degree</span><span class="token punctuation">(</span>dd<span class="token punctuation">,</span> mm<span class="token punctuation">,</span> ss<span class="token punctuation">,</span> qz<span class="token punctuation">.</span>rad<span class="token punctuation">)</span><span class="token punctuation">;</span>
	ofs <span class="token operator">&lt;&lt;</span> qz<span class="token punctuation">.</span>name <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> qz<span class="token punctuation">.</span>zhiJing <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> qz<span class="token punctuation">.</span>houShi <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> qz<span class="token punctuation">.</span>juLi <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> dd <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> mm <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> ss <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> qz<span class="token punctuation">.</span>ZhengFan <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>

	<span class="token function">rad2degree</span><span class="token punctuation">(</span>dd<span class="token punctuation">,</span> mm<span class="token punctuation">,</span> ss<span class="token punctuation">,</span> hy<span class="token punctuation">.</span>rad<span class="token punctuation">)</span><span class="token punctuation">;</span>
	ofs <span class="token operator">&lt;&lt;</span> hy<span class="token punctuation">.</span>name <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> hy<span class="token punctuation">.</span>zhiJing <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> hy<span class="token punctuation">.</span>houShi <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> hy<span class="token punctuation">.</span>juLi <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> dd <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> mm <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> ss <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> hy<span class="token punctuation">.</span>ZhengFan <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>

	ofs <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>

	<span class="token comment">//ofs &lt;&lt; "详细测设-缓和曲线" &lt;&lt; std::endl;</span>
	<span class="token comment">//ofs &lt;&lt; temp &lt;&lt; std::endl;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> hh_point_list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function">rad2degree</span><span class="token punctuation">(</span>dd<span class="token punctuation">,</span> mm<span class="token punctuation">,</span> ss<span class="token punctuation">,</span> hh_point_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>rad<span class="token punctuation">)</span><span class="token punctuation">;</span>
		ofs <span class="token operator">&lt;&lt;</span> hh_point_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> hh_point_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>zhiJing <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> hh_point_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>houShi
			<span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> hh_point_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>juLi <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> dd <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> mm <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> ss <span class="token operator">&lt;&lt;</span> <span class="token string">","</span>
			<span class="token operator">&lt;&lt;</span> hh_point_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ZhengFan <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>

	<span class="token punctuation">}</span>

	ofs <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
	<span class="token comment">//ofs &lt;&lt;"详细测设-圆曲线"&lt;&lt; std::endl;</span>
	<span class="token comment">//ofs &lt;&lt; temp &lt;&lt; std::endl;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> yqx_point_list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token function">rad2degree</span><span class="token punctuation">(</span>dd<span class="token punctuation">,</span> mm<span class="token punctuation">,</span> ss<span class="token punctuation">,</span> yqx_point_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>rad<span class="token punctuation">)</span><span class="token punctuation">;</span>
		ofs <span class="token operator">&lt;&lt;</span> yqx_point_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> yqx_point_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>zhiJing <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> yqx_point_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>houShi
			<span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> yqx_point_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>juLi <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> dd <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> mm <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> ss <span class="token operator">&lt;&lt;</span> <span class="token string">","</span>
			<span class="token operator">&lt;&lt;</span> yqx_point_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ZhengFan <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>

	<span class="token punctuation">}</span>

	ofs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	QMessageBox<span class="token operator">::</span><span class="token function">information</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token string">"information"</span><span class="token punctuation">,</span> <span class="token string">"Output Successfull!!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	

<span class="token punctuation">}</span>


</code></pre> 
<h4><a id="AccuracyWindowh_460"></a>AccuracyWindow.h</h4> 
<pre><code class="prism language-cpp"><span class="token macro property">#<span class="token directive keyword">ifndef</span> ACCURACYWINDOW_H</span>
<span class="token macro property">#<span class="token directive keyword">define</span> ACCURACYWINDOW_H</span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;QtCharts&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;QMainWindow&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;string&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

QT_BEGIN_HEADER
<span class="token keyword">namespace</span> Ui <span class="token punctuation">{<!-- --></span> <span class="token keyword">class</span> <span class="token class-name">AccuracyWindow</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
QT_END_HEADER

<span class="token keyword">class</span> <span class="token class-name">AccuracyWindow</span> <span class="token operator">:</span><span class="token keyword">public</span> QMainWindow
<span class="token punctuation">{<!-- --></span>
	Q_OBJECT
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token function">AccuracyWindow</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	vector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span> <span class="token function">accuracyCaculate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token operator">~</span><span class="token function">AccuracyWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> slots<span class="token operator">:</span>
	<span class="token keyword">void</span> <span class="token function">InputFileData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">void</span> <span class="token function">CaculateShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">private</span><span class="token operator">:</span>
	Ui<span class="token operator">::</span>AccuracyWindow <span class="token operator">*</span>ui<span class="token punctuation">;</span>
	vector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span> alpha0_list<span class="token punctuation">;</span>
	vector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span> alpha1_list<span class="token punctuation">,</span> juli0_list<span class="token punctuation">,</span> juli1_list<span class="token punctuation">;</span>
	std<span class="token operator">::</span>string <span class="token function">qstr2str</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString qstr<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		QByteArray cdata <span class="token operator">=</span> qstr<span class="token punctuation">.</span><span class="token function">toLocal8Bit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> std<span class="token operator">::</span><span class="token function">string</span><span class="token punctuation">(</span>cdata<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	QString <span class="token function">str2qstr</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token operator">::</span>string str<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> QString<span class="token operator">::</span><span class="token function">fromLocal8Bit</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> ACCURACYWINDOW_H</span>
</code></pre> 
<h4><a id="AccuracyWindowcpp_505"></a>AccuracyWindow.cpp</h4> 
<pre><code class="prism language-cpp"><span class="token comment">//#include "MainWindow.h"</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"AccuracyWindow.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;fstream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sstream&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"ui_AccuracyWindow.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">"LayOffCaculate.h"</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;qfiledialog.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;QChartView&gt;</span></span>

<span class="token comment">//using namespace Si;</span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> QtCharts<span class="token punctuation">;</span>
AccuracyWindow<span class="token operator">::</span><span class="token function">AccuracyWindow</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span>
	<span class="token operator">:</span><span class="token function">QMainWindow</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>    <span class="token comment">//继承</span>
	<span class="token punctuation">,</span><span class="token function">ui</span><span class="token punctuation">(</span><span class="token keyword">new</span> Ui<span class="token operator">::</span>AccuracyWindow<span class="token punctuation">)</span>    <span class="token comment">//在ui中，mainwindow继承了ui_mainwindow</span>
<span class="token punctuation">{<!-- --></span>
	ui<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setupUi</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-</span><span class="token operator">&gt;</span>pushButton<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">InputFileData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">connect</span><span class="token punctuation">(</span>ui<span class="token operator">-</span><span class="token operator">&gt;</span>btn_caculate<span class="token punctuation">,</span> <span class="token function">SIGNAL</span><span class="token punctuation">(</span><span class="token function">clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token function">SLOT</span><span class="token punctuation">(</span><span class="token function">CaculateShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
<span class="token punctuation">}</span>
vector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span> AccuracyWindow<span class="token operator">::</span><span class="token function">accuracyCaculate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	vector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span> mm_list<span class="token punctuation">;</span>

	<span class="token keyword">double</span> mm<span class="token punctuation">,</span> jltemp<span class="token punctuation">,</span> alphatemp<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> juli0_list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		jltemp <span class="token operator">=</span> juli0_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> juli1_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		alphatemp <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>alpha0_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> alpha1_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		mm <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span>jltemp<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span>alphatemp<span class="token operator">*</span>juli0_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		mm_list<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>mm<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> mm_list<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
AccuracyWindow<span class="token operator">::</span><span class="token operator">~</span><span class="token function">AccuracyWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">delete</span> ui<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;qdebug.h&gt;</span></span>
<span class="token keyword">namespace</span> Si <span class="token punctuation">{<!-- --></span>
	
	<span class="token comment">//根据字符分割字符串</span>
	std<span class="token operator">::</span>vector<span class="token operator">&lt;</span>std<span class="token operator">::</span>string<span class="token operator">&gt;</span> <span class="token function">string_split_by_character</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token operator">::</span>string <span class="token operator">&amp;</span>str<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">&amp;</span>character<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		std<span class="token operator">::</span>vector<span class="token operator">&lt;</span>std<span class="token operator">::</span>string<span class="token operator">&gt;</span> mod_vec_str<span class="token punctuation">;</span>  <span class="token comment">//返回值</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			mod_vec_str<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		size_t position <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		std<span class="token operator">::</span>string mod_str <span class="token operator">=</span> str<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>position <span class="token operator">=</span> mod_str<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>character<span class="token punctuation">,</span> position<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> std<span class="token operator">::</span>string<span class="token operator">::</span>npos<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			mod_vec_str<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>mod_str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> position<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			mod_str <span class="token operator">=</span> mod_str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>position <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> mod_str<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			position <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>mod_str<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			mod_vec_str<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>mod_str<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> mod_vec_str<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token keyword">void</span> AccuracyWindow<span class="token operator">::</span><span class="token function">InputFileData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	juli0_list<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	juli1_list<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	alpha0_list<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	alpha1_list<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	QString filename<span class="token punctuation">;</span>
	filename <span class="token operator">=</span> QFileDialog<span class="token operator">::</span><span class="token function">getOpenFileName</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> QString<span class="token operator">::</span><span class="token function">fromLocal8Bit</span><span class="token punctuation">(</span><span class="token string">"选择数据文件"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token function">tr</span><span class="token punctuation">(</span><span class="token string">"(*.txt)"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	string str_filename <span class="token operator">=</span> <span class="token function">qstr2str</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>

	std<span class="token operator">::</span>ifstream ifs<span class="token punctuation">;</span>
	ifs<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>str_filename<span class="token punctuation">)</span><span class="token punctuation">;</span>

	std<span class="token operator">::</span>string temp<span class="token punctuation">;</span>
	std<span class="token operator">::</span>string alpha0<span class="token punctuation">,</span> alpha1<span class="token punctuation">,</span> jl0<span class="token punctuation">,</span> jl1<span class="token punctuation">;</span>
	<span class="token keyword">int</span> dd<span class="token punctuation">,</span> mm<span class="token punctuation">;</span>
	<span class="token keyword">double</span> ss<span class="token punctuation">;</span>

	std<span class="token operator">::</span>vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> alpha_temp<span class="token punctuation">;</span>
	

	vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> temp_list<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span>std<span class="token operator">::</span><span class="token function">getline</span><span class="token punctuation">(</span>ifs<span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		temp_list <span class="token operator">=</span> Si<span class="token operator">::</span><span class="token function">string_split_by_character</span><span class="token punctuation">(</span>temp<span class="token punctuation">,</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//原始方向距离：</span>
		    <span class="token comment">//方向</span>

		alpha_temp <span class="token operator">=</span> Si<span class="token operator">::</span><span class="token function">string_split_by_character</span><span class="token punctuation">(</span>temp_list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		jl0 <span class="token operator">=</span> temp_list<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		dd <span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>alpha_temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		mm<span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>alpha_temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		ss<span class="token operator">=</span> <span class="token function">atof</span><span class="token punctuation">(</span>alpha_temp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		alpha0_list<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>Si<span class="token operator">::</span><span class="token function">dgree2rad</span><span class="token punctuation">(</span>dd<span class="token punctuation">,</span> mm<span class="token punctuation">,</span> ss<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		juli0_list<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">atof</span><span class="token punctuation">(</span>jl0<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">//实测方向距离：</span>
		alpha_temp <span class="token operator">=</span> Si<span class="token operator">::</span><span class="token function">string_split_by_character</span><span class="token punctuation">(</span>temp_list<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		jl0 <span class="token operator">=</span> temp_list<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		dd <span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>alpha_temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		mm <span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>alpha_temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		ss <span class="token operator">=</span> <span class="token function">atof</span><span class="token punctuation">(</span>alpha_temp<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		alpha1_list<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>Si<span class="token operator">::</span><span class="token function">dgree2rad</span><span class="token punctuation">(</span>dd<span class="token punctuation">,</span> mm<span class="token punctuation">,</span> ss<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		juli1_list<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">atof</span><span class="token punctuation">(</span>jl0<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;qstandarditemmodel.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;qdebug.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;qbarseries.h&gt;</span></span>
<span class="token keyword">void</span> AccuracyWindow<span class="token operator">::</span><span class="token function">CaculateShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>




	vector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">&gt;</span> mm_list <span class="token operator">=</span> <span class="token function">accuracyCaculate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//表格</span>
	QStandardItemModel<span class="token operator">*</span> model <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QStandardItemModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//QStringList labels;</span>
	<span class="token comment">//labels &lt;&lt; QStringLiteral("理论角度值") &lt;&lt; QStringLiteral("理论距离值") &lt;&lt; QStringLiteral("实际角度值") &lt;&lt; QStringLiteral("实际距离值") &lt;&lt; QStringLiteral("点位中误差");</span>
	<span class="token comment">//QStringList labels = QObject::trUtf8("理论角度值,理论距离值,实际角度值,实际距离值,点位中误差").simplified().split(",");//将string转为QStringList</span>
	QStringList labels <span class="token operator">=</span> QObject<span class="token operator">::</span><span class="token function">trUtf8</span><span class="token punctuation">(</span><span class="token string">"alpha0,l0,alpha1,l1,sigma"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">simplified</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setHorizontalHeaderLabels</span><span class="token punctuation">(</span>labels<span class="token punctuation">)</span><span class="token punctuation">;</span>
	QStandardItem <span class="token operator">*</span>item <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> ss<span class="token punctuation">;</span>
	<span class="token keyword">int</span> dd<span class="token punctuation">,</span> mm<span class="token punctuation">;</span>
	string dms<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> juli0_list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		Si<span class="token operator">::</span><span class="token function">rad2degree</span><span class="token punctuation">(</span>dd<span class="token punctuation">,</span> mm<span class="token punctuation">,</span> ss<span class="token punctuation">,</span> alpha0_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


		dms <span class="token operator">=</span> std<span class="token operator">::</span><span class="token function">to_string</span><span class="token punctuation">(</span>dd<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> std<span class="token operator">::</span><span class="token function">to_string</span><span class="token punctuation">(</span>mm<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> std<span class="token operator">::</span><span class="token function">to_string</span><span class="token punctuation">(</span>ss<span class="token punctuation">)</span><span class="token punctuation">;</span>
		item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QStandardItem</span><span class="token punctuation">(</span>QString<span class="token operator">::</span><span class="token function">fromStdString</span><span class="token punctuation">(</span>dms<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setItem</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>

		item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QStandardItem</span><span class="token punctuation">(</span>QString<span class="token operator">::</span><span class="token function">fromStdString</span><span class="token punctuation">(</span>std<span class="token operator">::</span><span class="token function">to_string</span><span class="token punctuation">(</span>juli0_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setItem</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>

		Si<span class="token operator">::</span><span class="token function">rad2degree</span><span class="token punctuation">(</span>dd<span class="token punctuation">,</span> mm<span class="token punctuation">,</span> ss<span class="token punctuation">,</span> alpha1_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		dms <span class="token operator">=</span> std<span class="token operator">::</span><span class="token function">to_string</span><span class="token punctuation">(</span>dd<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> std<span class="token operator">::</span><span class="token function">to_string</span><span class="token punctuation">(</span>mm<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> std<span class="token operator">::</span><span class="token function">to_string</span><span class="token punctuation">(</span>ss<span class="token punctuation">)</span><span class="token punctuation">;</span>
		item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QStandardItem</span><span class="token punctuation">(</span>QString<span class="token operator">::</span><span class="token function">fromStdString</span><span class="token punctuation">(</span>dms<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setItem</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>

		item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QStandardItem</span><span class="token punctuation">(</span>QString<span class="token operator">::</span><span class="token function">fromStdString</span><span class="token punctuation">(</span>std<span class="token operator">::</span><span class="token function">to_string</span><span class="token punctuation">(</span>juli1_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setItem</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>

		item <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QStandardItem</span><span class="token punctuation">(</span>QString<span class="token operator">::</span><span class="token function">fromStdString</span><span class="token punctuation">(</span>std<span class="token operator">::</span><span class="token function">to_string</span><span class="token punctuation">(</span>mm_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		model<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setItem</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	ui<span class="token operator">-</span><span class="token operator">&gt;</span>tableView<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setModel</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>


	<span class="token comment">//画图</span>
	QBarSeries <span class="token operator">*</span>series <span class="token operator">=</span> <span class="token keyword">new</span> QBarSeries<span class="token punctuation">;</span>
	QBarCategoryAxis <span class="token operator">*</span>axis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QBarCategoryAxis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	QBarSet <span class="token operator">*</span>set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QBarSet</span><span class="token punctuation">(</span><span class="token function">QStringLiteral</span><span class="token punctuation">(</span><span class="token string">"sigma"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">double</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> juli0_list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		set<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">append</span><span class="token punctuation">(</span>mm_list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token punctuation">}</span>
	series<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">append</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span>
	QChart <span class="token operator">*</span>chart <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QChart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	chart<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">addSeries</span><span class="token punctuation">(</span>series<span class="token punctuation">)</span><span class="token punctuation">;</span>
	chart<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setTitle</span><span class="token punctuation">(</span>QString<span class="token operator">::</span><span class="token function">fromLocal8Bit</span><span class="token punctuation">(</span><span class="token string">"error of mean squares"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	chart<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setAnimationOptions</span><span class="token punctuation">(</span>QChart<span class="token operator">::</span>SeriesAnimations<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//动画</span>
	QStringList categories<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> juli0_list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

		categories<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>QString<span class="token operator">::</span><span class="token function">fromLocal8Bit</span><span class="token punctuation">(</span><span class="token function">to_string</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	

	axis<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">append</span><span class="token punctuation">(</span>categories<span class="token punctuation">)</span><span class="token punctuation">;</span>
	chart<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">createDefaultAxes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	chart<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setAxisX</span><span class="token punctuation">(</span>axis<span class="token punctuation">,</span> series<span class="token punctuation">)</span><span class="token punctuation">;</span>
	chart<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">legend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setVisible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置图例为显示状态</span>
	chart<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">legend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setAlignment</span><span class="token punctuation">(</span>Qt<span class="token operator">::</span>AlignBottom<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//设置图例的显示位置在底部</span>

	ui<span class="token operator">-</span><span class="token operator">&gt;</span>mychart<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setChart</span><span class="token punctuation">(</span>chart<span class="token punctuation">)</span><span class="token punctuation">;</span>
	ui<span class="token operator">-</span><span class="token operator">&gt;</span>mychart<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setRenderHint</span><span class="token punctuation">(</span>QPainter<span class="token operator">::</span>Antialiasing<span class="token punctuation">)</span><span class="token punctuation">;</span>
	chart<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">createDefaultAxes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	chart<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">setTheme</span><span class="token punctuation">(</span>QChart<span class="token operator">::</span>ChartThemeDark<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/448da4416a98cf968a1f5f3dfadde474/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JAVA全栈知识体系--java三大特性</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/53f924721602831e29f3322e8741c3bd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">数值计算作业：matlab实现</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>