<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux中怎么搭建Discuz论坛 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux中怎么搭建Discuz论坛" />
<meta property="og:description" content="文章目录 Linux中怎么搭建Discuz论坛1、搭建yum安装环境：2、安装http服务：3、安装php*软件：4、安装数据库：5、登陆数据库：6、创建数据库：7、搭建论坛： Linux中怎么搭建Discuz论坛 说明：本实验再虚拟机中进行，所使用的软件是VMware Workstation Pro14.0
使用的是rhel-server-7.5-x86_64-dvd的镜像文件，搭建论坛的安装包为Discuz_X2.5_SC_UTF8.zip。
1、搭建yum安装环境： （1）编辑yum的配置文件： vim /etc/yum.repos.d/base.repo
（2）在配置文件中写下下面这段代码，写完后记得保存并退出。
（3）然后我们将Redhat7.5的镜像文件挂载到指定挂载点目录/mnt使用命令： mount /dev/sr0 /mnt/
（4）紧接着我们使用命令：yum repolist 查看一下yum的安装是否正确，当状态出现5099时，说明安装没有问题。如下图：
2、安装http服务： （1）使用命令： yum install httpd -y，来安装一个http（包名：httpd）的服务，当出现complete！即完成。
（2）重新启用httpd这个服务，使用命令 systemctl restart httpd
（3）我们查看一下防火墙运行状况，使用命令： systemctl status firewalld
（4）由于防火墙是开着的，会阻止我们虚拟机与pc之间互相的访问，因此我们需要关闭防火墙。
使用命令： systemctl stop firewalld.service
（5）然后我们使用pc机上的浏览器，输入虚拟机当前的IP地址：192.168.0.22，然后访问。就会进入如下界面：
看到这个界面，说明已经访问到的是http所用apache软件的主界面。
（6）如果没有看到这个界面，还需要关闭SELINUX，使用命令： setenforce 0，关于SELINUX以后我会在我Linux进阶中详细解释的。建议有没有看到这个界面，都敲一下比较好。
3、安装php*软件： 它是网页相关的软件，我们要动态访问网页。安装有关php的所有软件，使用命令：yum install php＊ -y
4、安装数据库： （1）一般默认都已经安装过了，不过没关系，我们可以再安装一下，使用命令： yum install mariadb-db -y ，它会提示我们已经安装过了。如下图：
（2）启动服务，使用命令： systemctl start mariadb.service
（3）数据库安好后，我们需要初始化数据库。论坛中的数据都被存放再数据库中，数据库可以简单的理解为一张EXCEL表格，对应的用户和密码等信息。
①安装数据库：使用命令： mysql_secure_installation
②然后直接回车进入下一步，它会提示是否给进入数据库的root用户设置密码
③我们输入y或Y，回车后输入密码，两次密码一致进入下一步。
④询问：是否删除匿名（anonymous）用户？y 这个根据实际情况而定。由于我们这里是实验，直接y到下一步。
⑤询问：不允许（disallow）root用户远程登陆？y
⑥询问：移除数据测试数据库并访问它？y
⑦询问：现在重新加载权限表？y" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/0c147743984b498e5a06e8ad26cef15f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-12-26T08:57:26+08:00" />
<meta property="article:modified_time" content="2018-12-26T08:57:26+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux中怎么搭建Discuz论坛</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#LinuxDiscuz_1" rel="nofollow">Linux中怎么搭建Discuz论坛</a></li><li><ul><li><a href="#1yum_4" rel="nofollow">1、搭建yum安装环境：</a></li><li><a href="#2http_11" rel="nofollow">2、安装http服务：</a></li><li><a href="#3php_22" rel="nofollow">3、安装php*软件：</a></li><li><a href="#4_24" rel="nofollow">4、安装数据库：</a></li><li><a href="#5_38" rel="nofollow">5、登陆数据库：</a></li><li><a href="#6_41" rel="nofollow">6、创建数据库：</a></li><li><a href="#7_46" rel="nofollow">7、搭建论坛：</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="LinuxDiscuz_1"></a>Linux中怎么搭建Discuz论坛</h2> 
<p>说明：本实验再虚拟机中进行，所使用的软件是VMware Workstation Pro14.0<br> 使用的是rhel-server-7.5-x86_64-dvd的镜像文件，搭建论坛的安装包为Discuz_X2.5_SC_UTF8.zip。</p> 
<h3><a id="1yum_4"></a>1、搭建yum安装环境：</h3> 
<p>（1）编辑yum的配置文件： <strong>vim /etc/yum.repos.d/base.repo</strong><br> （2）在配置文件中写下下面这段代码，写完后记得保存并退出。<br> <img src="https://images2.imgbox.com/ae/30/GiKIOpZK_o.png" alt="在这里插入图片描述"><br> （3）然后我们将Redhat7.5的镜像文件挂载到指定挂载点目录/mnt使用命令： <strong>mount /dev/sr0 /mnt/</strong><br> （4）紧接着我们使用命令：<strong>yum repolist</strong> 查看一下yum的安装是否正确，当状态出现5099时，说明安装没有问题。如下图：<br> <img src="https://images2.imgbox.com/0e/a8/nxguGdU4_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2http_11"></a>2、安装http服务：</h3> 
<p>（1）使用命令： <strong>yum install httpd -y</strong>，来安装一个http（包名：httpd）的服务，当出现complete！即完成。<br> （2）重新启用httpd这个服务，使用命令 <strong>systemctl restart httpd</strong><br> （3）我们查看一下防火墙运行状况，使用命令： <strong>systemctl status firewalld</strong><br> <img src="https://images2.imgbox.com/ac/70/Wcxz34LS_o.png" alt="在这里插入图片描述"><br> （4）由于防火墙是开着的，会阻止我们虚拟机与pc之间互相的访问，因此我们需要关闭防火墙。<br> 使用命令： <strong>systemctl stop firewalld.service</strong><br> （5）然后我们使用pc机上的浏览器，输入虚拟机当前的IP地址：192.168.0.22，然后访问。就会进入如下界面：<br> <img src="https://images2.imgbox.com/98/44/8dJyCf4B_o.png" alt="在这里插入图片描述"><br> 看到这个界面，说明已经访问到的是http所用apache软件的主界面。<br> （6）如果没有看到这个界面，还需要关闭SELINUX，使用命令： <strong>setenforce 0</strong>，关于SELINUX以后我会在我Linux进阶中详细解释的。建议有没有看到这个界面，都敲一下比较好。</p> 
<h3><a id="3php_22"></a>3、安装php*软件：</h3> 
<p>它是网页相关的软件，我们要动态访问网页。安装有关php的所有软件，使用命令：<strong>yum install php＊ -y</strong></p> 
<h3><a id="4_24"></a>4、安装数据库：</h3> 
<p>（1）一般默认都已经安装过了，不过没关系，我们可以再安装一下，使用命令： <strong>yum install mariadb-db -y</strong> ，它会提示我们已经安装过了。如下图：<br> <img src="https://images2.imgbox.com/9f/0a/52cAJZOL_o.png" alt="在这里插入图片描述"><br> （2）启动服务，使用命令： <strong>systemctl start mariadb.service</strong><br> （3）数据库安好后，我们需要初始化数据库。论坛中的数据都被存放再数据库中，数据库可以简单的理解为一张EXCEL表格，对应的用户和密码等信息。<br> ①安装数据库：使用命令： <strong>mysql_secure_installation</strong><br> ②然后直接回车进入下一步，它会提示是否给进入数据库的root用户设置密码<br> ③我们输入y或Y，回车后输入密码，两次密码一致进入下一步。<br> <img src="https://images2.imgbox.com/3d/6e/6QvzdqQu_o.png" alt="在这里插入图片描述"><br> ④询问：是否删除匿名（anonymous）用户？y 这个根据实际情况而定。由于我们这里是实验，直接y到下一步。<br> ⑤询问：不允许（disallow）root用户远程登陆？y<br> ⑥询问：移除数据测试数据库并访问它？y<br> ⑦询问：现在重新加载权限表？y<br> <img src="https://images2.imgbox.com/d7/d4/ieg7cIbo_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5_38"></a>5、登陆数据库：</h3> 
<p>使用命令： <strong>mysql -u root -p 回车</strong> ，密码为进入数据库的密码。进入数据库后，我们可以使用数据库的命令简单的看一下： <strong>show databases;</strong><br> <img src="https://images2.imgbox.com/9a/6f/gZPdVETf_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="6_41"></a>6、创建数据库：</h3> 
<p>使用命令： <strong>create dabase luntan;</strong> 创建完成后，我们在使用 <strong>show databases;</strong> 检查一下，发现luntan的数据库已经成功创建。<br> <img src="https://images2.imgbox.com/e2/3d/5p1VK86z_o.png" alt="在这里插入图片描述"><br> 完成之后我们使用命令：<strong>quit</strong> 或者 <strong>exit</strong> 退出即可。</p> 
<h3><a id="7_46"></a>7、搭建论坛：</h3> 
<p>在搭建论坛前首先了解有关网页的两个名词：<br> <strong>静态界面</strong> ：是指网页的代码都在页面中，它不需要执行一些程序生成客户端网页代码的网页，它不能自主管理发布更新的页面。<br> <strong>动态界面</strong> ：它通过执行一些程序生成客户端网页代码的网页，动态网页可以通过网站后台管理系统对网站的内容进行更新管理。发布新闻，交流互动，博客、登陆邮箱，与服务器之间有互动。<br> （1） 切到指定文件夹：<strong>cd /var/www/html</strong> ，论坛的源码解压就要到指定文件夹。<br> 这个目录为http服务所能访问到的页面，如果在这里创建一个 文件 ，并在里面写入一些内容。使用命令：<strong>echo I love China &gt; index.html</strong> 我们再访问192.168.0.22就会看到如下图结果：<br> <img src="https://images2.imgbox.com/0c/45/kul8EH0n_o.png" alt="在这里插入图片描述"><br> 这个看一下知道就好了，我们把它先删除掉吧。<br> （2）然后我们需要把论坛的源码软件传到这个目录，源码软件在windows中名字是 <strong>Discuz_X2.5_SC_UTF8.zip</strong> ，因此我们需要使用 <strong>rz</strong> 命令<br> （3）传过来的文件为zip后缀的压缩文件，因此我们需要使用命令： <strong>unzip Discuz_X2.5_SC_UTF8.zip</strong> 对文件进行解压。<br> （4）重启服务、数据库：<br> 重启httpd服务： <strong>systemctl restart httpd.service</strong><br> 重启数据库： <strong>systemctl restart mariadb.service</strong><br> （4）访问 <strong>192.168.0.22/upload/</strong> 就可以进入Discuz！安装向导。点击接受<br> <img src="https://images2.imgbox.com/ce/f9/vrYuzFfW_o.png" alt="在这里插入图片描述"><br> （5）我们发现我们很多目录文件都不可写，因此我们需要改权限。<br> <img src="https://images2.imgbox.com/52/7a/f5U98Gvs_o.png" alt="在这里插入图片描述"><br> （6）改权限使用命令： <strong>chmod 777 config/ data/ uc_＊ -R</strong> 将这些目录以及其目录下所包含的所有文件和目录都赋予777的权限，刷新安装向导网页：发现所有状态为 <strong>可写</strong> 状态<br> （7）下一步、再下一步：<br> <img src="https://images2.imgbox.com/c1/c6/okXSrCNy_o.png" alt="在这里插入图片描述"><br> （8）下一步，安装完成后。然后关闭浏览器，重新进入访问　<strong>192.168.0.22/upload</strong>。此时DISCUZ论坛已经完全搭建，我们可以在里面注册用户、登陆。</p> 
<p>到这里我们本节实验就讲解完了，大家可以登陆论坛玩一玩，除此之外。大家还可以用局域网下其他的PC去访问一下192.168.0.22/upload，你会发现别人也能登陆进来哦！</p> 
<p>本节使用的主要命令总结：</p> 
<table><thead><tr><th align="left">命令</th><th align="left">注释</th></tr></thead><tbody><tr><td align="left">yum install httpd -y</td><td align="left">确认安装httpd的服务</td></tr><tr><td align="left">systemctl restart httpd</td><td align="left">重启http的服务</td></tr><tr><td align="left">systemctl status firewalld</td><td align="left">查看防火墙状态</td></tr><tr><td align="left">systemctl stop firewalld.service</td><td align="left">关闭防火墙</td></tr><tr><td align="left">setenforce 0</td><td align="left">关闭SELINUX</td></tr><tr><td align="left">yum install php * -y</td><td align="left">确认安装有关PHP所有软件</td></tr><tr><td align="left">yum install mariadb-db -y</td><td align="left">确认安装数据库文件</td></tr><tr><td align="left">systemctl start mariadb.service</td><td align="left">启动数据库文件</td></tr><tr><td align="left">mysql_secure_installation</td><td align="left">安装数据库</td></tr><tr><td align="left">mysql -u root -p</td><td align="left">登陆数据库</td></tr><tr><td align="left">show databases；</td><td align="left">查看都有哪些数据库</td></tr><tr><td align="left">create dabase luntan;</td><td align="left">创建名为论坛的数据库</td></tr><tr><td align="left">chmod 777 config/ data/ uc_* -R</td><td align="left">为config/data/uc_*这些文件夹和其所拥有的目录和文件都赋予777的权限</td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7e7184bb778fc9647ff3b75b0d961f90/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">利用python 在网页上显示markdown</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f20f3518449e09f333acc40bd707ff8f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Linux下的-bash: command not found错误(解决方法)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>