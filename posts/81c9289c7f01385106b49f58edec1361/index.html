<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>关于QString的常见用法（详细讲解） - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="关于QString的常见用法（详细讲解）" />
<meta property="og:description" content="QString类提供一个unicode字符串。在QT软件开发平台中常用到的一种变量类型，其提供了很多方便的应用方法。下面介绍一些关于QString的常见用法。
1.字符串末尾追加
//example 1 QString str=&#34;hello&#34;; str.append(&#34;world&#34;); qDebug() &lt;&lt;str; //str=hello world //example 2 QString str=&#34;hello&#34;; str=str&#43;&#34;world&#34;; qDebug() &lt;&lt;str; //str=hello world //example 3 QString str=&#34;hello&#34;; str&#43;=&#34;world&#34;; qDebug() &lt;&lt;str; //str=hello world 2.取出字符串中指定位置的字符
QString str=&#34;hello world&#34;; char ch; ch=str.at(1).unicode(); qDebug() &lt;&lt;ch; //ch=e 3.从字符串末尾删除若干个字符
QString str=&#34;hello world&#34;; str.chop(2); qDebug() &lt;&lt;str; //str= hello wor 4.清空字符串
//example 1 QString str=&#34;hello world&#34;; str.clear(); qDebug() &lt;&lt;str.size(); //str=&#34;&#34; //example 2 QString str=&#34;hello world&#34;; str=&#34;&#34;; qDebug() &lt;&lt;str.size(); //str=&#34;&#34; 5.字符串比较" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/81c9289c7f01385106b49f58edec1361/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-07-31T19:23:43+08:00" />
<meta property="article:modified_time" content="2019-07-31T19:23:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">关于QString的常见用法（详细讲解）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>QString类提供一个unicode字符串。在QT软件开发平台中常用到的一种变量类型，其提供了很多方便的应用方法。下面介绍一些关于QString的常见用法。</p> 
<p><strong><span style="color:#3399ea;">1.字符串末尾追加</span></strong></p> 
<pre class="has"><code class="language-cpp">//example 1
   QString str="hello";
   str.append("world");
   qDebug() &lt;&lt;str;    //str=hello world

//example 2
   QString str="hello";
   str=str+"world";
   qDebug() &lt;&lt;str;     //str=hello world

//example 3
   QString str="hello";
   str+="world";
   qDebug() &lt;&lt;str;     //str=hello world</code></pre> 
<p><span style="color:#3399ea;"><strong>2.取出字符串中指定位置的字符</strong></span></p> 
<pre class="has"><code class="language-cpp">    QString str="hello world";
    char ch;
    ch=str.at(1).unicode();
    qDebug() &lt;&lt;ch;  //ch=e
</code></pre> 
<p><strong><span style="color:#3399ea;">3.从字符串末尾删除若干个字符</span></strong></p> 
<pre class="has"><code class="language-cpp">    QString str="hello world";
    str.chop(2);
    qDebug() &lt;&lt;str; //str= hello wor</code></pre> 
<p><strong><span style="color:#3399ea;">4.清空字符串</span></strong></p> 
<pre class="has"><code class="language-cpp">    //example 1
    QString str="hello world";
    str.clear();
    qDebug() &lt;&lt;str.size(); //str=""

    //example 2
    QString str="hello world";
    str="";
    qDebug() &lt;&lt;str.size(); //str=""</code></pre> 
<p><span style="color:#3399ea;"><strong>5.字符串比较</strong></span></p> 
<pre class="has"><code class="language-cpp">    int x = QString::compare("aUtO", "AuTo", Qt::CaseInsensitive);  // x == 0
    int y = QString::compare("aUtO", "AuTo", Qt::CaseSensitive);    // x &gt; 0

    int z = QString::compare("auto", "Car", Qt::CaseSensitive);     // y &gt; 0
    int k = QString::compare("auto", "Car", Qt::CaseInsensitive);   // z &lt; 0

    //CaseInsensitive：不区分大小写  CaseSensitive：区分大小写</code></pre> 
<p><span style="color:#3399ea;"><strong> 6.字符串str1是否包含str2字符串</strong></span></p> 
<pre class="has"><code class="language-cpp">    QString str1 = "Peter Pan";
    QString str2 = "peter";
    bool rel;
    rel=str1.contains(str2, Qt::CaseInsensitive);   //CaseInsensitive:不区分大小写
    qDebug() &lt;&lt;rel; // returns true</code></pre> 
<p><span style="color:#3399ea;"><strong> 7.字符串str2在字符串str1中出现过几次</strong></span></p> 
<pre class="has"><code class="language-cpp">    QString str1 = "HELLO world hello world";
    QString str2 = "hello";
    int rel;
    rel=str1.count(str2, Qt::CaseInsensitive); //搜索不区分大小写
    qDebug() &lt;&lt;rel; // rel=2</code></pre> 
<p><span style="color:#3399ea;"><strong> 8.字符串str1是否以str2结尾</strong></span></p> 
<pre class="has"><code class="language-cpp">    QString str = "Bananas";
    str.endsWith("anas");         // returns true
    str.endsWith("pple");         // returns false
            </code></pre> 
<p><span style="color:#3399ea;"><strong>9.搜索字符串str2在字符串str1第一次出现的位置</strong></span></p> 
<pre class="has"><code class="language-cpp">    QString str1 = "sticky question"; //包含了2个 “sti”
    QString str2 = "sti";

    //从位置0开始搜索
    str1.indexOf(str2);               // returns 0  (第一次出现位置0))

    //从位置1开始搜索
    str1.indexOf(str2, 1);            // returns 10 (第一次出现位置10))

    //从位置10开始搜索
    str1.indexOf(str2, 10);           // returns 10 (第一次出现位置10)

    //从位置11开始搜索
    str1.indexOf(str2, 11);           // returns -1 (不存在)</code></pre> 
<p><strong><span style="color:#3399ea;">10.在字符串str1指定位置中插入str2</span></strong></p> 
<pre class="has"><code class="language-cpp">    QString str1 = "Meal";
    QString str2 = "ontr";

    str1.insert(1, str2); //从位置1开始插入
    // str1 == "Montreal"</code></pre> 
<p><span style="color:#3399ea;"><strong>11.判断字符串str是否为空，是否没有字符</strong></span></p> 
<pre class="has"><code class="language-cpp">    //字符串没有字符
    QString().isEmpty();            // returns true
    QString("").isEmpty();          // returns true
    QString("x").isEmpty();         // returns false
    QString("abc").isEmpty();       // returns false
    
    //字符串为空
    QString().isNull();             // returns true
    QString("").isNull();           // returns false
    QString("abc").isNull();        // returns false</code></pre> 
<p><span style="color:#3399ea;"><strong>12.计算字符串str长度</strong></span></p> 
<pre class="has"><code class="language-cpp">    QString str = "hello";
    int rel=str.length();
    qDebug() &lt;&lt;rel; // rel=5</code></pre> 
<p><span style="color:#3399ea;"><strong>13.从字符串str1中指定位置截取字符</strong></span></p> 
<pre class="has"><code class="language-cpp">    QString str1 = "Nine pineapples";

    //从位置5开始截取，截取4个字符
    QString str2 = str1.mid(5, 4);      // str2 == "pine"
     //从位置5开始截取，截取到最后
    QString str3 = str1.mid(5);         // str2 == "pineapples"</code></pre> 
<p><span style="color:#3399ea;"><strong>14.从字符串str中指定位置开始移除若干个字符</strong></span></p> 
<pre class="has"><code class="language-cpp">    QString str = "Montreal";
    //从位置1开始，移除4个字符
    str.remove(1, 4);// str == "Meal"</code></pre> 
<p><span style="color:#3399ea;"><strong>15.从str1字符串中指定位置开始替换若干个字符</strong></span></p> 
<pre class="has"><code class="language-cpp">    QString str1 = "Say yes!";
    QString str2 = "no";

    //从位置4开始，替换3个字符
    str1.replace(4, 3, str2); // str1 == "Say no!"</code></pre> 
<p><span style="color:#3399ea;"><strong>16.以指定字符对字符串进行分割，将分割后的某一段取出 </strong></span></p> 
<pre class="has"><code class="language-cpp">    QString str;
    QString csv = "forename,middlename,surname,phone";
    QString path = "/usr/local/bin/myapp"; // 第一个字段是空的
    QString::SectionFlag flag = QString::SectionSkipEmpty;

    //以“,”为分隔符，将从左往右的第2段返回
    str = csv.section(',', 2, 2);   // str == "surname"
    qDebug() &lt;&lt;str;
    //以“/”为分隔符，将从左往右的第3段到第4段返回
    str = path.section('/', 3, 4);  // str == "bin/myapp"
    qDebug() &lt;&lt;str;
    //以“/”为分隔符，将从左往右的第3段(忽略前面的空字段)
    str = path.section('/', 3, 3, flag); // str == "myapp"
    qDebug() &lt;&lt;str;
    
    //前面符号表示从右往左计数
    str = csv.section(',', -3, -2);  // str == "middlename,surname"
    str = path.section('/', -1); // str == "myapp"

    //这里除了可以以单个字符','为分割符外，还可以以"**"字符串为分割符号，可自行实验
</code></pre> 
<p><span style="color:#3399ea;"><strong>17.数字转字符串</strong></span></p> 
<pre class="has"><code class="language-cpp">    QString str;
    
    //10代表以10进制转换成字符串（允许范围2~36）
    str.setNum(1234,10);       // str == "1234"
    //'g'代表精度
    str.setNum(12.34,'g',10);       // str == "12.34"</code></pre> 
<p><span style="color:#3399ea;"><strong>18.格式化转化为字符串</strong></span></p> 
<pre class="has"><code class="language-cpp">    QString str;
    int value=1998;
    str.sprintf("value=%d",value);
    qDebug() &lt;&lt;str; //str="value=1998"</code></pre> 
<p><strong><span style="color:#3399ea;">19.判断字符串str是否以字符串str2开头</span></strong></p> 
<pre class="has"><code class="language-cpp">    QString str = "Bananas";

    str.startsWith("Ban",Qt::CaseSensitive);         // returns true
    str.startsWith("ban",Qt::CaseInsensitive);       // returns true
    str.startsWith("Car",Qt::CaseSensitive);         // returns false</code></pre> 
<p><span style="color:#3399ea;"><strong>20.字符串str转化为数值</strong></span></p> 
<pre class="has"><code class="language-cpp">    //example 1      QString &gt;&gt; double
    bool d;
    d = QString( "1234,56" ).toDouble(&amp;ok); // ok == false
    d = QString( "1234.56" ).toDouble(&amp;ok); // ok == true, d == 1234.56

    //exapmle 2      QString &gt;&gt; folat
    QString str1 = "1234.56";
    str1.toFloat();             // returns 1234.56

    bool ok;
    QString str2 = "R2D2";
    str2.toFloat(&amp;ok);          // returns 0.0, sets ok to false

    //exapmle 3     QString &gt;&gt; int 
    QString str = "FF";
    bool ok;
    //16表示十六进制
    int hex = str.toInt(&amp;ok, 16);       // hex == 255, ok == true
    //10表示十进制 转换失败
    int dec = str.toInt(&amp;ok, 10);       // dec == 0, ok == false</code></pre> 
<p><span style="color:#3399ea;"><strong>21.将字符串str中所有的字母转化为小写字母或大写字母</strong></span></p> 
<pre class="has"><code class="language-cpp">    //example 1   大写转小写
    QString str = "The Qt PROJECT";
    str = str.toLower();        // str == "the qt project"

    //example 2   小写转大写
    QString str = "TeXt";
    str = str.toUpper();        // str == "TEXT"</code></pre> 
<p><span style="color:#3399ea;"><strong>22.从指定位置截断字符串str</strong></span></p> 
<pre class="has"><code class="language-cpp">    QString str = "Vladivostok";
    str.truncate(4);    // str == "Vlad"</code></pre> 
<p><span style="color:#3399ea;"><strong>23.QString支持的操作符号有：</strong></span></p> 
<blockquote> 
 <p>用于字符串之间比较："!="  "&lt;" "&lt;=" "==" "&gt;="</p> 
 <p>用于字符串之间传递："+=" "="</p> 
</blockquote> 
<p> </p> 
<p><em>《聪明在于勤奋，天才在于积累——华罗庚 》</em></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/68939a61f87d2645e24e07cd17a9f3bc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">08-Qt结合FFmpeg导出/导入mp4或avi或mov（qt使用FFmpeg的步骤）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0e2abff63ab7cfcd159cc4dc92ceb04b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Visual Studio 2019 C语言程序（VS2019 C语言）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>