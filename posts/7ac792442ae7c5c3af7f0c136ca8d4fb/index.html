<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>postgresql安装及常见错误处理 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="postgresql安装及常见错误处理" />
<meta property="og:description" content="postgresql安装及常见错误处理 一、安装说明 最近，由于业务需要，我抛弃了一直使用的mysql数据库，开始转向postgresql数据库，至于为什么选择postgresql？肯定是postgresql比mysql更强大，对于postgresql的优点，就不在此赘述，大家可以google下。
本例中安装的postgresql版本为9.3.2，安装方式为源码安装，安装环境为Centos-6.4-x86_64。
二、安装 1.下载postgresql：
本例中安装的方式为源码安装，读者可以到官方网址：http://www.postgresql.org/ftp/source/v9.3.2/进行下载
2.解压文件：
tar -zxvf postgresql-9.3.2.tar.gz
3.进入解压目录并配置参数
进入解压目录：cd postgresql-9.3.2 创建安装目录：sudo mkdir /opt/postgresql-9.3.2(依你习惯而定) 配置安装参数：./configure --prefix=/opt/postgresql-9.3.2
注：在这一步，相信很多同学会发生一些错误，如果发生了，请参看下面&#34;三、常见错误说明&#34;部分来解决她。
4.编译：
make
5.安装：
sudo make install
6.创建用户组和用户：
创建用户组：sudo groupadd postgresql
创建用户：sudo useradd -gpostgresql postgresql
为了方便管理，在此创建了postgresql用户组以及postgresql用户，以后可以通过postgresql用户来管理postgresql数据库。
7.创建数据库库文件存储目录并给postgresql用户赋予权限：
进入数据库安装目录：[zhu@zhu postgresql-9.3.2]$ cd /opt/postgresql-9.3.2
创建data目录：[zhu@zhu postgresql-9.3.2]$ sudo mkdir data
给postgresql用户赋予权限：sudo chown postgresql.postgresql data
8.添加环境变量：
9.初始化数据库目录：
首先，要切换用户：su postgresql
如果没有配置密码，先给postgresql配置密码：sudo passwd postgresql
初始化数据：[postgres@zhu postgresql-9.3.2] bin/initdb -D data
10.启动数据库：
这里通过postmaster脚本启动：postgresql安装及常见错误处理
[postgres@zhu postgresql-9.3.2] bin/postmaster -D /opt/postgresql-9.3.2/data
启动成功后，可以看到如下提示：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/7ac792442ae7c5c3af7f0c136ca8d4fb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-03-14T15:45:33+08:00" />
<meta property="article:modified_time" content="2014-03-14T15:45:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">postgresql安装及常见错误处理</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3 style="text-align:center"><span style="font-family:Microsoft YaHei">postgresql安装及常见错误处理</span></h3> 
<h4><span style="font-family:'Microsoft YaHei'; background-color:rgb(51,255,255)">一、安装说明</span></h4> 
<p><span style="font-family:Microsoft YaHei">最近，由于业务需要，我抛弃了一直使用的mysql数据库，开始转向postgresql数据库，至于为什么选择<span style="font-family:'Microsoft YaHei'">postgresql？肯定是<span style="font-family:'Microsoft YaHei'">postgresql比mysql更强大，对于<span style="font-family:'Microsoft YaHei'">postgresql的优点，就不在此赘述，大家可以google下。</span></span></span></span></p> 
<p><span style="font-family:Microsoft YaHei">本例中安装的postgresql版本为9.3.2，安装方式为源码安装，安装环境为Centos-6.4-x86_64。</span></p> 
<h4><span style="font-family:'Microsoft YaHei'; background-color:rgb(51,255,255)">二、安装</span></h4> 
<p><span style="font-family:'Microsoft YaHei'; background-color:rgb(51,255,51)"><strong>1.下载postgresql：</strong></span></p> 
<p><span style="font-family:Microsoft YaHei">本例中安装的方式为源码安装，读者可以到官方网址：<a target="_blank" href="http://www.postgresql.org/ftp/source/v9.3.2/" rel="nofollow noopener noreferrer" style="font-size:14px">http://www.postgresql.org/ftp/source/v9.3.2/</a>进行下载<br> </span></p> 
<p><span style="font-family:'Microsoft YaHei'; background-color:rgb(51,255,51)"><strong>2.解压文件：</strong></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="color:#ff0000">tar -zxvf postgresql-9.3.2.tar.gz</span></span></p> 
<p><span style="font-family:'Microsoft YaHei'; background-color:rgb(51,255,51)">3.进入解压目录并配置参数</span></p> 
<p><span style="font-family:Microsoft YaHei">进入解压目录：<span style="color:#ff0000">cd <span style="font-family:'Microsoft YaHei'">postgresql-9.3.2 </span></span></span></p> 
<p><span style="font-family:Microsoft YaHei">创建安装目录：<span style="color:#ff0000">sudo mkdir /opt/</span><span style="font-family:'Microsoft YaHei'"><span style="color:#ff0000">postgresql-9.3.2</span>(依你习惯而定) </span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'">配置安装参数：<span style="color:#ff0000">./configure --prefix=<span style="font-family:'Microsoft YaHei'">/opt/</span><span style="font-family:'Microsoft YaHei'">postgresql-9.3.2</span></span></span></span></p> 
<p><span style="font-family:'Microsoft YaHei'; background-color:rgb(255,255,51)">注：</span><span style="font-family:'Microsoft YaHei'">在这一步，相信很多同学会发生一些错误，如果发生了，请参看下面"三、常见错误说明"部分来解决她。</span><br> </p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'; background-color:rgb(51,255,51)"><strong>4.编译：</strong></span></span></span></p> 
<p><span style="font-family:Microsoft YaHei; color:#ff0000">make</span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="background-color:rgb(51,255,51)">5.安装：</span></span></p> 
<p><span style="font-family:Microsoft YaHei; color:#ff0000">sudo make install</span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="background-color:rgb(51,255,51)">6.创建用户组和用户：</span></span></p> 
<p><span style="font-family:Microsoft YaHei">创建用户组：<span style="color:#ff0000">sudo groupadd postgresql</span></span></p> 
<p><span style="font-family:Microsoft YaHei">创建用户：<span style="color:#ff0000">sudo useradd -g</span><span style="font-family:'Microsoft YaHei'"><span style="color:#ff0000">postgresql <span style="font-family:'Microsoft YaHei'">postgresql</span></span></span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'">为了方便管理，在此创建了<span style="font-family:'Microsoft YaHei'">postgresql用户组以及<span style="font-family:'Microsoft YaHei'">postgresql用户，以后可以通过<span style="font-family:'Microsoft YaHei'">postgresql用户来管理<span style="font-family:'Microsoft YaHei'">postgresql数据库。</span></span></span></span></span></span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"></span></span></span></span></span></span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="background-color:rgb(51,255,51)">7.创建数据库库文件存储目录并给<span style="font-family:'Microsoft YaHei'">postgresql用户赋予权限</span>：</span></span></p> 
<p><span style="font-family:Microsoft YaHei">进入数据库安装目录：<span style="color:#ff0000">[zhu@zhu postgresql-9.3.2]$ cd <span style="font-family:'Microsoft YaHei'">/opt/</span><span style="font-family:'Microsoft YaHei'">postgresql-9.3.2</span></span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'">创建data目录：<span style="color:#ff0000"><span style="font-family:'Microsoft YaHei'">[zhu@zhu postgresql-9.3.2]$ sudo </span>mkdir data</span></span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'">给</span><span style="font-family:'Microsoft YaHei'">postgresql用户赋予权限：<span style="color:#ff0000">sudo chown <span style="font-family:'Microsoft YaHei'">postgresql.<span style="font-family:'Microsoft YaHei'">postgresql data</span></span></span></span></span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'; background-color:rgb(51,255,51)"><strong>8.添加环境变量：</strong></span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'"><img src="https://images2.imgbox.com/84/e5/jCALsv35_o.png" alt=""><br> </span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'; background-color:rgb(51,255,51)"><strong>9.初始化数据库目录：</strong></span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'">首先，要切换用户：<span style="color:#ff0000">su <span style="font-family:'Microsoft YaHei'">postgresql</span></span></span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'">如果没有配置密码，先给postgresql配置密码：<span style="color:#FF0000">sudo passwd postgresql</span><br> </span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'">初始化数据：<span style="color:#ff0000"><span style="font-family:'Microsoft YaHei'">[postgres@zhu postgresql-9.3.2] </span>bin/initdb -D data</span></span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'; background-color:rgb(51,255,51)"><strong>10.启动数据库：</strong></span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'">这里通过postmaster脚本启动：<span style="background-color:rgb(255,255,255)"><span style="color:#ffffff">postgresql安装及常见错误处理</span></span></span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'"><span style="color:#ff0000"><span style="font-family:'Microsoft YaHei'">[postgres@zhu postgresql-9.3.2] </span>bin/postmaster -D /opt/<span style="font-family:'Microsoft YaHei'; color:#ff00">postgresql-9.3.2</span>/data</span></span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'">启动成功后，可以看到如下提示：</span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'"><img src="https://images2.imgbox.com/15/41/f9EydFbx_o.png" alt=""><br> 这是可以重新打开一个端口，以postgresql用户身份进入测试一下。</span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'">但目前位置，该数据库只能允许本地访问，如果运行其他用户访问的话还需继续进行如下配置：</span></span></p> 
<p><span style="background-color:rgb(51,255,51)"><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'">10.</span></span><span style="font-family:'Microsoft YaHei'; font-size:12px">配置监听地址和端口：</span></span></p> 
<p><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'">[postgres@zhu postgresql-9.3.2] </span><span style="color:#ff0000">vi data/postgresql.conf</span><br> 修改为如下配置：<br> <span style="background-color:rgb(204,204,204)">　　listen_addresses = '*'<br> 　　port = 5432</span></span></span></p> 
<p><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'">也就是将注释号"#"去掉，并把"127.0.0.1"改为"*"<br> <span style="background-color:rgb(51,255,51)">11、允许远程主机连接：</span><br> <span style="font-family:'Microsoft YaHei'">[postgres@zhu postgresql-9.3.2] </span><span style="background-color:rgb(255,255,255)"><span style="color:#ff0000">vi data/pg_hba.conf</span></span><br> 天加如下配置host all all 0.0.0.0/0 trust，参考如下：</span></span></p> 
<p><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><img src="https://images2.imgbox.com/fe/0a/1u6YxDVR_o.png" alt=""><br> <span style="background-color:rgb(255,255,51)">注意：</span></span></span></p> 
<p><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"></span></span></p> 
<div style="font-family:微软雅黑; font-size:14px">
  （1）.其中，"trust"和"password"为postgresql数据库登陆验证的方式，"trust"表示信任，即不需要输入密码(即使有密码)，"password"表示需         要输入密码。 
</div> 
<div style="font-family:微软雅黑; font-size:14px">
  （2）.host all all 127.0.0.1/31 trust表示本地连接数据库不需要输入密码（即使有密码，设为trust后就不需要密码） 
</div> 
<div style="font-family:微软雅黑; font-size:14px"> 
 <span style="font-family:微软雅黑; font-size:14.44444465637207px">（3）.</span>host all all 0.0.0.0/0 所有主机连接数据库需要输入密码（如果有密码） 
</div> 
<div style="font-family:微软雅黑; font-size:14px"> 
 <span style="font-family:微软雅黑; font-size:14.44444465637207px">（4）.</span>当然，这两个综合后表现的结果就是：对于本机链接表示信任（不需要输入密码），对于非本机链接需要输入密码 
</div> 
<span style="background-color:rgb(51,255,51)">12.修改防火墙，开放5432端口：</span> 
<p></p> 
<p><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"></span></span></p> 
<p style="margin-top:5px; margin-bottom:5px; font-family:Arial; font-size:12px"><span style="color:#ff0000">sudo vim /etc/sysconfig/iptables</span></p> 
<p style="margin-top:5px; margin-bottom:5px; font-family:Arial; font-size:12px">加上：<span style="color:#ffffff; background-color:rgb(192,192,192)">-A INPUT -p tcp -m tcp --dport 5432 -j ACCEPT</span></p> 
<p style="margin-top:5px; margin-bottom:5px; font-family:Arial; font-size:12px">重启防火墙：<span style="color:#ff0000">sudo service iptables restart</span></p> 
<p><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="background-color:rgb(51,255,51)">12.在postgresql数据库中为之前创建的<span style="font-family:'Microsoft YaHei'">postgresql用户增加密码：</span></span></span></span></p> 
<p><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'">如果你的postgresql数据库没有启动，请用<span style="color:#ff0000">$POSTGRESQL_HOME/<span style="font-family:'Microsoft YaHei'">b</span></span><span style="font-family:'Microsoft YaHei'; color:#ff00">in/postmaster -D /opt/</span><span style="font-family:'Microsoft YaHei'; color:#ff00">postgresql-9.3.2</span><span style="font-family:'Microsoft YaHei'; color:#ff00">/data</span><span style="font-family:'Microsoft YaHei'">命令或者用下面的第13部分介绍的命令。</span></span></span></span></span></p> 
<p><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'">通过psql命令进入<span style="font-family:'Microsoft YaHei'">postgresql数据库的控制台，然后执行：</span></span></span></span></span></p> 
<p><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="color:#ff0000">ALTER USER postgresql PASSWORD '它的密码';</span></span></span></span></span></p> 
<p><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'">如果输入"psql"出现如下异常：</span></span></span></span></p> 
<p><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:微软雅黑; font-size:14px; background-color:rgb(192,192,192)">psql: FATAL: database "postgresql" does not exist</span><br> </span></span></span></span></p> 
<p><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:微软雅黑; font-size:14px">则说明数据库中不存在<span style="font-family:微软雅黑; font-size:14.44444465637207px">postgresql数据库，可以换个初始数据库连接下：</span></span></span></span></span></span></p> 
<p><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:微软雅黑; font-size:14px"><span style="font-family:微软雅黑; font-size:14.44444465637207px"><span style="font-family:微软雅黑; font-size:14px"></span></span></span></span></span></span></span></p> 
<div style="font-family:微软雅黑; font-size:14px">
  [postgresql@bigdata-jobtrack ~]$ 
 <span style="color:#ff0000"> psql template1</span> 
</div> 
<div style="font-family:微软雅黑; font-size:14px"> 
 <span style="background-color:rgb(204,204,204)">psql (9.3.2)</span> 
</div> 
<div style="font-family:微软雅黑; font-size:14px"> 
 <span style="background-color:rgb(204,204,204)">Type "help" for help.</span> 
</div> 
<div style="font-family:微软雅黑; font-size:14px">
  修改postgres用户密码： 
</div> 
<div style="font-family:微软雅黑; font-size:14px"></div> 
<div style="font-family:微软雅黑; font-size:14px">
  template1=# 
 <span style="color:#ff0000"> ALTER USER postgresql PASSWORD '123456';</span> 
</div> 
<div style="font-family:微软雅黑; font-size:14px">
  ERROR: role "postgres" does not exist 
</div> 
<div style="font-family:微软雅黑; font-size:14px">
  如不存在 
 <span style="font-family:微软雅黑; font-size:14.44444465637207px">postgresql 用户则</span>则新建该用户 
</div> 
<div style="font-family:微软雅黑; font-size:14px">
  template1=# 
 <span style="color:#ff0000"> CREATE USER postgresql WITH PASSWORD '123456'</span> 
</div> 
<div style="font-family:微软雅黑; font-size:14px">
  注：此处的“ 
 <span style="font-family:微软雅黑; font-size:14.44444465637207px">postgresql</span>”用户为数据库用户. 
</div> 
<div style="font-family:微软雅黑; font-size:14px">
  这时，posrgresql用户就可以作为数据库的使用用户了，可以打开一个postgresql客户端，如navicat，尝试连接一下。 
</div> 
<br> 
<p></p> 
<p><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'"><span style="background-color:rgb(51,255,51)"><strong>13.关闭<span style="font-family:'Microsoft YaHei'">postgresql数据库并重新启动，使更改后的配置生效：</span></strong></span></span></span></span></p> 
<p><span style="font-family:Microsoft YaHei">下面是通过<span style="font-family:'Microsoft YaHei'">postgresql的pg_ctl工具进行操作：</span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'">关闭<span style="font-family:'Microsoft YaHei'">postgresql数据库：</span><span style="color:#ff0000">pg_ctl stop -m fast</span></span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'">启动postgresql数据库：<span style="color:#ff0000">pg_ctl start</span></span><br> </span></span></p> 
<p><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'">这时，你可以通过远程主机登陆系统试一下。</span></span></p> 
<p><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'">至此，一个完整的postgresql数据库便安装完毕了，你可以通过远程主机以<span style="font-family:'Microsoft YaHei'">postgresql用户身份输入密码登陆<span style="font-family:'Microsoft YaHei'">postgresql了</span></span>！</span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="color:#ffffff">postgresql安装及常见错误处理</span><br> </span></p> 
<h4><span style="font-family:Microsoft YaHei; background-color:rgb(51,255,255)">三、常见错误说明：</span></h4> 
<p><span style="font-family:Microsoft YaHei; background-color:rgb(51,255,51)"><strong>1.安装常见错误：</strong></span></p> 
<p><span style="font-family:Microsoft YaHei">(1).</span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="background-color:rgb(255,153,255)">configure: error: readline library notfound<br> If you have readline already installed, see config.log for detailson the<br> failure.  It is possible the compiler isnt lookingin the proper directory.<br> Use --without-readline to disable readlinesupport.</span><br> </span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:'Microsoft YaHei'">如果出现以上错误，说明你的系统缺少readline库，这时输入：</span></span></p> 
<p><span style="font-family:'Microsoft YaHei'; font-size:12px">rpm -qa | grep readline</span></p> 
<p><span style="font-family:'Microsoft YaHei'; font-size:12px">如果提示：</span><span style="font-family:'Microsoft YaHei'; font-size:12px">readline-6.0-4.el6.x86_64</span></p> 
<p><span style="font-family:'Microsoft YaHei'"><span style="font-family:'Microsoft YaHei'">那么，你的电脑缺少readline-devel库，你只要安装一下<span style="font-family:'Microsoft YaHei'">readline-devel就行了：</span><br> yum -y install readline-devel<br> 再次rpm -qa | grep readline<br> 提示：<br> readline-devel-6.0-4.el6.x86_64<br> readline-6.0-4.el6.x86_64<br> 说明readline-devel安装成功。<br> </span></span></p> 
<p><span style="font-family:Microsoft YaHei">(2).</span></p> 
<p><span style="font-family:Microsoft YaHei"></span></p> 
<div style="font-family:微软雅黑; font-size:14px"> 
 <span style="background-color:rgb(255,153,255)">checking for inflate in -lz... no</span> 
</div> 
<div style="font-family:微软雅黑; font-size:14px"> 
 <span style="background-color:rgb(255,153,255)">configure: error: zlib library not found</span> 
</div> 
<div style="font-family:微软雅黑; font-size:14px"> 
 <span style="background-color:rgb(255,153,255)">If you have zlib already installed, see config.log for details on the</span> 
</div> 
<div style="font-family:微软雅黑; font-size:14px"> 
 <span style="background-color:rgb(255,153,255)">failure. It is possible the compiler isn't looking in the proper directory.</span> 
</div> 
<div style="font-family:微软雅黑; font-size:14px"> 
 <span style="background-color:rgb(255,153,255)">Use --without-zlib to disable zlib support.</span> 
</div> 
<div style="font-family:微软雅黑; font-size:14px"> 
 <br> 
</div> 
<div style="font-family:微软雅黑; font-size:14px">
  出现这种错误，说明你的系统缺少zlib库，输入： 
 <span style="font-size:14px">rpm -qa | grep zlib，如果出现如下提示：</span> 
</div> 
<div style="font-family:微软雅黑; font-size:14px">
  zlib-1.2.3-29.el6.x86_64 
</div> 
<div style="font-family:微软雅黑; font-size:14px">
  zlib-1.2.3-29.el6.i686 
</div> 
<div style="font-family:微软雅黑; font-size:14px">
  jzlib-1.0.7-7.5.el6.x86_64 
</div> 
<div style="font-family:微软雅黑; font-size:14px">
  则说明，你的电脑缺少 
 <span style="font-family:微软雅黑; font-size:14.44444465637207px">zlib-devel库，安装一下即可：</span> 
</div> 
<div style="font-family:微软雅黑; font-size:14px"> 
 <span style="font-family:verdana,Arial,Helvetica; color:#ff00">yum install zlib-devel;</span> 
</div> 
<div style="font-family:微软雅黑; font-size:14px">
  这时，再rpm -aq | grep zlib 
</div> 
<div style="font-family:微软雅黑; font-size:14px">
  zlib-1.2.3-29.el6.x86_64 
</div> 
<div style="font-family:微软雅黑; font-size:14px">
  zlib-1.2.3-29.el6.i686 
</div> 
<div style="font-family:微软雅黑; font-size:14px">
  jzlib-1.0.7-7.5.el6.x86_64 
</div> 
<div style="font-family:微软雅黑; font-size:14px">
  zlib-devel-1.2.3-29.el6.x86_64 
</div> 说明 
<span style="font-family:微软雅黑; font-size:14.44444465637207px">zlib-devel安装成功。如果你的系统以上库均缺失，则要全部安装。</span> 
<p></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:微软雅黑; font-size:14.44444465637207px; background-color:rgb(51,255,51)"><strong>2.数据库连接常见错误：</strong></span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:微软雅黑; font-size:14.44444465637207px">(1).</span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-family:微软雅黑; font-size:14.44444465637207px"><span style="background-color:rgb(255,153,255)">could not connect to server: Connection refused (0x0000274D/10061)<br> Is the server running on host "95.110.201.74" and accepting<br> TCP/IP connections on port 5300?"</span><br> </span></span></p> 
<p><span style="font-family:Microsoft YaHei"><span style="font-size:14.44444465637207px"></span></span></p> 
<p style="font-family:Arial; margin-top:5px; margin-bottom:5px; font-size:12px">如果出现以上错误提示，一般是发生在远程主机连接的情况下。出现错误的原因5432端口号被拒绝连接或者postgresql数据库未监听本机以外的其他主机的连接请求。这时，你要分别检查如下两个步骤的操作正确与否：</p> 
<p style="font-family:Arial; margin-top:5px; margin-bottom:5px; font-size:12px">a.让防火墙开放5432端口：</p> 
<p style="font-family:Arial; margin-top:5px; margin-bottom:5px; font-size:12px"></p> 
<p style="margin-top:5px; margin-bottom:5px; font-size:12px; font-family:Arial">sudo vim /etc/sysconfig/iptables</p> 
<p style="margin-top:5px; margin-bottom:5px; font-size:12px; font-family:Arial">加上：-A INPUT -p tcp -m tcp --dport 5432 -j ACCEPT</p> 
<p style="margin-top:5px; margin-bottom:5px; font-size:12px; font-family:Arial">重启防火墙：sudo service iptables restart</p> b.修改$POSTGRESQL_HOME/ 
<span style="font-family:Arial; font-size:12px">data/postgresql.conf配置文件：</span> 
<p style="font-family:Arial; margin-top:5px; margin-bottom:5px; font-size:12px"><span style="font-family:Arial; font-size:12px"><span style="font-family:'Microsoft YaHei'">修改为如下配置：</span><br style="font-family:'Microsoft YaHei'"> <span style="font-family:'Microsoft YaHei'">　　listen_addresses = '*'</span><br style="font-family:'Microsoft YaHei'"> <span style="font-family:'Microsoft YaHei'">　　port = 5432</span><br> </span></p> 
<p style="margin-top:5px; margin-bottom:5px; font-size:12px">(2).如果从本地访问数据库，出现如下提示：</p> 
<p style="margin-top:5px; margin-bottom:5px; font-size:12px"><span style="background-color:rgb(255,153,255)">FATAL:no pg-hba.conf entry for host "xxxxxxxx",user "xxx" database "xxxxx"......</span></p> 
<p style="margin-top:5px; margin-bottom:5px; font-size:12px">则说明，本地访问被设置了非trust模式，请检查<span style="font-family:Arial; font-size:12px">$POSTGRESQL_HOME/</span><span style="font-family:Arial; font-size:12px">data/<span style="font-family:'Microsoft YaHei'; font-size:12px">pg-hba.conf配置文件是否有如下配置信息：</span></span></p> 
<p style="margin-top:5px; margin-bottom:5px; font-size:12px"><span style="font-family:Arial; font-size:12px"><span style="font-family:'Microsoft YaHei'; font-size:12px">host all all 127.0.0.1/32 trust</span></span></p> 
<p style="margin-top:5px; margin-bottom:5px; font-size:12px"><span style="font-family:Arial; font-size:12px"><span style="font-family:'Microsoft YaHei'; font-size:12px">其中，关于此配置信息的详细说明可以回看二.11</span></span></p> 
<span style="color:#ffffff">postgresql安装及常见错误处理</span> 
<br> 
<p>如果要参考关于postgresql的使用命令，请查看：<a target="_blank" href="http://blog.csdn.net/zhu_xun/article/details/21240711" rel="noopener noreferrer">http://blog.csdn.net/zhu_xun/article/details/21240711</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d96b524225cab749b061eb668920aad6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java常见问题和解决办法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/026e11f12dee2fadb748ca4ad1c86052/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">libcurl,CURLOPT_POSTFIELDS的内容变乱码或少一字节</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>