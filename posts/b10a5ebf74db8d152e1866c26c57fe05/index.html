<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>获取站点真实IP地址-多地点Ping方法 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="获取站点真实IP地址-多地点Ping方法" />
<meta property="og:description" content="方法原理 当站点采用CDN架构进行部署时，则用户在访问网站时，请求需要经CDN节点进行处理，随后在根据CDN节点提供的访问接入服务器信息，访问站点并获取站点提供的服务。通常情况下CDN节点将会根据请求客户端的地理位置，选取地理位置距离客户端最近的访问接入服务器，为用户或客户端提供服务。
​​​​​​​方法解析 调用Ping命令向某个域名发起ICMP echo request请求时，请求主机会调用DNS查询协议查询目标域名对应的IP地址，当不同区域服务器查询的返回IP地址不一致，则说明站点采用了CDN架构进行部署，目标服务器可有多个IP对外提供服务：即返回的IP地址非服务器真实IP。如果响应ICMP数据的的IP地址一致，则查询结果对应的IP地址通常为目标服务器的真实IP地址。
​​​​​​​检测条件 待检测的目标站点服务器正常运行，未在防火墙处配置禁ping策略，可正常对外提供网络访问服务，发起ICMP echo request请求的主机的本地DNS代理处于正常工作状态。在网络不通，或目标服务器防火墙配置了禁ping策略时，则检测数据包将超时。
​​​​​​​检测方法 1．使用http://ping.chinaz.com/，https://ping.aizhan.com/等多地点ping检测工具，输入目标站点域名，通过向目标站点发送ICMP echo request的方法进行ping检查。
2．根据检测工具利用不同监测点发出的echo request数据包，目标站点所在服务器将响应echo reply数据包，通过提取echo reply数据包中的IP地址，多地点ping检测工具会通过列表形式向工具使用者展示目标域名所部署服务器的IP地址。
3．查看多地点ping工具的监测结果列表，当展示的站点IP信息存在多个不同值时，通常代表目标站点采用了CDN架构。当站点响应IP地址信息为单个值时，通常该地址即为目标站点的真实IP地址。
测试示例如下图所示，以域名baidu.com为例，图中的响应IP地址信息表明，baidu.com域名有两组IP地址响应了由ping监测服务器发出的ICMP echo request数据包。
另一组测试示例如下图所示，以分析站点csdn.net的真实IP为例，图中的响应IP地址信息列表表明，csdn.net域名有一组IP地址响应由ping监测服务器发出的ICMP echo request数据包，经分析可推测站点IP地址为39.106.226.142。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/b10a5ebf74db8d152e1866c26c57fe05/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-06T14:20:57+08:00" />
<meta property="article:modified_time" content="2022-12-06T14:20:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">获取站点真实IP地址-多地点Ping方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4><strong><span style="color:#000000;">方法原理</span></strong></h4> 
<p style="margin-left:0;text-align:justify;"><span style="color:#000000;">    当站点采用CDN架构进行部署时，则用户在访问网站时，请求需要经CDN节点进行处理，随后在根据CDN节点提供的访问接入服务器信息，访问站点并获取站点提供的服务。通常情况下CDN节点将会根据请求客户端的地理位置，选取地理位置距离客户端最近的访问接入服务器，为用户或客户端提供服务。</span></p> 
<h4>​​​​​​​<span style="color:#000000;">方法解析</span></h4> 
<p style="margin-left:0cm;">调用Ping命令向某个域名发起ICMP echo request请求时，请求主机会调用DNS查询协议查询目标域名对应的IP地址，当不同区域服务器查询的返回IP地址不一致，则说明站点采用了CDN架构进行部署，目标服务器可有多个IP对外提供服务：即返回的IP地址非服务器真实IP。如果响应ICMP数据的的IP地址一致，则查询结果对应的IP地址通常为目标服务器的真实IP地址。</p> 
<h4>​​​​​​​<span style="color:#000000;">检测条件</span></h4> 
<p style="margin-left:0;text-align:justify;"><span style="color:#000000;">待检测的目标站点服务器正常运行，未在防火墙处配置禁ping策略，可正常对外提供网络访问服务，发起ICMP echo request请求的主机的本地DNS代理处于正常工作状态。在网络不通，或目标服务器防火墙配置了禁ping策略时，则检测数据包将超时。</span></p> 
<h4>​​​​​​​<span style="color:#000000;">检测方法</span></h4> 
<p style="margin-left:0;text-align:justify;"><span style="color:#000000;">1．使用http://ping.chinaz.com/，https://ping.aizhan.com/等多地点ping检测工具，输入目标站点域名，通过向目标站点发送ICMP echo request的方法进行ping检查。</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#000000;">2．根据检测工具利用不同监测点发出的echo request数据包，目标站点所在服务器将响应echo reply数据包，通过提取echo reply数据包中的IP地址，多地点ping检测工具会通过列表形式向工具使用者展示目标域名所部署服务器的IP地址。</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#000000;">3．查看多地点ping工具的监测结果列表，当展示的站点IP信息存在多个不同值时，通常代表目标站点采用了CDN架构。当站点响应IP地址信息为单个值时，通常该地址即为目标站点的真实IP地址。</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#000000;">测试示例如下图所示，以域名baidu.com为例，图中的响应IP地址信息表明，baidu.com域名有两组IP地址响应了由ping监测服务器发出的ICMP echo request数据包。</span></p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="493" src="https://images2.imgbox.com/ac/3c/EPDPshCW_o.png" width="876"></p> 
<p> </p> 
<p style="margin-left:0;text-align:center;"></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#000000;">另一组测试示例如下图所示，以分析站点csdn.net的真实IP为例，图中的响应IP地址信息列表表明，csdn.net域名有一组IP地址响应由ping监测服务器发出的ICMP echo request数据包，经分析可推测站点IP地址为39.106.226.142。</span></p> 
<p style="margin-left:0;text-align:center;"><img alt="" height="521" src="https://images2.imgbox.com/ae/16/MGYt9M7m_o.png" width="884"></p> 
<p> </p> 
<p style="margin-left:0;text-align:justify;"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/782463708aca0ec20e37e46680b67fdc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">IOS真机调试包 iOS15.0</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/acb30e0096e7e0d7b67134f952412fb9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">OSG开发-使用VisualStudio2019创建CMake项目方式开发HelloOSG</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>