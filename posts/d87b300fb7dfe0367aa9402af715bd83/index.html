<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vue实现底部导航栏切换页面及图片 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Vue实现底部导航栏切换页面及图片" />
<meta property="og:description" content="前言 刚进新公司，有幸接触到从前后端不分离到前后端分离的一个过程，最开始对vue不太熟悉，下班自学一周就开始做了，可能会有很多问题，若有写不好的地方大佬们可以提出。
一、实现效果 需求：vue底部导航点击切换图标
效果：
二、大概思路图 三、代码实现 index.js(vuex) import Vue from &#39;vue&#39; import Vuex from &#39;vuex&#39; Vue.use(Vuex) const store = new Vuex.Store({ state: { // 目录标识（感觉不应该使用 localStorage，应该使用sessionStorage） DirectoryIdentifier: localStorage.getItem(&#39;DirectoryIdentifier&#39;) ? localStorage.getItem(&#39;DirectoryIdentifier&#39;) : &#39;&#39; }, mutations: { // 保存目录标识 saveDirectoryIdentifier (state, directoryIdentifier) { localStorage.setItem(&#39;DirectoryIdentifier&#39;, directoryIdentifier) state.DirectoryIdentifier = directoryIdentifier } } }) export default store login.vue methods: { login () { if (this.loginForm.username === &#39;&#39; || this.loginForm.tmpPassword === &#39;&#39;) { this.showPopup(&#39;账号或密码不能为空&#39;) } else { api." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/d87b300fb7dfe0367aa9402af715bd83/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-13T14:14:18+08:00" />
<meta property="article:modified_time" content="2021-12-13T14:14:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vue实现底部导航栏切换页面及图片</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>前言</h2> 
<p>刚进新公司，有幸接触到从前后端不分离到前后端分离的一个过程，最开始对vue不太熟悉，下班自学一周就开始做了，可能会有很多问题，若有写不好的地方大佬们可以提出。</p> 
<h2><a id="_4"></a>一、实现效果</h2> 
<p><strong>需求：vue底部导航点击切换图标</strong><br> <strong>效果：</strong><br> <img src="https://images2.imgbox.com/f7/a6/j7k0SS2L_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ba/c8/ivIipgHC_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_12"></a>二、大概思路图</h2> 
<p><img src="https://images2.imgbox.com/ab/aa/bK2ibZc8_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_14"></a>三、代码实现</h3> 
<h4><a id="indexjsvuex_16"></a>index.js(vuex)</h4> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  state<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 目录标识（感觉不应该使用 localStorage，应该使用sessionStorage）</span>
    DirectoryIdentifier<span class="token operator">:</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'DirectoryIdentifier'</span><span class="token punctuation">)</span> <span class="token operator">?</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'DirectoryIdentifier'</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">''</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 保存目录标识</span>
    <span class="token function">saveDirectoryIdentifier</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> directoryIdentifier</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'DirectoryIdentifier'</span><span class="token punctuation">,</span> directoryIdentifier<span class="token punctuation">)</span>
      state<span class="token punctuation">.</span>DirectoryIdentifier <span class="token operator">=</span> directoryIdentifier
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> store
</code></pre> 
<h4><a id="loginvue_40"></a>login.vue</h4> 
<pre><code class="prism language-javascript">methods<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">login</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>loginForm<span class="token punctuation">.</span>username <span class="token operator">===</span> <span class="token string">''</span> <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>loginForm<span class="token punctuation">.</span>tmpPassword <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">showPopup</span><span class="token punctuation">(</span><span class="token string">'账号或密码不能为空'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        api<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>loginForm<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 保存目录标识(device)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'saveDirectoryIdentifier'</span><span class="token punctuation">,</span> <span class="token string">'device'</span><span class="token punctuation">)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/home/device'</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">showPopup</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="indexvue_62"></a>index.vue</h4> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span> <span class="token operator">=</span> <span class="token string">"main"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ul <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"nav-bottom"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li @click<span class="token operator">=</span><span class="token string">"directoryIdentifierClick('device')"</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isShowDevice"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>router<span class="token operator">-</span>link to<span class="token operator">=</span><span class="token string">"/home/device"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"nav-bottom-span nav-img"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>img <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">'deviceImgUrl'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"nav-bottom-span"</span><span class="token operator">&gt;</span>名称<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li @click<span class="token operator">=</span><span class="token string">"directoryIdentifierClick('deviceSensor')"</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isShowDeviceSensor"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>router<span class="token operator">-</span>link to<span class="token operator">=</span><span class="token string">"/home/device_sensor"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"nav-bottom-span nav-img"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>img <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">'deviceSensoImgUrl'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"nav-bottom-span"</span><span class="token operator">&gt;</span>名称<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li @click<span class="token operator">=</span><span class="token string">"directoryIdentifierClick('hospital')"</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isShowHospital"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>router<span class="token operator">-</span>link to<span class="token operator">=</span><span class="token string">"hospital"</span> <span class="token operator">&gt;</span>
         <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"nav-bottom-span nav-img"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>img <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">'hospitalImgUrl'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"nav-bottom-span"</span><span class="token operator">&gt;</span>名称<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
         <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li @click<span class="token operator">=</span><span class="token string">"directoryIdentifierClick('doctorReport')"</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isShowdDoctorReport"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>router<span class="token operator">-</span>link to<span class="token operator">=</span><span class="token string">"/home/doctor_report"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"nav-bottom-span nav-img"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>img <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">'doctorReportImgUrl'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"nav-bottom-span"</span><span class="token operator">&gt;</span>名称<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li @click<span class="token operator">=</span><span class="token string">"directoryIdentifierClick('user')"</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"isShowUser"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>router<span class="token operator">-</span>link to<span class="token operator">=</span><span class="token string">"/home/user"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"nav-bottom-span nav-img"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>img <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">'userImgUrl'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"nav-bottom-span"</span><span class="token operator">&gt;</span>名称<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  name<span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      deviceImgUrl<span class="token operator">:</span> <span class="token string">'../../../static/img/device-nav-out.png'</span><span class="token punctuation">,</span>
      deviceSensoImgUrl<span class="token operator">:</span> <span class="token string">'../../../static/img/device-sensor-out.png'</span><span class="token punctuation">,</span>
      hospitalImgUrl<span class="token operator">:</span> <span class="token string">'../../../static/img/hospital-nav-out.png'</span><span class="token punctuation">,</span>
      doctorReportImgUrl<span class="token operator">:</span> <span class="token string">'../../../static/img/prescription-nav-out.png'</span><span class="token punctuation">,</span>
      userImgUrl<span class="token operator">:</span> <span class="token string">'../../../static/img/user-out.png'</span><span class="token punctuation">,</span>
      isShowDevice<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      isShowDeviceSensor<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      isShowHospital<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      isShowdDoctorReport<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      isShowUser<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 钩子事件(触发机制:初始化) 刷新标识定位问题</span>
  <span class="token function-variable function">mounted</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 这个是获取权限，如果没有可以去掉</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getWechatChanelAcl</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// mounted - 初始化定位标识</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initIdentifier</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 钩子事件(触发机制：数据修改时)</span>
  <span class="token function-variable function">beforeUpdate</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 这个是获取权限，如果没有可以去掉</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getWechatChanelAcl</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">directoryIdentifierClick</span> <span class="token punctuation">(</span><span class="token parameter">directory</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setGrayIdentifier</span><span class="token punctuation">(</span>directory<span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'saveDirectoryIdentifier'</span><span class="token punctuation">,</span> directory<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 设置灰色图片</span>
    <span class="token function">setGrayIdentifier</span> <span class="token punctuation">(</span><span class="token parameter">directory</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>deviceImgUrl <span class="token operator">=</span> <span class="token punctuation">(</span>directory <span class="token operator">===</span> <span class="token string">'device'</span> <span class="token operator">?</span> <span class="token string">'../../../static/img/device-nav-active.png'</span> <span class="token operator">:</span> <span class="token string">'../../../static/img/device-nav-out.png'</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>deviceSensoImgUrl <span class="token operator">=</span> <span class="token punctuation">(</span>directory <span class="token operator">===</span> <span class="token string">'deviceSensor'</span> <span class="token operator">?</span> <span class="token string">'../../../static/img/device-sensor-active.png'</span> <span class="token operator">:</span> <span class="token string">'../../../static/img/device-sensor-out.png'</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>hospitalImgUrl <span class="token operator">=</span> <span class="token punctuation">(</span>directory <span class="token operator">===</span> <span class="token string">'hospital'</span> <span class="token operator">?</span> <span class="token string">'../../../static/img/hospital-nav-active.png'</span> <span class="token operator">:</span> <span class="token string">'../../../static/img/hospital-nav-out.png'</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>doctorReportImgUrl <span class="token operator">=</span> <span class="token punctuation">(</span>directory <span class="token operator">===</span> <span class="token string">'doctorReport'</span> <span class="token operator">?</span> <span class="token string">'../../../static/img/prescription-nav-active.png'</span> <span class="token operator">:</span> <span class="token string">'../../../static/img/prescription-nav-out.png'</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>userImgUrl <span class="token operator">=</span> <span class="token punctuation">(</span>directory <span class="token operator">===</span> <span class="token string">'user'</span> <span class="token operator">?</span> <span class="token string">'../../../static/img/user-active.png'</span> <span class="token operator">:</span> <span class="token string">'../../../static/img/user-out.png'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token comment">// mounted - 初始化定位标识</span>
    <span class="token function">initIdentifier</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">let</span> directoryIdentifier <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>DirectoryIdentifier
      <span class="token keyword">if</span> <span class="token punctuation">(</span>directoryIdentifier <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>deviceImgUrl <span class="token operator">=</span> <span class="token string">'../../../static/img/device-nav-active.png'</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setGrayIdentifier</span><span class="token punctuation">(</span>directoryIdentifier<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// mounted-beforeUpdate 获取目录资源权限</span>
    <span class="token function">getWechatChanelAcl</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">let</span> wechatChanelAcl <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>WechatChanelAcl<span class="token punctuation">)</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> wechatChanelAcl<span class="token punctuation">.</span>length<span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> chanelAcl <span class="token operator">=</span> wechatChanelAcl<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>chanelAcl<span class="token punctuation">.</span>permission <span class="token operator">===</span> <span class="token string">'wecharsalechanel:rp_device:list'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>isShowDevice <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>chanelAcl<span class="token punctuation">.</span>permission <span class="token operator">===</span> <span class="token string">'wecharsalechanel:device_sensor:list'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>isShowDeviceSensor <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>chanelAcl<span class="token punctuation">.</span>permission <span class="token operator">===</span> <span class="token string">'wecharsalechanel:hospital:list'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>isShowHospital <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>chanelAcl<span class="token punctuation">.</span>permission <span class="token operator">===</span> <span class="token string">'wecharsalechanel:doctor_report:list'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>isShowdDoctorReport <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>chanelAcl<span class="token punctuation">.</span>permission <span class="token operator">===</span> <span class="token string">'wecharsalechanel:user:list'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>isShowUser <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Add <span class="token string">"scoped"</span> attribute to limit <span class="token constant">CSS</span> to <span class="token keyword">this</span> component only <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>style scoped<span class="token operator">&gt;</span>
<span class="token punctuation">.</span>main <span class="token punctuation">{<!-- --></span>
  background<span class="token operator">:</span> #eee<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>nav<span class="token operator">-</span>bottom <span class="token punctuation">{<!-- --></span>
    padding<span class="token operator">-</span>top<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    width<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
    position<span class="token operator">:</span> fixed<span class="token punctuation">;</span>
    bottom<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    border<span class="token operator">-</span>top<span class="token operator">:</span> <span class="token number">1</span>px solid #eee<span class="token punctuation">;</span>
    color<span class="token operator">:</span> gray<span class="token punctuation">;</span>
    background<span class="token operator">:</span> #fff<span class="token punctuation">;</span>
    height<span class="token operator">:</span> <span class="token number">4</span>rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>nav<span class="token operator">-</span>bottom<span class="token operator">&gt;</span>li <span class="token punctuation">{<!-- --></span>
    float<span class="token operator">:</span> left<span class="token punctuation">;</span>
    width<span class="token operator">:</span> <span class="token number">20</span><span class="token operator">%</span><span class="token punctuation">;</span>
    text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
    box<span class="token operator">-</span>sizing<span class="token operator">:</span> border<span class="token operator">-</span>box<span class="token punctuation">;</span>
    height<span class="token operator">:</span> <span class="token number">4</span>rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>nav<span class="token operator">-</span>bottom<span class="token operator">-</span>span <span class="token punctuation">{<!-- --></span>
    font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token number">14</span>px<span class="token punctuation">;</span>
    display<span class="token operator">:</span> block<span class="token punctuation">;</span>
    line<span class="token operator">-</span>height<span class="token operator">:</span> <span class="token number">0.6</span>rem<span class="token punctuation">;</span>
    padding<span class="token operator">-</span>top<span class="token operator">:</span> <span class="token number">0.6</span>rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>nav<span class="token operator">-</span>img img <span class="token punctuation">{<!-- --></span>
    height<span class="token operator">:</span> <span class="token number">1.3</span>rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>

</code></pre> 
<h2><a id="_220"></a>测试</h2> 
<p><img src="https://images2.imgbox.com/f3/ab/PBIobv71_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/fd/2a/6DaWSwEZ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/32/5a/g7Kxq8wG_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/32369d8fa62a9f60124e0910d06e6a82/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Log4j 漏洞修复检测 附检测工具</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/282d960575dc5b2ababbe2b3ee827516/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">2021.12.13 决心成为TA的第1天</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>