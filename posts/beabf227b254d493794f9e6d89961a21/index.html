<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>java swing(GUI图形化界面)基础教程4-游戏开发 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="java swing(GUI图形化界面)基础教程4-游戏开发" />
<meta property="og:description" content="1.开始前 在开始本篇内容前,先回顾一下之前的代码,以及其中存在的问题.(需要用到面向对象知识)如下:
链接:(28条消息) java swing(GUI图形化界面)基础教程3-添加事件监听1_java图形界面监听类_尽辰的博客-CSDN博客
public static void main(String[] args) { JFrame frame=new JFrame();//这是一个窗口类 frame.setBounds(100,100,500,500);//设置窗口位置与大小 frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);//用户关闭时会关闭所有窗口 JPanel panel=new JPanel();//创建一个面板,并且将这个面板添加到窗口里面去 frame.add(panel); panel.setLayout(null);//取消默认的布局管理 JButton button=new JButton();//创建一个按钮,并且将这个按钮添加到面板上面 button.setText(&#34;按钮&#34;);//设置按钮的文字内容 button.setBounds(100,100,100,100);//设置按钮的位置大小 panel.add(button);//添加按钮到面板 frame.setVisible(true);//设置这窗口可见,记得尽量要把这一句放在最后面 } 即,全部东西都挤在一起,这对于我们后面游戏开发是不利的,因此我把它分为3个类:
代码分别为:
public class MyFrame extends JFrame { public MyFrame(){ setBounds(100,100,500,500); setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); add(new MyPanel()); setVisible(true); } } public class MyPanel extends JPanel { public MyPanel(){ init(); addObj(); } private void init(){ setLayout(null);//取消默认的布局管理 } private void addObj(){ JButton button=new JButton(); button.setText(&#34;按钮&#34;); button." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/beabf227b254d493794f9e6d89961a21/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-04T22:45:39+08:00" />
<meta property="article:modified_time" content="2023-03-04T22:45:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">java swing(GUI图形化界面)基础教程4-游戏开发</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>1.开始前</h2> 
<p>在开始本篇内容前,先回顾一下之前的代码,以及其中存在的问题.(需要用到面向对象知识)如下:</p> 
<p>链接:<a href="https://blog.csdn.net/mym666mym/article/details/128136412?spm=1001.2014.3001.5502" title="(28条消息) java swing(GUI图形化界面)基础教程3-添加事件监听1_java图形界面监听类_尽辰的博客-CSDN博客">(28条消息) java swing(GUI图形化界面)基础教程3-添加事件监听1_java图形界面监听类_尽辰的博客-CSDN博客</a></p> 
<pre><code class="language-java">     public static void main(String[] args) {
 
        JFrame frame=new JFrame();//这是一个窗口类
 
        frame.setBounds(100,100,500,500);//设置窗口位置与大小
 
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);//用户关闭时会关闭所有窗口
 
        JPanel panel=new JPanel();//创建一个面板,并且将这个面板添加到窗口里面去
        frame.add(panel);
        panel.setLayout(null);//取消默认的布局管理
 
 
        JButton button=new JButton();//创建一个按钮,并且将这个按钮添加到面板上面
        button.setText("按钮");//设置按钮的文字内容
        button.setBounds(100,100,100,100);//设置按钮的位置大小
        panel.add(button);//添加按钮到面板
        
 
        frame.setVisible(true);//设置这窗口可见,记得尽量要把这一句放在最后面
    }
</code></pre> 
<p>即,全部东西都挤在一起,这对于我们后面游戏开发是不利的,因此我把它分为3个类:</p> 
<p><img alt="" height="82" src="https://images2.imgbox.com/8f/f9/x3Zw3DS3_o.png" width="159"></p> 
<p> 代码分别为:</p> 
<pre><code class="language-java">public class MyFrame extends JFrame {

    public MyFrame(){
        setBounds(100,100,500,500);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        add(new MyPanel());
        setVisible(true);
    }

}
public class MyPanel extends JPanel {

    public MyPanel(){
        init();
        addObj();
    }
    private void init(){
        setLayout(null);//取消默认的布局管理
    }
    private void addObj(){

        JButton button=new JButton();
        button.setText("按钮");
        button.setBounds(100,100,100,100);
        add(button);

    }
}
public class MyMain {
    public static void main(String[] args) {
        new MyFrame();
    }
}</code></pre> 
<p>这样,各个类分工明确,我们本片文章的功能实现主要就在MyPanel类中</p> 
<h2>2.正片开始</h2> 
<p>首先,把我们MyPanel类里面多余的东西删除,变成下面这样:</p> 
<pre><code class="language-java">public class MyPanel extends JPanel {

    public MyPanel(){
        init();
    }
    private void init(){
        setLayout(null);//取消默认的布局管理
    }
    
}</code></pre> 
<p>然后这个时候去运行MyMain时,会出现一个空白的窗口</p> 
<p>现在我们想在这空白的窗口上面画一个矩形,重写 paintComponent(g) 方法即可</p> 
<p>(只要知道这个方法是可以用来画东西就行),下面代码就是画了一个矩形</p> 
<pre><code class="language-java">    @Override
    protected void paintComponent(Graphics g) {
        g.fillRect(10,10,100,100);
    }</code></pre> 
<p>效果如下:</p> 
<p><img alt="" height="458" src="https://images2.imgbox.com/70/2c/rB0F1VHw_o.png" width="486"></p> 
<p> 如果想改变颜色,如红色,可以这样:</p> 
<pre><code class="language-java">    @Override
    protected void paintComponent(Graphics g) {
        g.setColor(Color.red);
        g.fillRect(10,10,100,100);
    }</code></pre> 
<p>再画一个空心圆:</p> 
<pre><code class="language-java">    @Override
    protected void paintComponent(Graphics g) {
        g.setColor(Color.red);
        g.fillRect(10,10,100,100);
        g.setColor(Color.blue);
        g.drawOval(110,110,50,50);
    }</code></pre> 
<p><img alt="" height="258" src="https://images2.imgbox.com/0c/72/tKoKsGT9_o.png" width="453"></p> 
<p>现在,你已经可以画这些基本的东西了,且可以根据idea的提示功能来发现更多东西</p> 
<p>但是,我们画的东西都还是静止的,如果想要动起来,那么要开始使用多线程知识了</p> 
<p>如果你还没有学过多线程,那么建议你先去学习或者看我对他的简单介绍(如果你对自己的理解能力有足够信心的话)</p> 
<h2>多线程简单介绍</h2> 
<p>这里,我只简单介绍他的部分基础使用,并不涉及高级操作</p> 
<p>让一个类实现Runnable接口,他会强制让你实现run方法</p> 
<p><img alt="" height="181" src="https://images2.imgbox.com/e9/f0/oZK0GWIH_o.png" width="426"></p> 
<p> </p> 
<pre><code class="language-java">    @Override
    public void run() {
        while (true){

            try {
                Thread.sleep(500);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }

            System.out.println(1);
        }
    }</code></pre> 
<p>上面的意思是每过500毫秒打印一个1</p> 
<p>同时要记得启动它</p> 
<p><img alt="" height="225" src="https://images2.imgbox.com/32/bd/5LtztIpc_o.png" width="609"></p> 
<p> 完整代码为</p> 
<pre><code class="language-java">public class MyPanel extends JPanel implements Runnable{

    Thread thread=new Thread(this);

    public MyPanel(){
        init();
        thread.start();
    }
    private void init(){
        setLayout(null);//取消默认的布局管理
    }

    @Override
    protected void paintComponent(Graphics g) {
        g.setColor(Color.red);
        g.fillRect(10,10,100,100);
        g.setColor(Color.blue);
        g.drawOval(110,110,50,50);
    }

    @Override
    public void run() {
        while (true){

            try {
                Thread.sleep(500);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }

            System.out.println(1);
        }
    }
}</code></pre> 
<h2>让图片移动</h2> 
<p>定义矩形x,y坐标为全局变量</p> 
<p><img alt="" height="71" src="https://images2.imgbox.com/2d/62/jlz0F07B_o.png" width="255"></p> 
<p><img alt="" height="161" src="https://images2.imgbox.com/a8/75/WIVM8PZI_o.png" width="555"> </p> 
<p>每过500毫秒x坐标增加10,并且重新画一次(repaint()可以刷新,即去调用paintComponent(),注意,paintComponent()方法不能主动调用)</p> 
<p><img alt="" height="388" src="https://images2.imgbox.com/44/c2/7Hu1jPYm_o.png" width="487"> </p> 
<p>运行后发现图片并不是移动,而是产生了手机电池充电的效果</p> 
<p> <img alt="" height="176" src="https://images2.imgbox.com/31/89/YPW0hJvt_o.png" width="476"></p> 
<p> 这是因为,我们没有把之前画在面板上的内容清空,在这里添加一句话就行</p> 
<p>(父类的paintComponent()方法默认会清空面板内容)</p> 
<p><img alt="" height="210" src="https://images2.imgbox.com/62/57/OadgAdVs_o.png" width="526"></p> 
<p> 现在,再运行就是正常的移动了</p> 
<p>本文章基本就差不多了,其实,我们还可以通过按下键盘按键来控制图形移动,</p> 
<p>但是,改天再写吧</p> 
<p>可以提示一下,下面图片是我以前写过的监听之一(定义一个方法,里面</p> 
<pre>addKeyListener(new KeyAdapter(){} 可以配合switch或if语句对按键判断
</pre> 
<p>)</p> 
<p><img alt="" height="764" src="https://images2.imgbox.com/f4/1d/GtuPVpm6_o.png" width="675"></p> 
<p> over</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/64f33ed286fd2d138f8a7ff744aaee40/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">平台跳跃游戏《梦之奇旅》代码回顾</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2828bcce11cb87e9e334545995f92da8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Processing rect() 函数应用——范斯沃斯住宅几何风 绘制</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>