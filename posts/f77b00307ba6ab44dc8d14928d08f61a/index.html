<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Echarts图表的使用以及如何适应屏幕变化 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Echarts图表的使用以及如何适应屏幕变化" />
<meta property="og:description" content="我在使用echarts时没有使用按需引入的方式，而是全部引入并且挂载到了Vue全局组件中，在main.js中
// 引入Echarts import ECharts from &#39;vue-echarts&#39; import &#34;echarts&#34;; Vue.component(&#34;v-chart&#34;, ECharts); 然后直接在页面上使用
&lt;div class=&#34;echartsLeft-list&#34;&gt; &lt;div class=&#34;chart1-title&#34;&gt;14 日销售折线图(单位：件)&lt;/div&gt; &lt;v-chart class=&#34;chart1&#34; :option=&#34;option1&#34; ref=&#34;chart1&#34; /&gt; &lt;/div&gt; 我们在使用echarts的时候往往要考虑适配问题，在阅读echarts的官方文档时，可以看到，有一个方法叫做resize
那我们如何去使用这个方法呢
首先在methods中定义一个方法，通过ref获取页面上的echarts实例，直接调用方法
getresize(){ this.$refs.chart1.resize() }, 那么什么时候去调用呢，就是当窗口大小发生改变时，在mounted生命周期添加监听页面窗口大小的方法
mounted() { window.addEventListener(&#34;resize&#34;,this.getresize); }, 这样就可以实现适配了，但是有一个问题会出现，那就是你跳转到其他页面时，监听事件并没有被销毁，但echarts实例已经被销毁了，导致找不到resize的报错，所以这个时候就需在beforeDestroy生命周期清楚监听事件
beforeDestroy() { // 页面销毁时销毁监听事件 window.removeEventListener(&#39;resize&#39;,this.getresize) }, 整体代码：
&lt;template&gt; &lt;div class=&#34;echartsLeft-list&#34;&gt; &lt;div class=&#34;chart1-title&#34;&gt;14 日销售折线图(单位：件)&lt;/div&gt; &lt;v-chart class=&#34;chart1&#34; :option=&#34;option1&#34; ref=&#34;chart1&#34; /&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { data() { return { // echarts图表折线图 option1: { xAxis: { type: &#39;category&#39;, data: [&#39;Mon&#39;, &#39;Tue&#39;, &#39;Wed&#39;, &#39;Thu&#39;, &#39;Fri&#39;, &#39;Sat&#39;, &#39;Sun&#39;] }, yAxis: { type: &#39;value&#39;, axisLine: { lineStyle: { type: &#39;dashed&#39; } } }, series: [ { data: [150, 230, 224, 218, 135, 147, 260], type: &#39;line&#39; } ] }, } }, mounted() { window." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/f77b00307ba6ab44dc8d14928d08f61a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-16T19:30:13+08:00" />
<meta property="article:modified_time" content="2022-12-16T19:30:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Echarts图表的使用以及如何适应屏幕变化</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>我在使用echarts时没有使用按需引入的方式，而是全部引入并且挂载到了Vue全局组件中，在main.js中</p> 
<pre><code class="language-javascript">// 引入Echarts
import ECharts from 'vue-echarts'
import "echarts";
Vue.component("v-chart", ECharts);</code></pre> 
<p>然后直接在页面上使用</p> 
<pre><code class="language-html">&lt;div class="echartsLeft-list"&gt;
   &lt;div class="chart1-title"&gt;14 日销售折线图(单位：件)&lt;/div&gt;
   &lt;v-chart class="chart1" :option="option1" ref="chart1" /&gt;
&lt;/div&gt;</code></pre> 
<p> 我们在使用echarts的时候往往要考虑适配问题，在阅读echarts的官方文档时，可以看到，有一个方法叫做resize</p> 
<p class="img-center"><img alt="" height="312" src="https://images2.imgbox.com/10/30/s3qsIglI_o.png" width="403"></p> 
<p>那我们如何去使用这个方法呢</p> 
<p>首先在methods中定义一个方法，通过ref获取页面上的echarts实例，直接调用方法</p> 
<pre><code class="language-javascript">getresize(){
    this.$refs.chart1.resize()
},</code></pre> 
<p>那么什么时候去调用呢，就是当窗口大小发生改变时，在mounted生命周期添加监听页面窗口大小的方法</p> 
<pre><code class="language-javascript">mounted() {
   window.addEventListener("resize",this.getresize);
},</code></pre> 
<p>这样就可以实现适配了，但是有一个问题会出现，那就是你跳转到其他页面时，监听事件并没有被销毁，但echarts实例已经被销毁了，导致找不到resize的报错，所以这个时候就需在beforeDestroy生命周期清楚监听事件</p> 
<pre><code class="language-javascript"> beforeDestroy() {
    // 页面销毁时销毁监听事件
    window.removeEventListener('resize',this.getresize)
},</code></pre> 
<p>整体代码：</p> 
<pre><code class="language-javascript">&lt;template&gt;
   &lt;div class="echartsLeft-list"&gt;
      &lt;div class="chart1-title"&gt;14 日销售折线图(单位：件)&lt;/div&gt;
       &lt;v-chart class="chart1" :option="option1" ref="chart1" /&gt;
   &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
    data() {
        return {
            // echarts图表折线图
            option1: {
                xAxis: {
                    type: 'category',
                    data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
                },
                yAxis: {
                    type: 'value',
                    axisLine: {
                        lineStyle: {
                            type: 'dashed'
                        }
                    }
                },
                series: [
                    {
                        data: [150, 230, 224, 218, 135, 147, 260],
                        type: 'line'
                    }
                ]
            },
           
        }
    },

    mounted() {
        window.addEventListener("resize",this.getresize);
    },
    beforeDestroy() {
        // 页面销毁时销毁监听事件
        window.removeEventListener('resize',this.getresize)
    },
    methods: {
        // echarts随屏幕大小改变
        getresize(){
            this.$refs.chart1.resize()
        }, 
    }
}
&lt;/script&gt;</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c7eddb767a5684c5c46b2c89476bcb0e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">UE5 Shader基础学习笔记——13-20 DetailNormal/Smoothstep/Length/CeilFloorRound/DDXDDY/SinCos/Power</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/004e7fffa8d1b0ffaa5d13fae3d8dbf8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Vue使用md5加密</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>