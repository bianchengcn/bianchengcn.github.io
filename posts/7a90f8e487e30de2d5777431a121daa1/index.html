<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>VS1053B 音频编解码器芯片的介绍（二） - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="VS1053B 音频编解码器芯片的介绍（二）" />
<meta property="og:description" content="二、和外围电路的接线图：
三、SPI接口（音频数据传输接口）介绍
SPI 引脚介绍 SPI 接口是用来传输音频数据的。引脚连接图如下：
因为VS1053B工作的是时候，执行两种协议:
一种是串行数据接口的串行协议(SDI),
一种是串行命令接口的串行协议（SCI）.
所以片选有两个XCS and XDCS.
其他引脚DREQ 说明: DREQ为高电平的时候，VS1053B可接受最少32字节的数据。DREQ为低电平，不能向VS1053B发送数据。 四、协议介绍： 串行数据接口的串行协议(SDI) and 串行命令接口的串行协议（SCI）
串行数据接口的串行协议(SDI) 传输原则： 串行数据接口在从机模式下工作，因此DCLK信号必须由一个外部电路提供。数据（SDATA信号）可以在DCLK的上升沿或下降沿输入。SDI 传输数据的时候，SCI_MODE 决定了MSb or LSb 在前。SM_NEWMODE =1，字节同步是由XDCS完成的。请注意，通过SDI发送数据时，您必须在以下位置检查数据请求引脚DREQ至少每32个字节之后。SDI协议下传输数据的格式如下，推荐使用守则，SDATA每传输完32位字节后，XDCS拉高一会。再拉低。是为了偶尔出现时钟故障，也要保持数据同步。 SDI 时序图如下： 串行命令接口的串行协议（SCI） 协议规则： 串行命令接口SCI的串行总线协议由一个指令字节，一个地址字节和一个16位数据字组成。每个读取或写入操作都可以读取或写一个寄存器。 在上升沿读取数据位，因此用户应更新数据在下降的边缘。字节总是先发送MSb。XCS应该在整个持续时间内保持低电平。注意：VS1053b在每次SCI操作后将DREQ设置为低电平。持续时间取决于具体的操作行为。在DREQ再次变为高电平之前，不允许启动一个新的SCI / SDI操作。 不同操作下的时序图： SCI 读操作 SCI 写操作 SCI 多重写操作 SCI 时序图 两个SCI写操作 两个SDI字节 在两个SDI字节之间的SCI操作 五、支持的音频解码器格式
六、功能描述
主要特点 VS1053b是一个建立在私有基础上的数字信号处理器VS_DSP。它包含 Ogg Vorbis，MP3，AAC，WMA 和 WAV PCM &#43; ADPCM 音频解码、MIDI合成器，串行接口，一个多种速率的立体声DAC 和 模拟输出放大器加滤波器。和他们所需要的所有有关代码和数据存储。
此外，PCM / ADPCM音频编码器可以使用一个麦克风放大器 和/或 线路级的输入，以及一个立体声A / D转换器。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/7a90f8e487e30de2d5777431a121daa1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-09-27T15:35:04+08:00" />
<meta property="article:modified_time" content="2019-09-27T15:35:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">VS1053B 音频编解码器芯片的介绍（二）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:0cm;"><img alt="" class="has" height="400" src="https://images2.imgbox.com/0c/fb/U0iyK6w3_o.png" width="636"></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="572" src="https://images2.imgbox.com/4b/22/J1PyBCsX_o.png" width="827"></p> 
<p style="margin-left:0cm;">二、和外围电路的接线图：</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="824" src="https://images2.imgbox.com/24/df/TDcr3Ddk_o.png" width="662"></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">三、SPI接口（音频数据传输接口）介绍</p> 
<ol><li>SPI 引脚介绍</li></ol> 
<p style="margin-left:0cm;">SPI 接口是用来传输音频数据的。引脚连接图如下：</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="301" src="https://images2.imgbox.com/0d/3c/5EMJJG6I_o.png" width="668"></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">因为VS1053B工作的是时候，执行两种协议:</p> 
<p style="margin-left:0cm;">一种是串行数据接口的串行协议(SDI),</p> 
<p style="margin-left:0cm;">一种是串行命令接口的串行协议（SCI）.</p> 
<p style="margin-left:0cm;">所以片选有两个XCS and XDCS.</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="257" src="https://images2.imgbox.com/4c/1a/oajymDvv_o.png" width="589"></p> 
<p style="margin-left:0cm;"> </p> 
<ol><li>其他引脚DREQ 说明: 
  <ol><li>DREQ为高电平的时候，VS1053B可接受最少32字节的数据。DREQ为低电平，不能向VS1053B发送数据。</li></ol></li></ol> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">四、协议介绍： 串行数据接口的串行协议(SDI) and 串行命令接口的串行协议（SCI）</p> 
<ol><li> 
  <ol><li>串行数据接口的串行协议(SDI) 
    <ol><li>传输原则： 
      <ol><li><span style="color:#000000;">串行数据接口在从机模式下工作，因此</span><span style="color:#000000;">DCLK</span><span style="color:#000000;">信号必须由一个外部电路</span><span style="color:#000000;">提供</span><span style="color:#000000;">。数据（</span><span style="color:#000000;">SDATA</span><span style="color:#000000;">信号）可以在</span><span style="color:#000000;">DCLK</span><span style="color:#000000;">的上升沿或下降沿输入</span><span style="color:#000000;">。</span></li><li>SDI 传输数据的时候，SCI_MODE 决定了MSb or LSb 在前。</li><li>SM_NEWMODE =1，字节同步是由XDCS完成的。</li><li><span style="color:#000000;">请注意，通过</span><span style="color:#000000;">SDI</span><span style="color:#000000;">发送数据时，您必须在以下位置检查数据请求引脚</span><span style="color:#000000;">DREQ</span><span style="color:#000000;">至少每</span><span style="color:#000000;">32</span><span style="color:#000000;">个字节之后</span><span style="color:#000000;">。</span></li></ol></li><li><span style="color:#000000;">SDI</span><span style="color:#000000;">协议下传输数据的格式如下，推荐使用守则，</span><span style="color:#000000;">SDATA</span><span style="color:#000000;">每传输完</span><span style="color:#000000;">32</span><span style="color:#000000;">位字节后，</span><span style="color:#000000;">XDCS</span><span style="color:#000000;">拉高一会。再拉低。是为了</span>偶尔出现时钟故障，也要保持数据同步。</li></ol></li></ol></li></ol> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="225" src="https://images2.imgbox.com/fb/94/L5x86LP4_o.png" width="543"></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="228" src="https://images2.imgbox.com/bd/38/pypahKGX_o.png" width="773"></p> 
<ol><li> 
  <ol><li>SDI 时序图如下：</li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="625" src="https://images2.imgbox.com/4d/e2/vqrHruGM_o.png" width="774"></p> 
<ol><li> 
  <ol><li> 串行命令接口的串行协议（SCI） 
    <ol><li>协议规则： 
      <ol><li><span style="color:#000000;">串行命令接口</span><span style="color:#000000;">SCI</span><span style="color:#000000;">的串行总线协议由一个指令字节，</span><span style="color:#000000;">一个</span><span style="color:#000000;">地址字节和一个</span><span style="color:#000000;">16</span><span style="color:#000000;">位数据字</span><span style="color:#000000;">组成</span><span style="color:#000000;">。每个读取或写入操作都可以读取或写一个寄存器。</span></li></ol></li></ol></li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="85" src="https://images2.imgbox.com/ae/74/rjAwo6r4_o.png" width="243"></p> 
<ol><li> 
  <ol><li><span style="color:#000000;">在上升沿读取数据位，因此用户应更新数据在下降的边缘。</span></li><li><span style="color:#000000;">字节总是先发送</span><span style="color:#000000;">MSb</span><span style="color:#000000;">。</span></li><li><span style="color:#000000;">XCS</span><span style="color:#000000;">应该在整个持续时间内保持低电平</span><span style="color:#000000;">。</span></li><li><span style="color:#000000;">注意：</span><span style="color:#000000;">VS1053b</span><span style="color:#000000;">在每次</span><span style="color:#000000;">SCI</span><span style="color:#000000;">操作后将</span><span style="color:#000000;">DREQ</span><span style="color:#000000;">设置为低电平。持续时间取决于</span><span style="color:#000000;">具体的操作行为</span><span style="color:#000000;">。在</span><span style="color:#000000;">DREQ</span><span style="color:#000000;">再次变为高电平之前，不允许</span><span style="color:#000000;">启动一个</span><span style="color:#000000;">新的</span><span style="color:#000000;">SCI / SDI</span><span style="color:#000000;">操作。</span></li></ol></li></ol> 
<p style="margin-left:0cm;"> </p> 
<ol><li> 
  <ol><li><span style="color:#000000;">不同操作下的时序图：</span> 
    <ol><li><span style="color:#000000;">SCI </span><span style="color:#000000;">读操作</span></li></ol></li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="400" src="https://images2.imgbox.com/12/4e/f5eMQBGt_o.png" width="898"></p> 
<p style="margin-left:0cm;"> </p> 
<ol><li> 
  <ol><li><span style="color:#000000;">SCI </span><span style="color:#000000;">写操作</span></li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="420" src="https://images2.imgbox.com/e8/bf/hPhyZh3x_o.png" width="918"></p> 
<ol><li> 
  <ol><li><span style="color:#000000;">SCI </span><span style="color:#000000;">多重写操作</span></li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="371" src="https://images2.imgbox.com/e2/29/98Hcxi0k_o.png" width="976"></p> 
<ol><li> 
  <ol><li><span style="color:#000000;">SCI </span><span style="color:#000000;">时序图</span></li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="866" src="https://images2.imgbox.com/24/fa/M7DqsJ05_o.png" width="936"></p> 
<ol><li> 
  <ol><li><span style="color:#000000;">两个</span><span style="color:#000000;">SCI</span><span style="color:#000000;">写操作</span></li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="431" src="https://images2.imgbox.com/ec/67/H6r60JOF_o.png" width="854"></p> 
<ol><li> 
  <ol><li><span style="color:#000000;">两个</span><span style="color:#000000;">SDI</span><span style="color:#000000;">字节</span></li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="372" src="https://images2.imgbox.com/89/f9/dZLcukKB_o.png" width="867"></p> 
<ol><li> 
  <ol><li><span style="color:#000000;">在两个</span><span style="color:#000000;">SDI</span><span style="color:#000000;">字节之间的</span><span style="color:#000000;">SCI</span><span style="color:#000000;">操作</span></li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="406" src="https://images2.imgbox.com/a3/4d/YueUVSeL_o.png" width="875"></p> 
<p style="margin-left:0cm;"><em> </em></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">五、支持的音频解码器格式</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">六、功能描述</p> 
<ol><li> 
  <ol><li><strong><span style="color:#000000;">主要特点</span></strong></li></ol></li></ol> 
<p style="margin-left:0cm;"><span style="color:#000000;">VS1053b</span><span style="color:#000000;">是一个建立在私有基础上的</span><span style="color:#000000;">数字信号处理器</span><span style="color:#000000;">VS_DSP</span><span style="color:#000000;">。它包含</span> <span style="color:#000000;">Ogg Vorbis</span><span style="color:#000000;">，</span><span style="color:#000000;">MP3</span><span style="color:#000000;">，</span><span style="color:#000000;">AAC</span><span style="color:#000000;">，</span><span style="color:#000000;">WMA</span> <span style="color:#000000;">和</span> <span style="color:#000000;">WAV PCM + ADPCM</span> <span style="color:#000000;">音频解码</span><span style="color:#000000;">、</span><span style="color:#000000;">MIDI</span><span style="color:#000000;">合成器，串行接口，</span><span style="color:#000000;">一个多种</span><span style="color:#000000;">速率</span><span style="color:#000000;">的</span><span style="color:#000000;">立体声</span><span style="color:#000000;">DAC</span> <span style="color:#000000;">和 </span><span style="color:#000000;">模拟输出放大器</span><span style="color:#000000;">加</span><span style="color:#000000;">滤波器。</span><span style="color:#000000;">和他们所需要的所有有关代码和数据存储。</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">此外，</span><span style="color:#000000;">PCM / ADPCM</span><span style="color:#000000;">音频编码</span><span style="color:#000000;">器可以使用一个</span><span style="color:#000000;">麦克风放大器</span>  <span style="color:#000000;">和</span><span style="color:#000000;">/</span><span style="color:#000000;">或</span> <span style="color:#000000;">线路</span><span style="color:#000000;">级的</span><span style="color:#000000;">输入</span><span style="color:#000000;">，</span><span style="color:#000000;">以及</span><span style="color:#000000;">一个</span><span style="color:#000000;">立体声</span><span style="color:#000000;">A / D</span><span style="color:#000000;">转换器。</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">带有软件</span><span style="color:#000000;">插件</span><span style="color:#000000;">的</span><span style="color:#000000;">该芯片</span><span style="color:#000000;">，</span><span style="color:#000000;">还可以解码无损</span><span style="color:#000000;">FLAC</span><span style="color:#000000;">，</span><span style="color:#000000;">并记录高质量的</span><span style="color:#000000;">Ogg Vorbis</span><span style="color:#000000;">格式。</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">提供</span><span style="color:#000000;">UART</span><span style="color:#000000;">用于调试目的。</span></p> 
<ol><li> 
  <ol><li>VS1053B 的数据流动原理</li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="540" src="https://images2.imgbox.com/66/45/gDPMdyxv_o.png" width="932"></p> 
<p style="margin-left:0cm;"> </p> 
<ol><li> 
  <ol><li>EarSpeaker 的空间效果处理 
    <ol><li>目的：使头挂式耳机发出的声音，更接近来自真实音箱或者现场音乐的效果。</li><li>设置方法：</li></ol></li></ol></li></ol> 
<p style="margin-left:0cm;"><span style="color:#000000;">可以将</span><span style="color:#000000;">EarSpeaker</span><span style="color:#000000;">处理参数化为几种不同的模式，每种模式都可以模拟一些不同类型的声学环境，适合不同的个人喜好和记录类型</span><span style="color:#000000;">。</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">•</span><span style="color:#000000;">关：通过扬声器收听或要播放的音频包含音频时的最佳选择双耳预处理。</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">•</span><span style="color:#000000;">最小：非常适合戴着耳机听普通的乐谱。</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">•</span><span style="color:#000000;">正常：适合通过耳机收听正常的乐谱，移动声音来源远不止于此。</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">•</span><span style="color:#000000;">极端：适合于旧的或</span><span style="color:#000000;">“</span><span style="color:#000000;">干式</span><span style="color:#000000;">”</span><span style="color:#000000;">录音，或者如果要播放的音频是人造的，则适用于示例生成的</span><span style="color:#000000;">MIDI</span><span style="color:#000000;">。</span></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><span style="color:#000000;">SM_EARSPEAKER_LO</span><span style="color:#000000;">和</span><span style="color:#000000;">SM_EARSPEAKER_HI</span><span style="color:#000000;">位控制</span><span style="color:#000000;">EarSpeaker</span><span style="color:#000000;">空间</span><span style="color:#000000;">处理</span><span style="color:#000000;">。如果两者均为</span><span style="color:#000000;">0</span><span style="color:#000000;">，则该处理无效。其他组合激活处理</span><span style="color:#000000;">，</span><span style="color:#000000;">并选择</span><span style="color:#000000;">3</span><span style="color:#000000;">种不同的效果等级：</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">LO = 1</span><span style="color:#000000;">，</span><span style="color:#000000;">HI = 0</span><span style="color:#000000;">选择最小，</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">LO = 0</span><span style="color:#000000;">，</span><span style="color:#000000;">HI = 1</span><span style="color:#000000;">选择</span><span style="color:#000000;">正常，</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">LO = 1</span><span style="color:#000000;">，</span><span style="color:#000000;">HI = 1</span><span style="color:#000000;">选择极端。</span></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<ol><li> 
  <ol><li>串行数据接口（SDI）</li></ol></li></ol> 
<p style="margin-left:0cm;">定义（功能）：</p> 
<p style="margin-left:0cm;"><span style="color:#000000;">VS1053B</span><span style="color:#000000;">的</span><span style="color:#000000;">串行数据接口用于为</span> <span style="color:#000000;">压缩解码器的</span> <span style="color:#000000;">不同解码器</span> <span style="color:#000000;">传输压缩数据。</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">特点：</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">如果解码器的输入无效或接收速度不够快，则模拟输出将自动静音。</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">功能：</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">可以通过</span><span style="color:#000000;">SDI</span><span style="color:#000000;">激活几种不同的测试</span><span style="color:#000000;">.</span></p> 
<ol><li> 
  <ol><li>串行控制接口（SCI）</li></ol></li></ol> 
<p style="margin-left:0cm;"><span style="color:#000000;">串行控制接口与</span><span style="color:#000000;">SPI</span><span style="color:#000000;">总线规范兼容。数据传输是总是</span><span style="color:#000000;">16</span><span style="color:#000000;">位。</span><span style="color:#000000;">VS1053</span><span style="color:#000000;">B</span><span style="color:#000000;">就是</span><span style="color:#000000;">通过</span><span style="color:#000000;">此接口的读取和写入来控制的。</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">主控器可以通过</span><span style="color:#000000;">串行控制接口</span><span style="color:#000000;">来进行下面的操作</span><span style="color:#000000;">：</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">•</span><span style="color:#000000;">操作模式，时钟和内置效果</span><span style="color:#000000;">的</span><span style="color:#000000;">控制</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">•</span><span style="color:#000000;">访问状态信息和</span><span style="color:#000000;">数据</span><span style="color:#000000;">标头</span><span style="color:#000000;">的</span><span style="color:#000000;">数据</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">•</span><span style="color:#000000;">访问录音模式下的</span><span style="color:#000000;">编码数据</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">•</span><span style="color:#000000;">上传和控制用户程序</span></p> 
<ol><li> 
  <ol><li>SCI 寄存器</li></ol></li></ol> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="493" src="https://images2.imgbox.com/a7/c9/b2eU08Vt_o.png" width="600"></p> 
<p style="margin-left:0cm;"> </p> 
<ol><li> 
  <ol><li>SCI_MODE（RW）</li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="681" src="https://images2.imgbox.com/74/fa/0RdwRuV3_o.png" width="552"></p> 
<ol><li> 
  <ol><li>SCI_STATUS（RW）</li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="469" src="https://images2.imgbox.com/d2/b4/OPS2UbNR_o.png" width="913"></p> 
<ol><li> 
  <ol><li>SCI_BASS（RW）</li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="251" src="https://images2.imgbox.com/b4/fe/qD4Fs9kW_o.png" width="714"></p> 
<ol><li> 
  <ol><li>SCI_CLOCKF（RW）</li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="175" src="https://images2.imgbox.com/c7/4f/PowRBkz0_o.png" width="340"></p> 
<ol><li> 
  <ol><li>SCI_DECODE_TIME（RW）</li></ol></li></ol> 
<p style="margin-left:0cm;">解码正确数据时，当前解码时间以秒为单位显示在该寄存器中。</p> 
<ol><li> 
  <ol><li>SCI_AUDATA（RW）</li></ol></li></ol> 
<p style="margin-left:0cm;"><span style="color:#000000;">解码正确的数据时，当前的采样率和通道数分别在</span><span style="color:#000000;">SCI_AUDATA</span><span style="color:#000000;">的位</span><span style="color:#000000;">15</span><span style="color:#000000;">：</span><span style="color:#000000;">1</span><span style="color:#000000;">和</span><span style="color:#000000;">0</span><span style="color:#000000;">中</span><span style="color:#000000;">找到</span><span style="color:#000000;">。位</span><span style="color:#000000;">15</span><span style="color:#000000;">：</span><span style="color:#000000;">1</span><span style="color:#000000;">包含</span><span style="color:#000000;">了两个采样率</span><span style="color:#000000;">，位</span><span style="color:#000000;">0</span><span style="color:#000000;">为</span><span style="color:#000000;">0</span><span style="color:#000000;">表示</span><span style="color:#000000;">单声道数据，</span><span style="color:#000000;">为</span><span style="color:#000000;">1</span><span style="color:#000000;">表示</span><span style="color:#000000;">立体声。写入</span><span style="color:#000000;">SCI_AUDATA</span><span style="color:#000000;">将改变直接采样</span><span style="color:#000000;">速率。</span></p> 
<ol><li> 
  <ol><li>SCI_WRAM（RW）</li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="131" src="https://images2.imgbox.com/0d/89/mlw31hpL_o.png" width="971"></p> 
<ol><li> 
  <ol><li>SCI_WRAMADDR（W）</li></ol></li></ol> 
<p style="margin-left:0cm;"><span style="color:#000000;">SCI_WRAMADDR</span><span style="color:#000000;">用于设置程序地址，以用于后续的</span><span style="color:#000000;">SCI_WRAM</span><span style="color:#000000;">写</span><span style="color:#000000;">/</span><span style="color:#000000;">读。</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">使用下表中的地址偏移量访问</span><span style="color:#000000;">X</span><span style="color:#000000;">，</span><span style="color:#000000;">Y</span><span style="color:#000000;">，</span><span style="color:#000000;">I</span><span style="color:#000000;">或外围存储器。</span></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="206" src="https://images2.imgbox.com/0a/58/2OGt2Yjq_o.png" width="742"></p> 
<ol><li> 
  <ol><li>SCI_HDAT0和SCI_HDAT1（R）</li></ol></li></ol> 
<p style="margin-left:0cm;"><span style="color:#000000;">读取时，</span><span style="color:#000000;">SCI_HDAT0</span><span style="color:#000000;">和</span><span style="color:#000000;">SCI_HDAT1</span><span style="color:#000000;">包含从中提取的标头信息当前正在解码的</span><span style="color:#000000;">MP3</span><span style="color:#000000;">流。</span></p> 
<ol><li> 
  <ol><li>SCI_AIADDR（RW）</li></ol></li></ol> 
<p style="margin-left:0cm;"><span style="color:#000000;">SCI_AIADDR</span><span style="color:#000000;">指示先前用</span><span style="color:#000000;">SCI_WRAMADDR</span><span style="color:#000000;">编写的应用程序代码的起始地址和</span><span style="color:#000000;">SCI_WRAM</span><span style="color:#000000;">寄存器。如果未使用任何应用程序代码，则不应初始化该寄存器，否则应将其初始化为零。</span></p> 
<ol><li> 
  <ol><li>SCI_VOL（RW）</li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="304" src="https://images2.imgbox.com/69/2e/odiJloAR_o.png" width="965"></p> 
<ol><li> 
  <ol><li>SCI_AICTRL [x]（RW）</li></ol></li></ol> 
<p style="margin-left:0cm;"><span style="color:#000000;">SCI_AICTRL [x]</span><span style="color:#000000;">寄存器（</span><span style="color:#000000;">x = [0 .. 3]</span><span style="color:#000000;">）可用于访问用户的应用程序。</span></p> 
<p style="margin-left:0cm;"><span style="color:#000000;">AICTRL</span><span style="color:#000000;">寄存器也可用于</span><span style="color:#000000;">PCM / ADPCM</span><span style="color:#000000;">编码模式。</span></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">七、操作</p> 
<ol><li> 
  <ol><li>时钟</li></ol></li></ol> 
<p style="margin-left:0cm;">VS1053b通常运作在一个频率为12.288MHz的基本频率主时钟上。</p> 
<p style="margin-left:0cm;"><span style="color:#000000;">在</span><span style="color:#000000;">12.288MHz</span><span style="color:#000000;">时钟</span><span style="color:#000000;">下</span><span style="color:#000000;">，</span><span style="color:#000000;">最高到</span><span style="color:#000000;">48000HZ</span><span style="color:#000000;">的</span><span style="color:#000000;">所有采样率</span><span style="color:#000000;">都可用。</span></p> 
<ol><li> 
  <ol><li><span style="color:#000000;">硬件复位</span></li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="486" src="https://images2.imgbox.com/da/c0/VUzJJE5O_o.png" width="984"></p> 
<ol><li> 
  <ol><li><span style="color:#000000;">软件复位</span></li></ol></li></ol> 
<p style="margin-left:0cm;"><span style="color:#000000;">这可以通过激活寄存器</span><span style="color:#000000;">SCI_MODE</span><span style="color:#000000;">中</span><span style="color:#000000;">SM_RESET</span><span style="color:#000000;">位来完成</span><span style="color:#000000;">。</span><span style="color:#000000;">然后等待至少</span><span style="color:#000000;">2 µs</span><span style="color:#000000;">，然后查看</span><span style="color:#000000;">DREQ</span><span style="color:#000000;">状态，</span>DREQ上升变为高，就可以照常继续播放了。</p> 
<ol><li> 
  <ol><li>播放和解码 
    <ol><li>播放整个文件</li></ol></li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="501" src="https://images2.imgbox.com/80/fd/9seHcztI_o.png" width="992"></p> 
<ol><li> 
  <ol><li>取消播放</li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="420" src="https://images2.imgbox.com/70/a6/DARc76Q7_o.png" width="968"></p> 
<ol><li> 
  <ol><li>快速播放</li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="483" src="https://images2.imgbox.com/df/47/vWVdXKSD_o.png" width="973"></p> 
<ol><li> 
  <ol><li>无音频的快进和快退</li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="632" src="https://images2.imgbox.com/b8/30/bKKKLHLJ_o.png" width="1050"></p> 
<ol><li> 
  <ol><li>保持正确的解码时间</li><li><img alt="" class="has" height="318" src="https://images2.imgbox.com/ac/94/Dua6uFB9_o.png" width="987"></li></ol></li></ol> 
<ol><li> 
  <ol><li>传送PCM数据</li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="27" src="https://images2.imgbox.com/a0/61/9IoJZZPv_o.png" width="643"></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="160" src="https://images2.imgbox.com/65/c4/WauCgLl3_o.png" width="680"></p> 
<ol><li> 
  <ol><li>Ogg Vorbis 录音</li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="36" src="https://images2.imgbox.com/4d/cd/cjeXGkoL_o.png" width="748"></p> 
<ol><li> 
  <ol><li>PCM / ADPCM 录制 
    <ol><li>激活PCM / ADPCM记录模式</li><li>读取PCM / IMA ADPCM数据</li><li>添加PCM RIFF标头</li><li>添加IMA ADPCM RIFF标头</li><li>播放ADPCM数据</li><li>采样率注意事项</li><li>记录监控量</li></ol></li></ol></li></ol> 
<p style="margin-left:0cm;"> </p> 
<ol><li> 
  <ol><li>SPI引导</li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="343" src="https://images2.imgbox.com/18/d8/XcJn13v2_o.png" width="972"></p> 
<ol><li> 
  <ol><li>实时MIDI</li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="31" src="https://images2.imgbox.com/f1/91/SFpvBfPJ_o.png" width="617"></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="26" src="https://images2.imgbox.com/d0/aa/flcEQ9wc_o.png" width="503"></p> 
<ol><li> 
  <ol><li>外部参数</li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="706" src="https://images2.imgbox.com/0c/05/XV7KA3NL_o.png" width="692"></p> 
<ol><li> 
  <ol><li>通用参数</li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="278" src="https://images2.imgbox.com/5e/b3/pHsEH2tj_o.png" width="667"></p> 
<ol><li> 
  <ol><li>WMA</li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="91" src="https://images2.imgbox.com/5b/be/VYEE8QXX_o.png" width="416"></p> 
<ol><li> 
  <ol><li>AAC</li></ol></li></ol> 
<p style="margin-left:0cm;"><img alt="" class="has" height="294" src="https://images2.imgbox.com/c7/5a/3P7DSyJZ_o.png" width="540"></p> 
<ol><li> 
  <ol><li>MIDI</li></ol></li></ol> 
<p style="margin-left:0cm;"><strong><span style="color:#333333;">MIDI</span></strong>仅仅是一个通信标准，它是由电子乐器制造商们建立起来的，用以确定电脑音乐程序、合成器和其他电子音响的设备互相交换<a href="https://baike.so.com/doc/933443.html" rel="nofollow"><span style="color:#0000ff;">信息</span></a>与控制信号的方法。</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">MIDI系统实际就是一个作曲、配器、电子模拟的演奏系统。从一个MIDI设备转送到另一个MIDI设备上去的数据就是MIDI信息。MIDI数据不是数字的音频波形，而是音乐代码或称电子乐谱。</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="156" src="https://images2.imgbox.com/8b/8c/kCBP9qTb_o.png" width="733"></p> 
<ol><li> 
  <ol><li>Ogg Vorbis</li></ol></li></ol> 
<p style="margin-left:0cm;">OGG Vorbis是一种新的音频<a href="https://baike.so.com/doc/6661161-6874984.html" rel="nofollow"><span style="color:#0000ff;">压缩格式</span></a>，类似于MP3等现有的<a href="https://baike.so.com/doc/6372047-6585690.html" rel="nofollow"><span style="color:#0000ff;">音乐格式</span></a>。</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="103" src="https://images2.imgbox.com/ad/f1/nWTITezK_o.png" width="774"></p> 
<ol><li> 
  <ol><li>SDI 测试 
    <ol><li>新的正弦和扫频测试</li><li>引脚测试</li><li>SCI测试</li><li>内存测试</li></ol></li></ol></li></ol> 
<p style="margin-left:0cm;">八、VS1053B 寄存器</p> 
<p style="margin-left:0cm;"><span style="color:#000000;">当用户希望添加一些自己的功能（例如</span><span style="color:#000000;">DSP</span><span style="color:#000000;">效果）时，需要使用用户软件至</span><span style="color:#000000;">VS1053b</span><span style="color:#000000;">。但是，大多数</span><span style="color:#000000;">VS1053b</span><span style="color:#000000;">的用户无需担心编写自己的代码，</span></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><em> </em></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><em> </em></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><em> </em></p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e5849d2272e033c8b9e3ce8638a8232f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Unity_触摸屏_使用EasyTouch手势缩放大小限制</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e4e9616301a0db32a9fa31919d37248a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">运行shell脚本报错：“syntax error near unexpected token 的解决方法`”</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>