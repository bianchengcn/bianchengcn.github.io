<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux 网络命令及网卡配置 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux 网络命令及网卡配置" />
<meta property="og:description" content="目录
ifconfig 命令
基础用法
常用命令格式
开启网卡以及关闭网卡命令
临时修改网卡名称
永久修改网卡名称
hostname 命令
在 centos7 下永久修改主机名
在 centos6 下永久修改主机名
route 命令
常用命令格式
netstat 命令
ss 命令
常用命令
ping 命令
traceroute 命令
nslookup 命令
永久修改网络相关配置文件
tcpdump 命令，抓包工具
多网卡绑定
ifconfig 命令 —— 作用查看所有的网络接口信息
来自 net-tools 包
基础用法 [root@localhost ~]# ifconfig
ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1500
该接口已启用，支持广播 正在运行 支持组播 最大传输单元 1500 字节 inet 192.168.88.99 netmask 255.255.255.0 broadcast 192.168.88.255
inet6 fe80::407a:8f7e:a4ce:de92 prefixlen 64 scopeid 0x20&lt;link&gt;
IPV6 地址 子网长度 作用域 link 表示仅该接口有效 ether 00:0c:29:e1:54:cf txqueuelen 1000 (Ethernet)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/65ac26d20b95e9aaf3fa594ec4132e21/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-10T09:54:31+08:00" />
<meta property="article:modified_time" content="2023-11-10T09:54:31+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux 网络命令及网卡配置</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="ifconfig%20%E5%91%BD%E4%BB%A4-toc" style="margin-left:40px;"><a href="#ifconfig%20%E5%91%BD%E4%BB%A4" rel="nofollow">ifconfig 命令</a></p> 
<p id="%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95-toc" style="margin-left:120px;"><a href="#%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95" rel="nofollow">基础用法</a></p> 
<p id="%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F-toc" style="margin-left:120px;"><a href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F" rel="nofollow">常用命令格式</a></p> 
<p id="%E5%BC%80%E5%90%AF%E7%BD%91%E5%8D%A1%E4%BB%A5%E5%8F%8A%E5%85%B3%E9%97%AD%E7%BD%91%E5%8D%A1%E5%91%BD%E4%BB%A4-toc" style="margin-left:40px;"><a href="#%E5%BC%80%E5%90%AF%E7%BD%91%E5%8D%A1%E4%BB%A5%E5%8F%8A%E5%85%B3%E9%97%AD%E7%BD%91%E5%8D%A1%E5%91%BD%E4%BB%A4" rel="nofollow">开启网卡以及关闭网卡命令</a></p> 
<p id="%E4%B8%B4%E6%97%B6%E4%BF%AE%E6%94%B9%E7%BD%91%E5%8D%A1%E5%90%8D%E7%A7%B0-toc" style="margin-left:40px;"><a href="#%E4%B8%B4%E6%97%B6%E4%BF%AE%E6%94%B9%E7%BD%91%E5%8D%A1%E5%90%8D%E7%A7%B0" rel="nofollow">临时修改网卡名称</a></p> 
<p id="%E6%B0%B8%E4%B9%85%E4%BF%AE%E6%94%B9%E7%BD%91%E5%8D%A1%E5%90%8D%E7%A7%B0-toc" style="margin-left:40px;"><a href="#%E6%B0%B8%E4%B9%85%E4%BF%AE%E6%94%B9%E7%BD%91%E5%8D%A1%E5%90%8D%E7%A7%B0" rel="nofollow">永久修改网卡名称</a></p> 
<p id="hostname%20%E5%91%BD%E4%BB%A4-toc" style="margin-left:40px;"><a href="#hostname%20%E5%91%BD%E4%BB%A4" rel="nofollow">hostname 命令</a></p> 
<p id="%E5%9C%A8%20centos7%20%E4%B8%8B%E6%B0%B8%E4%B9%85%E4%BF%AE%E6%94%B9%E4%B8%BB%E6%9C%BA%E5%90%8D-toc" style="margin-left:120px;"><a href="#%E5%9C%A8%20centos7%20%E4%B8%8B%E6%B0%B8%E4%B9%85%E4%BF%AE%E6%94%B9%E4%B8%BB%E6%9C%BA%E5%90%8D" rel="nofollow">在 centos7 下永久修改主机名</a></p> 
<p id="%E5%9C%A8%20centos6%20%E4%B8%8B%E6%B0%B8%E4%B9%85%E4%BF%AE%E6%94%B9%E4%B8%BB%E6%9C%BA%E5%90%8D-toc" style="margin-left:120px;"><a href="#%E5%9C%A8%20centos6%20%E4%B8%8B%E6%B0%B8%E4%B9%85%E4%BF%AE%E6%94%B9%E4%B8%BB%E6%9C%BA%E5%90%8D" rel="nofollow">在 centos6 下永久修改主机名</a></p> 
<p id="route%20%E5%91%BD%E4%BB%A4-toc" style="margin-left:40px;"><a href="#route%20%E5%91%BD%E4%BB%A4" rel="nofollow">route 命令</a></p> 
<p id="-toc" style="margin-left:120px;"></p> 
<p id="%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F-toc" style="margin-left:120px;"><a href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F" rel="nofollow">常用命令格式</a></p> 
<p id="netstat%20%E5%91%BD%E4%BB%A4-toc" style="margin-left:40px;"><a href="#netstat%20%E5%91%BD%E4%BB%A4" rel="nofollow">netstat 命令</a></p> 
<p id="ss%20%E5%91%BD%E4%BB%A4-toc" style="margin-left:40px;"><a href="#ss%20%E5%91%BD%E4%BB%A4" rel="nofollow">ss 命令</a></p> 
<p id="%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4-toc" style="margin-left:120px;"><a href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4" rel="nofollow">常用命令</a></p> 
<p id="ping%20%E5%91%BD%E4%BB%A4-toc" style="margin-left:40px;"><a href="#ping%20%E5%91%BD%E4%BB%A4" rel="nofollow">ping 命令</a></p> 
<p id="traceroute%20%E5%91%BD%E4%BB%A4-toc" style="margin-left:40px;"><a href="#traceroute%20%E5%91%BD%E4%BB%A4" rel="nofollow">traceroute 命令</a></p> 
<p id="nslookup%20%E5%91%BD%E4%BB%A4-toc" style="margin-left:40px;"><a href="#nslookup%20%E5%91%BD%E4%BB%A4" rel="nofollow">nslookup 命令</a></p> 
<p id="%E6%B0%B8%E4%B9%85%E4%BF%AE%E6%94%B9%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-toc" style="margin-left:40px;"><a href="#%E6%B0%B8%E4%B9%85%E4%BF%AE%E6%94%B9%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" rel="nofollow">永久修改网络相关配置文件</a></p> 
<p id="tcpdump%20%E5%91%BD%E4%BB%A4%EF%BC%8C%E6%8A%93%E5%8C%85%E5%B7%A5%E5%85%B7-toc" style="margin-left:40px;"><a href="#tcpdump%20%E5%91%BD%E4%BB%A4%EF%BC%8C%E6%8A%93%E5%8C%85%E5%B7%A5%E5%85%B7" rel="nofollow">tcpdump 命令，抓包工具</a></p> 
<p id="%E5%A4%9A%E7%BD%91%E5%8D%A1%E7%BB%91%E5%AE%9A-toc" style="margin-left:40px;"><a href="#%E5%A4%9A%E7%BD%91%E5%8D%A1%E7%BB%91%E5%AE%9A" rel="nofollow">多网卡绑定</a></p> 
<hr> 
<h3 id="ifconfig%20%E5%91%BD%E4%BB%A4">ifconfig 命令</h3> 
<p><strong>—— 作用查看所有的网络接口信息</strong></p> 
<p>来自 net-tools 包</p> 
<p><img alt="" height="640" src="https://images2.imgbox.com/b8/63/BxxI55ZP_o.png" width="1155"></p> 
<p></p> 
<h5 id="%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95">基础用法</h5> 
<blockquote> 
 <p>[root@localhost ~]# ifconfig</p> 
 <p></p> 
 <p>ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500<br>  <span style="color:#956fe7;">该接口已启用，支持广播        正在运行       支持组播       最大传输单元 1500 字节  </span><span style="color:#38d8f0;">   </span> </p> 
 <p>inet 192.168.88.99  netmask 255.255.255.0  broadcast 192.168.88.255<br>        </p> 
 <p>inet6 fe80::407a:8f7e:a4ce:de92  prefixlen 64  scopeid 0x20&lt;link&gt;<br>                  <span style="color:#956fe7;">IPV6 地址                      子网长度    </span>  <span style="color:#956fe7;">作用域 link 表示仅该接口有效</span> </p> 
 <p>ether 00:0c:29:e1:54:cf  txqueuelen 1000  (Ethernet)<br>        <span style="color:#956fe7;">mac 地址                            传输队列长度（传输缓存大小）</span></p> 
 <p></p> 
 <p><span style="color:#4da8ee;">接口类型</span></p> 
 <p>RX packets 634547  bytes 901232757 (859.4 MiB)<br>  <span style="color:#4da8ee;">接受   报文个数</span>            <span style="color:#4da8ee;">总和字节数</span>  </p> 
 <p>RX errors 0  dropped 0  overruns 0  frame 0<br>  <span style="color:#4da8ee;">接受   错误   </span>   <span style="color:#4da8ee;"> 丢弃         溢出           冲突帧数</span></p> 
 <p>TX packets 311449  bytes 18941924 (18.0 MiB)<br><span style="color:#4da8ee;"> 接受   报文个数           总字节数</span>       </p> 
 <p>TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0<br><span style="color:#4da8ee;">错误            丢失           溢出           载荷数        冲突数</span></p> 
</blockquote> 
<p></p> 
<h5 id="%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F">常用命令格式</h5> 
<p>—— ifconfig                                默认查看启动的网卡</p> 
<p>—— ifconfig -a                            查看所有的网卡包括未启动的网卡</p> 
<p>—— ifconfig en33                       只看 ens33 网卡</p> 
<p></p> 
<p><strong>网卡名称详解 ens33</strong></p> 
<p>—— en 是 EtherNet 的缩写，表示网卡类型为以太网</p> 
<p>—— s 表示热插拔插槽上的设备</p> 
<p>—— 33 表示插槽编号</p> 
<hr> 
<h3 id="%E5%BC%80%E5%90%AF%E7%BD%91%E5%8D%A1%E4%BB%A5%E5%8F%8A%E5%85%B3%E9%97%AD%E7%BD%91%E5%8D%A1%E5%91%BD%E4%BB%A4">开启网卡以及关闭网卡命令</h3> 
<p>—— ip link set ens33 down                                        关闭 ens33 网卡</p> 
<p>—— ip link set ens33 up                                             开启 ens33 网卡</p> 
<hr> 
<h3 id="%E4%B8%B4%E6%97%B6%E4%BF%AE%E6%94%B9%E7%BD%91%E5%8D%A1%E5%90%8D%E7%A7%B0">临时修改网卡名称</h3> 
<p>—— ip link set ens33 name 自定义网卡名                 更改网卡名 ens33 为自定义的网卡名（重启设备之后网卡名会恢复）  </p> 
<hr> 
<h3 id="%E6%B0%B8%E4%B9%85%E4%BF%AE%E6%94%B9%E7%BD%91%E5%8D%A1%E5%90%8D%E7%A7%B0">永久修改网卡名称</h3> 
<p>1. 进入配置文件 /etc/default/grub 并插入命令 net.ifnames=0</p> 
<p><img alt="" height="35" src="https://images2.imgbox.com/6e/64/NFgOEcOs_o.png" width="754"></p> 
<p><img alt="" height="245" src="https://images2.imgbox.com/ad/ec/iOcumb1b_o.png" width="1200"></p> 
<p>2. 进入要改名的网卡编辑器</p> 
<p>例：修改网卡 ens33 为 mihayo ，进入配置文件 vim /etc/sysconfig/network-scripts/ifcfg-ens33</p> 
<p><img alt="" height="37" src="https://images2.imgbox.com/0a/29/Y28jiE4Z_o.png" width="1132"></p> 
<p><img alt="" height="650" src="https://images2.imgbox.com/63/d9/MYByAt3w_o.png" width="1164"></p> 
<p>3. 重新加载 grub ，实验完成</p> 
<p><img alt="" height="194" src="https://images2.imgbox.com/4c/0e/44Gn05AU_o.png" width="1154"></p> 
<hr> 
<h3 id="hostname%20%E5%91%BD%E4%BB%A4">hostname 命令</h3> 
<p><strong>—— 修改主机名以及查看主机名</strong></p> 
<p>—— hostname                                                  查看主机名</p> 
<p>—— hostname 自定义名                                   将主机名临时修改为自定义名称</p> 
<p></p> 
<h5 id="%E5%9C%A8%20centos7%20%E4%B8%8B%E6%B0%B8%E4%B9%85%E4%BF%AE%E6%94%B9%E4%B8%BB%E6%9C%BA%E5%90%8D">在 centos7 下永久修改主机名</h5> 
<p>—— hostnamectl set-hostname 自定义名                       永久修改主机名为自定义名称</p> 
<p></p> 
<h5 id="%E5%9C%A8%20centos6%20%E4%B8%8B%E6%B0%B8%E4%B9%85%E4%BF%AE%E6%94%B9%E4%B8%BB%E6%9C%BA%E5%90%8D">在 centos6 下永久修改主机名</h5> 
<p>—— vim /etc/sysconfig/network                进入配置文件并将主机名修改为自定义名称保存并退出</p> 
<hr> 
<h3 id="route%20%E5%91%BD%E4%BB%A4">route 命令</h3> 
<p><strong>—— 查看或设置主机中路由表的信息</strong></p> 
<p>—— route -n 将路由表中记录的地址显示转化为数字形式</p> 
<p><img alt="" height="331" src="https://images2.imgbox.com/aa/f0/SqY18FTh_o.png" width="1147"></p> 
<p>Destination ：目标 IP</p> 
<p>Gateway     ：下一跳地址</p> 
<p>Genmask    ：目标 IP 的子网掩码</p> 
<h5></h5> 
<h5>常用命令格式</h5> 
<table><thead><tr><th><strong>route add -net ip地址/掩码 gw 下一跳地址</strong></th><th><strong>添加指定网段的路由记录</strong></th></tr></thead><tbody><tr><td><strong>route del -net ip地址/掩码</strong></td><td><strong>删除指定网段的路由记录</strong></td></tr><tr><td><strong>route add default gw ip地址/掩码</strong></td><td><strong>向路由表中添加默认网关记录</strong></td></tr><tr><td><strong>route del default gw ip地址/掩码</strong></td><td><strong>删除路由表中默认的网关记录</strong></td></tr></tbody></table> 
<hr> 
<h3 id="netstat%20%E5%91%BD%E4%BB%A4">netstat 命令</h3> 
<p><strong>—— 查看网络连接情况</strong></p> 
<p>格式：netstat 选项</p> 
<table><thead><tr><th>netstat</th><th>作用</th></tr></thead><tbody><tr><td>-a</td><td>显示当前主机中所有活动的网络连接信息</td></tr><tr><td>-n</td><td>以数字的形式显示相关的主机地址、端口等信息</td></tr><tr><td>-r</td><td>显示路由表信息</td></tr><tr><td>-l</td><td>显示处于监听状态的网络连接及端口信息</td></tr><tr><td>-t</td><td>查看TCP协议相关的信息</td></tr><tr><td>-u</td><td>显示UDP协议相关的信息</td></tr><tr><td>-p</td><td>显示与网络连接相关联的进程号、进程名称信息(需要root权限)</td></tr></tbody></table> 
<p><strong>命令举例</strong></p> 
<p><img alt="" height="491" src="https://images2.imgbox.com/d4/3c/KCSzJcHx_o.png" width="1200"></p> 
<hr> 
<h3 id="ss%20%E5%91%BD%E4%BB%A4">ss 命令</h3> 
<p><strong>—— 可以查看网络连接的情况</strong></p> 
<p>优势：能够显示更多更详细的有关 TCP 和UDP连接状态的信息，而且比 netstat 更快速更高效，ss更快，更接近内核</p> 
<p>格式：ss 选项</p> 
<table><thead><tr><th>ss</th><th>作用</th></tr></thead><tbody><tr><td>-t</td><td>tcp 协议相关</td></tr><tr><td>-u</td><td>udp 协议相关</td></tr><tr><td>-w</td><td>裸套接字相关</td></tr><tr><td>-x</td><td>unix sock 相关</td></tr><tr><td>-l</td><td>listen 状态的连接</td></tr><tr><td>-a</td><td>所有</td></tr><tr><td>-n</td><td>数字格式</td></tr><tr><td>-p</td><td>相关的程序及 PID</td></tr><tr><td>-e</td><td>扩展的信息</td></tr><tr><td>-m</td><td>内存用量</td></tr><tr><td>-o</td><td>计时器信息</td></tr><tr><td>-r</td><td>把 IP 解释为域名，把端口号解释为协议名称</td></tr></tbody></table> 
<p></p> 
<h5 id="%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4">常用命令</h5> 
<p>ss -natp             数字格式显示所有 TCP 协议相关的程序及 pid</p> 
<p>ss -naup            数字格式显示所有 UDP 协议相关的程序及 pid</p> 
<hr> 
<h3 id="ping%20%E5%91%BD%E4%BB%A4">ping 命令</h3> 
<p><strong>—— 测试网络连通性</strong></p> 
<p>格式：ping 选项 目标ip</p> 
<p>ping -c 数字 目标ip         向目标发送几个包</p> 
<p>ping -w 数字 目标ip        表示 ping 多少秒</p> 
<p><strong>命令举例</strong></p> 
<p>ping www.baidu.com                                                  长ping百度（默认）</p> 
<p>ping -c 5 www.baidu.com                                           发送 5 个包</p> 
<p>ping -w 5 www.baidu.com                                          表示 ping 5 秒</p> 
<hr> 
<h3 id="traceroute%20%E5%91%BD%E4%BB%A4">traceroute 命令</h3> 
<p><strong>—— 跟踪数据包的路由途径</strong></p> 
<p>格式：traceroute 目标ip</p> 
<hr> 
<h3 id="nslookup%20%E5%91%BD%E4%BB%A4">nslookup 命令</h3> 
<p><strong>—— 测试域名解析</strong></p> 
<p>格式：nslookup 目标ip</p> 
<hr> 
<h3 id="%E6%B0%B8%E4%B9%85%E4%BF%AE%E6%94%B9%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" style="background-color:transparent;">永久修改网络相关配置文件</h3> 
<blockquote> 
 <p>在虚拟机该地址下配置网络</p> 
 <p>vim /etc/sysconfig/network-scripts/ifcfg-ens33</p> 
 <p></p> 
 <p>TYPE=Ethernet<br> DEVICE=ens33<br> ONBOOT=YES                                           开机是否自启动<br> BOOTPROTO=static                                  网卡获取地址模式                                        <br> IPADDR=192.168.159.159                         配置你自己的 IP 地址<br> NETMASK=255.255.255.0                         子网掩码<br> GATEWAY=192.168.159.2                         网关<br> DNS1=192.168.159.2                                 域名解析</p> 
 <p></p> 
 <p>systemctl restart network                           重启网卡服务</p> 
 <p></p> 
 <p>测试</p> 
 <p>ping www.baidu.com                                    ping 百度地址测试网络是否连接成功</p> 
</blockquote> 
<blockquote> 
 <p>配置文件注释：</p> 
 <p></p> 
 <p>DEVICE（网卡设备）<br> BOOTPROTO（连接模式）<br> ONBOOT（开机是否自启）<br> IPADDR（IP地址）<br> NETMAK(PREFIX)（子网掩码）<br> GATEWAY（网关）</p> 
</blockquote> 
<hr> 
<h3 id="tcpdump%20%E5%91%BD%E4%BB%A4%EF%BC%8C%E6%8A%93%E5%8C%85%E5%B7%A5%E5%85%B7">tcpdump 命令，抓包工具</h3> 
<p><strong>格式：tcpdump 选项 协议 数据的方向 抓取的数据类型</strong></p> 
<p></p> 
<p><strong>proto 协议</strong></p> 
<p>1.tcp、udp、icmp     tcpdump -i ens33 icmp（只抓ens33的icmp协议的包）</p> 
<p>2.ipv4，ipv比较少</p> 
<p>3.arp</p> 
<p></p> 
<p><strong>dir  方向：一般默认是源和目的都抓</strong></p> 
<p>—— src ：源        </p> 
<p>例：tcpdump -i ens33 src net 192.168.91.0/24  （抓来源是这个网段的包）</p> 
<p>—— dst ：目的     </p> 
<p>例：tcpdump -i ens33 dst net 192.168.91.0/24（抓目的是这个网段的包）</p> 
<p>—— src and dst ：源和目的都抓</p> 
<p></p> 
<p><strong>type 类型</strong></p> 
<p>1.host 主机        tcpdump -i ens33 host 192.168.91.6（只抓跟91.6有关的包）</p> 
<p>2.net 网段</p> 
<p>3.port 端口</p> 
<p>4.port range 端口范围</p> 
<p></p> 
<p><strong>例</strong></p> 
<p>tcpdump -i -en33 -nnn            只抓经过 en33 的流量<br> ​<br> -i:指定网卡<br> ​<br> -n :显示详细信息，加 nn 是更详细<br>  </p> 
<hr> 
<h3 id="%E5%A4%9A%E7%BD%91%E5%8D%A1%E7%BB%91%E5%AE%9A">多网卡绑定</h3> 
<p>—— 将多块网卡绑定同一 IP 地址对外提供服务，可以实现高可用或者负载均衡，直接给两块网卡设置同一 IP 地址是不可以的，所以通过 bonding ，虚拟一块网卡对外提供连接，物理网卡的被修改为相同的 MAC 地址</p> 
<p><strong>实验操作举例</strong></p> 
<p><br> 1. 准备两个网卡</p> 
<p><img alt="" height="1010" src="https://images2.imgbox.com/e0/be/tOCvEbPY_o.png" width="876"></p> 
<p>2. 重启网卡服务</p> 
<p><img alt="" height="26" src="https://images2.imgbox.com/25/fa/S8w9Lcqo_o.png" width="732"></p> 
<p>3. 检查网卡</p> 
<p><img alt="" height="445" src="https://images2.imgbox.com/8a/8a/Gf0RGpBA_o.png" width="1086"></p> 
<p>4. 进入网卡配置文件位置 /etc/sysconfig/network-scripts</p> 
<p><img alt="" height="256" src="https://images2.imgbox.com/51/a4/6YXtlpMc_o.png" width="1172"></p> 
<p>5. 新建 bond 文件并进行编辑配置</p> 
<p></p> 
<p><img alt="" height="35" src="https://images2.imgbox.com/4d/19/YWMC0f89_o.png" width="776"></p> 
<p><img alt="" height="294" src="https://images2.imgbox.com/56/c3/ztz47rAI_o.png" width="687"></p> 
<p></p> 
<p></p> 
<blockquote> 
 <p>NAME=bond0<br> TYPE=bond<br> DEVICE=bond0<br> BOOTPROTO=static</p> 
 <p>ONBOOT=yes<br> IPADDR=192.168.88.150<br> NETMASK=255.255.255.0<br> GATEWAY=192.168.88.2</p> 
 <p>DNS1=8.8.8.8</p> 
 <p>DNS2=114.114.114.114<br> BONDING_OPTS="mode=1 miinon=100 fail_over_mac=1"         每 100ms 刷新一次<br>  </p> 
</blockquote> 
<p></p> 
<p>6. 配置网卡 ens33</p> 
<p><img alt="" height="30" src="https://images2.imgbox.com/06/80/KtfIENoP_o.png" width="779"></p> 
<p><img alt="" height="184" src="https://images2.imgbox.com/9b/b4/bWbDLL2F_o.png" width="264"></p> 
<p></p> 
<blockquote> 
 <p>NAME=ens33<br> DEVICE=ens33<br> BOOTPROTO=static<br> MASTER=bond0<br> SLAVE=yes<br> ONBOOT=yes</p> 
</blockquote> 
<p></p> 
<p></p> 
<p></p> 
<p>7. 配置网卡 ens36</p> 
<p></p> 
<p></p> 
<p><img alt="" height="34" src="https://images2.imgbox.com/12/21/XUwX59Kc_o.png" width="802"></p> 
<p><img alt="" height="181" src="https://images2.imgbox.com/0b/2a/fSwFZIHc_o.png" width="277"></p> 
<p></p> 
<blockquote> 
 <p>NAME=ens36<br> DEVICE=ens36<br> BOOTPROTO=static<br> MASTER=bond0<br> SLAVE=yes<br> ONBOOT=yes</p> 
</blockquote> 
<p></p> 
<p>8. 重启网卡服务，如果报错则之前的步骤配置有错误</p> 
<p><img alt="" height="34" src="https://images2.imgbox.com/12/58/F8oPXfTX_o.png" width="924"></p> 
<p></p> 
<p>9. 测试实验是否成功，用另一台虚拟机 ping 刚配置的 ip 地址，ping 通则成功</p> 
<p><img alt="" height="276" src="https://images2.imgbox.com/80/36/552j0Si9_o.png" width="902"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e9c0a3b8f54136ff80300cff0de82293/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">手写实现一个深拷贝</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/731018bfbd5f3aa99d928deaab6d9eb2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vue3 物体飘落效果</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>