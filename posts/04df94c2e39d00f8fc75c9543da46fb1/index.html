<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue：日期的相关方法 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue：日期的相关方法" />
<meta property="og:description" content="项目里用到挺多与日期相关的逻辑，现在记录一下我用到过的方法。
目录
1、获取当天日期，格式：yyyy-MM-dd
2、将系统默认时间（例如Wed Jun 19 2019 15:33:53 GMT&#43;0800 (新加坡标准时间)）转为格式为yyyy-MM-dd的日期
3.获取某一天的前几天或后几天
4.判断提供的日期是工作日还是双休日
5. 判断指定日期是否超出当天
6. 获取指定日期的前（后）几日、几月、几年
7. 获取当天为星期几
8. 时间戳 转 yyyy-mm-dd hh-mm-ss
9. yyyy-mm-dd hh-mm-ss 转 时间戳
1、获取当天日期，格式：yyyy-MM-dd getCurrentDate(n) { var dd = new Date(); if (n) { dd.setDate(dd.getDate() - n); } var year = dd.getFullYear(); var month = dd.getMonth() &#43; 1 &lt; 10 ? &#34;0&#34; &#43; (dd.getMonth() &#43; 1) : dd.getMonth() &#43; 1; var day = dd.getDate() &lt; 10 ?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/04df94c2e39d00f8fc75c9543da46fb1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-31T16:48:13+08:00" />
<meta property="article:modified_time" content="2023-05-31T16:48:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue：日期的相关方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>项目里用到挺多与日期相关的逻辑，现在记录一下我用到过的方法。</p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="1%E3%80%81%E8%8E%B7%E5%8F%96%E5%BD%93%E5%A4%A9%E6%97%A5%E6%9C%9F%EF%BC%8C%E6%A0%BC%E5%BC%8F%EF%BC%9Ayyyy-MM-dd-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E8%8E%B7%E5%8F%96%E5%BD%93%E5%A4%A9%E6%97%A5%E6%9C%9F%EF%BC%8C%E6%A0%BC%E5%BC%8F%EF%BC%9Ayyyy-MM-dd" rel="nofollow">1、获取当天日期，格式：yyyy-MM-dd</a></p> 
<p id="2%E3%80%81%E5%B0%86%E7%B3%BB%E7%BB%9F%E9%BB%98%E8%AE%A4%E6%97%B6%E9%97%B4%EF%BC%88%E4%BE%8B%E5%A6%82Wed%20Jun%2019%202019%2015%3A33%3A53%20GMT%2B0800%20(%E6%96%B0%E5%8A%A0%E5%9D%A1%E6%A0%87%E5%87%86%E6%97%B6%E9%97%B4)%EF%BC%89%E8%BD%AC%E4%B8%BA%E6%A0%BC%E5%BC%8F%E4%B8%BAyyyy-MM-dd%E7%9A%84%E6%97%A5%E6%9C%9F-toc" style="margin-left:80px;"><a href="#2%E3%80%81%E5%B0%86%E7%B3%BB%E7%BB%9F%E9%BB%98%E8%AE%A4%E6%97%B6%E9%97%B4%EF%BC%88%E4%BE%8B%E5%A6%82Wed%20Jun%2019%202019%2015%3A33%3A53%20GMT%2B0800%20%28%E6%96%B0%E5%8A%A0%E5%9D%A1%E6%A0%87%E5%87%86%E6%97%B6%E9%97%B4%29%EF%BC%89%E8%BD%AC%E4%B8%BA%E6%A0%BC%E5%BC%8F%E4%B8%BAyyyy-MM-dd%E7%9A%84%E6%97%A5%E6%9C%9F" rel="nofollow">2、将系统默认时间（例如Wed Jun 19 2019 15:33:53 GMT+0800 (新加坡标准时间)）转为格式为yyyy-MM-dd的日期</a></p> 
<p id="3.%E8%8E%B7%E5%8F%96%E6%9F%90%E4%B8%80%E5%A4%A9%E7%9A%84%E5%89%8D%E5%87%A0%E5%A4%A9%E6%88%96%E5%90%8E%E5%87%A0%E5%A4%A9-toc" style="margin-left:80px;"><a href="#3.%E8%8E%B7%E5%8F%96%E6%9F%90%E4%B8%80%E5%A4%A9%E7%9A%84%E5%89%8D%E5%87%A0%E5%A4%A9%E6%88%96%E5%90%8E%E5%87%A0%E5%A4%A9" rel="nofollow">3.获取某一天的前几天或后几天</a></p> 
<p id="4.%E5%88%A4%E6%96%AD%E6%8F%90%E4%BE%9B%E7%9A%84%E6%97%A5%E6%9C%9F%E6%98%AF%E5%B7%A5%E4%BD%9C%E6%97%A5%E8%BF%98%E6%98%AF%E5%8F%8C%E4%BC%91%E6%97%A5-toc" style="margin-left:80px;"><a href="#4.%E5%88%A4%E6%96%AD%E6%8F%90%E4%BE%9B%E7%9A%84%E6%97%A5%E6%9C%9F%E6%98%AF%E5%B7%A5%E4%BD%9C%E6%97%A5%E8%BF%98%E6%98%AF%E5%8F%8C%E4%BC%91%E6%97%A5" rel="nofollow">4.判断提供的日期是工作日还是双休日</a></p> 
<p id="5.%20%E5%88%A4%E6%96%AD%E6%8C%87%E5%AE%9A%E6%97%A5%E6%9C%9F%E6%98%AF%E5%90%A6%E8%B6%85%E5%87%BA%E5%BD%93%E5%A4%A9-toc" style="margin-left:80px;"><a href="#5.%20%E5%88%A4%E6%96%AD%E6%8C%87%E5%AE%9A%E6%97%A5%E6%9C%9F%E6%98%AF%E5%90%A6%E8%B6%85%E5%87%BA%E5%BD%93%E5%A4%A9" rel="nofollow">5. 判断指定日期是否超出当天</a></p> 
<p id="6.%20%E8%8E%B7%E5%8F%96%E6%8C%87%E5%AE%9A%E6%97%A5%E6%9C%9F%E7%9A%84%E5%89%8D%EF%BC%88%E5%90%8E%EF%BC%89%E5%87%A0%E6%97%A5%E3%80%81%E5%87%A0%E6%9C%88%E3%80%81%E5%87%A0%E5%B9%B4-toc" style="margin-left:80px;"><a href="#6.%20%E8%8E%B7%E5%8F%96%E6%8C%87%E5%AE%9A%E6%97%A5%E6%9C%9F%E7%9A%84%E5%89%8D%EF%BC%88%E5%90%8E%EF%BC%89%E5%87%A0%E6%97%A5%E3%80%81%E5%87%A0%E6%9C%88%E3%80%81%E5%87%A0%E5%B9%B4" rel="nofollow">6. 获取指定日期的前（后）几日、几月、几年</a></p> 
<p id="7.%20%E8%8E%B7%E5%8F%96%E5%BD%93%E5%A4%A9%E4%B8%BA%E6%98%9F%E6%9C%9F%E5%87%A0-toc" style="margin-left:80px;"><a href="#7.%20%E8%8E%B7%E5%8F%96%E5%BD%93%E5%A4%A9%E4%B8%BA%E6%98%9F%E6%9C%9F%E5%87%A0" rel="nofollow">7. 获取当天为星期几</a></p> 
<p id="8.%C2%A0%E6%97%B6%E9%97%B4%E6%88%B3%20%E8%BD%AC%20yyyy-mm-dd%20hh-mm-ss-toc" style="margin-left:80px;"><a href="#8.%C2%A0%E6%97%B6%E9%97%B4%E6%88%B3%20%E8%BD%AC%20yyyy-mm-dd%20hh-mm-ss" rel="nofollow">8. 时间戳 转 yyyy-mm-dd hh-mm-ss</a></p> 
<p id="9.%C2%A0yyyy-mm-dd%20hh-mm-ss%20%E8%BD%AC%20%E6%97%B6%E9%97%B4%E6%88%B3-toc" style="margin-left:80px;"><a href="#9.%C2%A0yyyy-mm-dd%20hh-mm-ss%20%E8%BD%AC%20%E6%97%B6%E9%97%B4%E6%88%B3" rel="nofollow">9. yyyy-mm-dd hh-mm-ss 转 时间戳</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h4 id="1%E3%80%81%E8%8E%B7%E5%8F%96%E5%BD%93%E5%A4%A9%E6%97%A5%E6%9C%9F%EF%BC%8C%E6%A0%BC%E5%BC%8F%EF%BC%9Ayyyy-MM-dd"><strong>1、获取当天日期，格式：yyyy-MM-dd</strong></h4> 
<pre class="has"><code class="language-javascript">
    getCurrentDate(n) {
      var dd = new Date();
      if (n) {
        dd.setDate(dd.getDate() - n);
      }
      var year = dd.getFullYear();
      var month =
        dd.getMonth() + 1 &lt; 10 ? "0" + (dd.getMonth() + 1) : dd.getMonth() + 1;
      var day = dd.getDate() &lt; 10 ? "0" + dd.getDate() : dd.getDate();
      return year + "-" + month + "-" + day;
    };</code></pre> 
<p>this.getCurrentDate():不带参数就是默认为当天日期</p> 
<p>this.getCurrentDate(1):参数大于0，代表为之前的某一天</p> 
<p>this.getCurrentDate(-1):参数小于0，代表为未来的某一天</p> 
<p></p> 
<h4 id="2%E3%80%81%E5%B0%86%E7%B3%BB%E7%BB%9F%E9%BB%98%E8%AE%A4%E6%97%B6%E9%97%B4%EF%BC%88%E4%BE%8B%E5%A6%82Wed%20Jun%2019%202019%2015%3A33%3A53%20GMT%2B0800%20(%E6%96%B0%E5%8A%A0%E5%9D%A1%E6%A0%87%E5%87%86%E6%97%B6%E9%97%B4)%EF%BC%89%E8%BD%AC%E4%B8%BA%E6%A0%BC%E5%BC%8F%E4%B8%BAyyyy-MM-dd%E7%9A%84%E6%97%A5%E6%9C%9F"><strong>2、将系统默认时间（</strong>例如Wed Jun 19 2019 15:33:53 GMT+0800 (新加坡标准时间)<strong>）转为格式为yyyy-MM-dd的日期</strong></h4> 
<pre class="has"><code class="language-javascript">    formatterDate(date) {
      if (!date) {
        return "";
      }
      var year = date.getFullYear();
      var month = date.getMonth() + 1;
      var day = date.getDate();
      if (month &lt; 10) {
        month = "0" + month;
      }
      if (day &lt; 10) {
        day = "0" + day;
      }
      var nowDate = year + "-" + month + "-" + day;
      return nowDate;
    },</code></pre> 
<p>emmmm写完后发现两种方式好像差不多一样的。。。第一种方式更完善一些，这个方法是我再网上找的，然后自己改动了一下，本来想贴上找到的地址的，但是现在找不到了。。</p> 
<p>-----------------</p> 
<p>新增一个：</p> 
<h4 id="3.%E8%8E%B7%E5%8F%96%E6%9F%90%E4%B8%80%E5%A4%A9%E7%9A%84%E5%89%8D%E5%87%A0%E5%A4%A9%E6%88%96%E5%90%8E%E5%87%A0%E5%A4%A9"><strong>3.获取某一天的前几天或后几天</strong></h4> 
<p>与第一个类似，不过第一个是当天的前几天或后几天，这一个是指定日期的前几天或后几天</p> 
<p>两个参数，第一个参数为某一天日期（格式为yyyy-mm-dd），第二个参数为数字，正数表示该日期的后几天，负数为该日期的前几天</p> 
<pre class="has"><code class="language-javascript">calculateDateTime(startDate,valueTime)=&gt;{
    var date = new Date(startDate);
    var newDate = new Date(date.getFullYear(),date.getMonth(),date.getDate()+ +valueTime);
    var Y = newDate.getFullYear();
    var M = newDate.getMonth()+1;
    M = M&lt;10?'0'+M:M;
    var D = newDate.getDate();
    D = D&lt;10?'0'+D:D;
    return `${Y}-${M}-${D}`;
};</code></pre> 
<p>---------------------</p> 
<h4 id="4.%E5%88%A4%E6%96%AD%E6%8F%90%E4%BE%9B%E7%9A%84%E6%97%A5%E6%9C%9F%E6%98%AF%E5%B7%A5%E4%BD%9C%E6%97%A5%E8%BF%98%E6%98%AF%E5%8F%8C%E4%BC%91%E6%97%A5"><strong>4.判断提供的日期是工作日还是双休日</strong></h4> 
<pre><code class="language-javascript">const isWeekday = (date) =&gt; date.getDay() % 6 !== 0;

// new Date(年，月，日) 0是1月，以此类推
isWeekday(new Date(2021, 0, 1)) =&gt; true // 是工作日</code></pre> 
<p></p> 
<p>————————————————</p> 
<p> 11.12补充</p> 
<h4 id="5.%20%E5%88%A4%E6%96%AD%E6%8C%87%E5%AE%9A%E6%97%A5%E6%9C%9F%E6%98%AF%E5%90%A6%E8%B6%85%E5%87%BA%E5%BD%93%E5%A4%A9"><strong>5. 判断指定日期是否超出当天</strong></h4> 
<pre><code class="language-javascript">let curDate = new Date(new Date().toLocaleDateString()).getTime() //当天
// date是传进来的日期yyyy-MM-dd
if ( new Date(date).getTime() &lt; curDate ) {
    // 过期
} else {
    // 未过期
}</code></pre> 
<p>———————————————————</p> 
<p>11.22补充</p> 
<h4 id="6.%20%E8%8E%B7%E5%8F%96%E6%8C%87%E5%AE%9A%E6%97%A5%E6%9C%9F%E7%9A%84%E5%89%8D%EF%BC%88%E5%90%8E%EF%BC%89%E5%87%A0%E6%97%A5%E3%80%81%E5%87%A0%E6%9C%88%E3%80%81%E5%87%A0%E5%B9%B4"><strong>6. 获取指定日期的前（后）几日、几月、几年</strong></h4> 
<p>第3个方法的完善</p> 
<pre><code class="language-javascript">// date: 指定日期，格式为yyyy-MM-dd
// type: 天、周、月、年
// number： 几
// separator： 分隔符
function getDate(date, type=null,number=0, separator="") {
    let nowdate = new Date(date);
    let y ='',m='',d = ''
    switch (type) {
        case "day":   //取number天前、后的时间
            nowdate.setTime(nowdate.getTime() + (24 * 3600 * 1000) * number);
            y = nowdate.getFullYear();
            m = nowdate.getMonth() + 1 &lt; 10 ? '0' + (nowdate.getMonth() + 1) : nowdate.getMonth() + 1;
            d = nowdate.getDate() &lt; 10 ? '0' + nowdate.getDate() : nowdate.getDate();
            break;
        case "week":  //取number周前、后的时间
            weekdate = new Date(nowdate + (7 * 24 * 3600 * 1000) * number);
            y = weekdate.getFullYear();
            m = weekdate.getMonth() + 1 &lt; 10 ? '0' + (nowdate.getMonth() + 1) : nowdate.getMonth() + 1;
            d = weekdate.getDate() &lt; 10 ? '0' + nowdate.getDate() : nowdate.getDate();
            break;
        case "month":  //取number月前、后的时间
            nowdate.setMonth(nowdate.getMonth() + number);
            y = nowdate.getFullYear();
            m = nowdate.getMonth() + 1 &lt; 10 ? '0' + (nowdate.getMonth() + 1) : nowdate.getMonth() + 1;
            d = nowdate.getDate() &lt; 10 ? '0' + nowdate.getDate() : nowdate.getDate();
            break;
        case "year":  //取number年前、后的时间
            nowdate.setFullYear(nowdate.getFullYear() + number);
            y = nowdate.getFullYear();
            m = nowdate.getMonth() + 1 &lt; 10 ? '0' + (nowdate.getMonth() + 1) : nowdate.getMonth() + 1;
            d = nowdate.getDate() &lt; 10 ? '0' + nowdate.getDate() : nowdate.getDate();
            break;
        default:     //取当前时间
            y = nowdate.getFullYear();
            m = nowdate.getMonth() + 1 &lt; 10 ? '0' + (nowdate.getMonth() + 1) : nowdate.getMonth() + 1;
            d = nowdate.getDate() &lt; 10 ? '0' + nowdate.getDate() : nowdate.getDate();
    }
    return y + separator + m + separator + d;
}</code></pre> 
<p>----------------------- </p> 
<p>1.9补充 </p> 
<h4 id="7.%20%E8%8E%B7%E5%8F%96%E5%BD%93%E5%A4%A9%E4%B8%BA%E6%98%9F%E6%9C%9F%E5%87%A0"><strong>7. 获取当天为星期几</strong></h4> 
<pre><code class="language-javascript">fmtWeekDay(date){
    if(date === "--"){
        return "--";
    }
    let dt = new Date(date.split("-")[0], date.split("-")[1] - 1,date = date.split("-")[2]);
    let weekDay = ["星期天", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"];
    return weekDay[dt.getDay()];
},</code></pre> 
<p> 参考链接<a href="https://blog.csdn.net/qq_24470501/article/details/85260822" title="JS获取当前时间的前几天、前几周、前几个月、前几年的时间_翩跹星子的博客-CSDN博客">JS获取当前时间的前几天、前几周、前几个月、前几年的时间_翩跹星子的博客-CSDN博客</a></p> 
<p> </p> 
<p>----------------------- </p> 
<p>5.31补充 </p> 
<h4 id="8.%C2%A0%E6%97%B6%E9%97%B4%E6%88%B3%20%E8%BD%AC%20yyyy-mm-dd%20hh-mm-ss"><strong>8. 时间戳 转 yyyy-mm-dd hh-mm-ss</strong></h4> 
<pre><code class="language-javascript">timestampToTime(stamp) {
    let date = new Date(stamp);
    let Y = date.getFullYear() + '-';
    let M = (date.getMonth()+1 &lt; 10 ? '0'+(date.getMonth()+1):date.getMonth()+1) + '-';
    let D = (date.getDate()&lt; 10 ? '0'+date.getDate():date.getDate())+ ' ';

    let h = (date.getHours() &lt; 10 ? '0'+date.getHours():date.getHours())+ ':';
    let m = (date.getMinutes() &lt; 10 ? '0'+date.getMinutes():date.getMinutes()) + ':';
    let s = date.getSeconds() &lt; 10 ? '0'+date.getSeconds():date.getSeconds();

    return Y + M + D + h + m + s;
}
</code></pre> 
<h4 id="9.%C2%A0yyyy-mm-dd%20hh-mm-ss%20%E8%BD%AC%20%E6%97%B6%E9%97%B4%E6%88%B3"><strong>9. yyyy-mm-dd hh-mm-ss 转 时间戳</strong></h4> 
<pre><code class="language-javascript">timeToTimestamp(time) {
    if (!time ) {
        return ''
    }
    let timei = Date.parse(new Date(time)) + ''
    return Number(timei)
}</code></pre> 
<p> </p> 
<p>欢迎补充和纠错~</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/62fa8280094e973177a4353bc44eaa80/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">秘密共享之算术共享、布尔共享</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2a4037f32802805a2fe75cfd158583a3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MyBatis - Spring Boot 集成 MyBatis</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>