<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>利用python代码获取金价查询 API接口 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="利用python代码获取金价查询 API接口" />
<meta property="og:description" content="首先，使用三方接口平台该API接口需要先注册后申请此API接口。申请成功后使用个人中心的API秘钥就可以进行对接开发。
API接口地址为： https://www.tanshuapi.com/market/detail-86
接口地址中shgold为数据源头，他代表的是上海黄金交易所。所有可选值为：
shgold：上海黄金交易所。
shfuture：上海期货交易所。
bankgold：银行账户黄金（纸黄金）。
hkgold：香港黄金。
storegold：金店金价。
london：伦敦金银。
其中，KEY为用户后台我的api页面展示的API密钥。
下面介绍上海黄金交易所的接口使用方法
python import requests //接口详情 https://www.tanshuapi.com/market/detail-86 # 设置API Key key = &#39;yourkey&#39; //你的api秘钥 # 构造请求的URL url = &#39;https://api.tanshuapi.com/api/gold/v1/shgold?key={}&#39; . format(key) # 发送请求 response = requests.get(url) # 解析返回结果 result = response.json() # 输出查询结果 print(result) 返回结果为：
{ &#34;code&#34;: 1, &#34;msg&#34;: &#34;操作成功&#34;, &#34;data&#34;: { &#34;list&#34;: [ { &#34;type&#34;: &#34;Au(T&#43;D)&#34;, //品种代号 &#34;typename&#34;: &#34;黄金延期&#34;, //品种名称 &#34;price&#34;: &#34;475.00&#34;, //最新价 &#34;openingprice&#34;: &#34;467.70&#34;, //开盘价 &#34;maxprice&#34;: &#34;475.00&#34;, //最高价 &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/0abd8f0640686925a166a5d99762e7c6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-27T11:29:12+08:00" />
<meta property="article:modified_time" content="2024-01-27T11:29:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">利用python代码获取金价查询 API接口</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>首先，使用三方接口平台该API接口需要先注册后申请此API接口。申请成功后使用个人中心的API秘钥就可以进行对接开发。</p> 
<p>API接口地址为： <a href="https://www.tanshuapi.com/market/detail-86" rel="nofollow">https://www.tanshuapi.com/market/detail-86</a><br> 接口地址中shgold为数据源头，他代表的是上海黄金交易所。所有可选值为：<br> shgold：上海黄金交易所。<br> shfuture：上海期货交易所。<br> bankgold：银行账户黄金（纸黄金）。<br> hkgold：香港黄金。<br> storegold：金店金价。<br> london：伦敦金银。</p> 
<p>其中，KEY为用户后台我的api页面展示的API密钥。</p> 
<p>下面介绍上海黄金交易所的接口使用方法</p> 
<pre><code>python
import requests
 
 //接口详情 https://www.tanshuapi.com/market/detail-86
 
# 设置API Key
key = 'yourkey' //你的api秘钥
 
# 构造请求的URL
url = 'https://api.tanshuapi.com/api/gold/v1/shgold?key={}' . format(key)
 
# 发送请求
response = requests.get(url)
 
# 解析返回结果
result = response.json()
 
# 输出查询结果
print(result)
</code></pre> 
<p>返回结果为：</p> 
<pre><code>{
    "code": 1,
    "msg": "操作成功",
    "data": {
        "list": [
            {
                "type": "Au(T+D)", //品种代号
                "typename": "黄金延期", //品种名称
                "price": "475.00", //最新价
                "openingprice": "467.70", //开盘价
                "maxprice": "475.00", //最高价
                "minprice": "466.70", //最低价
                "changepercent": "1.52", //涨跌幅
                "lastclosingprice": "466.90", //昨收盘价
                "tradeamount": "17664.00", //总成交量
                "updatetime": "2023-12-14 16:55:01" //更新时间
            },
            {
                "type": "mAu(T+D)",
                "typename": "迷你黄金延期",
                "price": "475.00",
                "openingprice": "468.00",
                "maxprice": "475.57",
                "minprice": "467.00",
                "changepercent": "1.48",
                "lastclosingprice": "466.69",
                "tradeamount": "45106.00",
                "updatetime": "2023-12-14 16:55:01"
            }
        ]
    }
}
</code></pre> 
<p>通过向API接口发送请求，可以获取到一个JSON格式的结果，其中包含了黄金最新价格相关信息。结果包含以下几个字段：</p> 
<p>code：返回码，1表示成功。<br> msg：请求状态描述。<br> data：包含结果的信息。<br> list：数据集。<br> type：品种代号。<br> typename：品种名称。<br> price：最新价。<br> openingprice：开盘价。<br> maxprice：最高价。<br> minprice：最低价。<br> changepercent：涨跌幅。<br> lastclosingprice：昨收盘价。<br> tradeamount：总成交量。<br> updatetime：更新时间。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f369bcf52587a0eaf4917557f7d4820d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Discuz论坛搭建：Linux宝塔面板一键部署，固定地址畅享公网访问</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/25f1f1a7eeec42a28d9f5594fbf6fac9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">洛谷B3624猫粮规划</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>