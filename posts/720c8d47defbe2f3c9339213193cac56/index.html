<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>cmake libtorch opencv vs cmakelists - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="cmake libtorch opencv vs cmakelists" />
<meta property="og:description" content="# CMakeList.txt: CMakeProject1 的 CMake 项目，在此处包括源代码并定义 # 项目特定的逻辑。 # cmake_minimum_required (VERSION 3.8) project (&#34;CMakeProject1&#34;) # 将源代码添加到此项目的可执行文件。 set(CMAKE_PREFIX_PATH ${CMAKE_PREFIX_PATH} &#34;D:\\Project\\video-matting\\libtorch&#34;) set(CMAKE_CXX_FLAGS &#34;${CMAKE_CXX_FLAGS} ${TORCH_CXX_FLAGS}&#34;) find_package(Torch REQUIRED) include_directories(&#34;D:/Program Files/opencv/build/include&#34;) include_directories(&#34;D:/Program Files/opencv/build/include/opencv2&#34;) link_directories(&#34;D:/Program Files/opencv/build/x64/vc15/lib&#34;) add_executable (CMakeProject1 &#34;CMakeProject1.cpp&#34; &#34;CMakeProject1.h&#34;) target_link_libraries(CMakeProject1 &#34;${TORCH_LIBRARIES}&#34;) target_link_libraries(CMakeProject1 opencv_world455d) set_property(TARGET CMakeProject1 PROPERTY CXX_STANDARD 14) # The following code block is suggested to be used on Windows. # According to https://github.com/pytorch/pytorch/issues/25457, # the DLLs need to be copied to avoid memory errors." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/720c8d47defbe2f3c9339213193cac56/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-15T14:27:25+08:00" />
<meta property="article:modified_time" content="2022-04-15T14:27:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">cmake libtorch opencv vs cmakelists</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <pre><code class="prism language-bash"><span class="token comment"># CMakeList.txt: CMakeProject1 的 CMake 项目，在此处包括源代码并定义</span>
<span class="token comment"># 项目特定的逻辑。</span>
<span class="token comment">#</span>
cmake_minimum_required <span class="token punctuation">(</span>VERSION <span class="token number">3.8</span><span class="token punctuation">)</span>

project <span class="token punctuation">(</span><span class="token string">"CMakeProject1"</span><span class="token punctuation">)</span>

<span class="token comment"># 将源代码添加到此项目的可执行文件。</span>
set<span class="token punctuation">(</span>CMAKE_PREFIX_PATH <span class="token variable">${CMAKE_PREFIX_PATH}</span> <span class="token string">"D:<span class="token entity" title="\\">\\</span>Project<span class="token entity" title="\\">\\</span>video-matting<span class="token entity" title="\\">\\</span>libtorch"</span><span class="token punctuation">)</span>
set<span class="token punctuation">(</span>CMAKE_CXX_FLAGS <span class="token string">"<span class="token variable">${CMAKE_CXX_FLAGS}</span> <span class="token variable">${TORCH_CXX_FLAGS}</span>"</span><span class="token punctuation">)</span>
find_package<span class="token punctuation">(</span>Torch REQUIRED<span class="token punctuation">)</span>

include_directories<span class="token punctuation">(</span><span class="token string">"D:/Program Files/opencv/build/include"</span><span class="token punctuation">)</span>
include_directories<span class="token punctuation">(</span><span class="token string">"D:/Program Files/opencv/build/include/opencv2"</span><span class="token punctuation">)</span>
link_directories<span class="token punctuation">(</span><span class="token string">"D:/Program Files/opencv/build/x64/vc15/lib"</span><span class="token punctuation">)</span>

add_executable <span class="token punctuation">(</span>CMakeProject1 <span class="token string">"CMakeProject1.cpp"</span> <span class="token string">"CMakeProject1.h"</span><span class="token punctuation">)</span>

target_link_libraries<span class="token punctuation">(</span>CMakeProject1 <span class="token string">"<span class="token variable">${TORCH_LIBRARIES}</span>"</span><span class="token punctuation">)</span>
target_link_libraries<span class="token punctuation">(</span>CMakeProject1 opencv_world455d<span class="token punctuation">)</span>
set_property<span class="token punctuation">(</span>TARGET CMakeProject1 PROPERTY CXX_STANDARD <span class="token number">14</span><span class="token punctuation">)</span>

<span class="token comment"># The following code block is suggested to be used on Windows.</span>
<span class="token comment"># According to https://github.com/pytorch/pytorch/issues/25457,</span>
<span class="token comment"># the DLLs need to be copied to avoid memory errors.</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>MSVC<span class="token punctuation">)</span>
  file<span class="token punctuation">(</span>GLOB TORCH_DLLS <span class="token string">"<span class="token variable">${TORCH_INSTALL_PREFIX}</span>/lib/*.dll"</span><span class="token punctuation">)</span>
  add_custom_command<span class="token punctuation">(</span>TARGET CMakeProject1
                     POST_BUILD
                     COMMAND <span class="token variable">${CMAKE_COMMAND}</span> -E copy_if_different
                     <span class="token variable">${TORCH_DLLS}</span>
                     $<span class="token operator">&lt;</span>TARGET_FILE_DIR:CMakeProject<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span><span class="token punctuation">)</span>
endif <span class="token punctuation">(</span>MSVC<span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-cpp">
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;torch/script.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;torch/torch.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;fstream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;memory&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;opencv2/opencv.hpp&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  cv<span class="token operator">::</span><span class="token function">imshow</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">,</span> cv<span class="token operator">::</span><span class="token function">imread</span><span class="token punctuation">(</span><span class="token string">"C:\\Users\\bernard\\Pictures\\深目迅影.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  cv<span class="token operator">::</span><span class="token function">waitKey</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  torch<span class="token operator">::</span>Tensor tensor <span class="token operator">=</span> torch<span class="token operator">::</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  std<span class="token operator">::</span>cout <span class="token operator">&lt;&lt;</span> tensor <span class="token operator">&lt;&lt;</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/26f189b8b55d445aae5b3b78efda2d87/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">如何提取Excel中部分内容？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/475d8a6c45a9c0b1f6b1b85a6b87874a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C&#43;&#43;之结构体</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>