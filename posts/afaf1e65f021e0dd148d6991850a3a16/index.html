<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>B.修改数列 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="B.修改数列" />
<meta property="og:description" content="给定一个长度为 n 的正整数数列 a1,a2,…,an。
你可以对其中任意个（可以是 0 个）元素进行修改。
但是，每个元素最多只能修改一次，每次修改：要么令其加 1，要么令其减 1。
请问，至少需要修改多少个元素，才能使得数列 a 变成一个等差数列。
输入格式
第一行包含整数 n (1 ≤ n ≤ 1e5)。
第二行包含 n 个整数 a1,a2,…,an (1 ≤ ai ≤ 1e9)。
输出格式
一个整数，表示需要修改的元素的最少数量。
如果无解，则输出 -1。
输入样例1：
4
24 21 14 10
输出样例1：
3
输入样例2：
2
500 500
输出样例2：
0
输入样例3：
3
14 5 1
输出样例3：
-1
输入样例4：
5
1 3 6 9 12
输出样例4：
1
解析：
我的思路是暴力枚举第 1 项和第 2 项的情况，一共 9 种情况。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/afaf1e65f021e0dd148d6991850a3a16/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-27T21:46:36+08:00" />
<meta property="article:modified_time" content="2024-01-27T21:46:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">B.修改数列</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>给定一个长度为 n 的正整数数列 a1,a2,…,an。<br> 你可以对其中任意个（可以是 0 个）元素进行修改。<br> 但是，每个元素最多只能修改一次，每次修改：要么令其加 1，要么令其减 1。<br> 请问，至少需要修改多少个元素，才能使得数列 a 变成一个等差数列。</p> 
<p>输入格式<br> 第一行包含整数 n (1 ≤ n ≤ 1e5)。<br> 第二行包含 n 个整数 a1,a2,…,an (1 ≤ ai ≤ 1e9)。</p> 
<p>输出格式<br> 一个整数，表示需要修改的元素的最少数量。<br> 如果无解，则输出 -1。</p> 
<p>输入样例1：<br> 4<br> 24 21 14 10<br> 输出样例1：<br> 3</p> 
<p>输入样例2：<br> 2<br> 500 500<br> 输出样例2：<br> 0</p> 
<p>输入样例3：<br> 3<br> 14 5 1<br> 输出样例3：<br> -1</p> 
<p>输入样例4：<br> 5<br> 1 3 6 9 12<br> 输出样例4：<br> 1</p> 
<p><strong>解析：</strong><br> 我的思路是暴力枚举第 1 项和第 2 项的情况，一共 9 种情况。<br> 通过前两项可以确定公差 d，a1 和 d 确定后，之后的每一项都是确切值。<br> 之后遍历数组即可，累加每项与确切值的差值即可，但是差值不能超过 1，否则就是不合法的。<br> n≤2时，特判一下即可。</p> 
<pre><code>#include &lt;bits/stdc++.h&gt;
using namespace std;
#define int long long
#define endl '\n'
#define ios ios::sync_with_stdio(false),cin.tie(nullptr),cout.tie(nullptr);
int gcd(int a,int b) { return b? gcd(b,a%b) : a; }
typedef pair&lt;int,int&gt; PII;
const double PI=acos(-1.0);
const int N=2e6+10;
int n;
int a[N];
int find(int x,int y)
{
    int xx=a[1],yy=a[2];
    int cnt=abs(x)+abs(y);
    a[1] +=x,a[2] +=y;
    int d=a[2]-a[1];
    int sum=a[2]+d;
    for (int i=3;i&lt;=n;i++)
    {
        if (abs(sum-a[i])&gt;1) 
        {
            a[1]=xx,a[2]=yy;
            return 1e18;
        }
        cnt +=abs(sum-a[i]);
        sum +=d;
    }
    a[1]=xx,a[2]=yy;
    return cnt;
}
void solve()
{
    cin&gt;&gt;n;
    for (int i=1;i&lt;=n;i++) cin&gt;&gt;a[i];
    if (n&lt;=2) 
    {
        cout&lt;&lt;0;
        return ;
    }
    int ans=1e18;
    for (int i=-1;i&lt;=1;i++)
    for (int j=-1;j&lt;=1;j++)
    {
        ans=min(ans,find(i,j));
    }
    if (ans==1e18) cout&lt;&lt;-1;
    else cout&lt;&lt;ans;
}
signed main()
{
    ios;
    int T=1;
    //cin&gt;&gt;T;
    while (T--) solve(); 
    return 0;
}</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ecc965401a0d5a5e8412a7d133c70c19/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Spring Boot 项目配置文件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/18028d41bde4dd0cdccbc8f845ab67eb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">VR拍摄&#43;制作</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>