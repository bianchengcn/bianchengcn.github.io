<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>每日一题 力扣2861 最大合金数 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="每日一题 力扣2861 最大合金数" />
<meta property="og:description" content="2861. 最大合金数 题目描述： 假设你是一家合金制造公司的老板，你的公司使用多种金属来制造合金。现在共有 n 种不同类型的金属可以使用，并且你可以使用 k 台机器来制造合金。每台机器都需要特定数量的每种金属来创建合金。
对于第 i 台机器而言，创建合金需要 composition[i][j] 份 j 类型金属。最初，你拥有 stock[i] 份 i 类型金属，而每购入一份 i 类型金属需要花费 cost[i] 的金钱。
给你整数 n、k、budget，下标从 1 开始的二维数组 composition，两个下标从 1 开始的数组 stock 和 cost，请你在预算不超过 budget 金钱的前提下，最大化 公司制造合金的数量。
所有合金都需要由同一台机器制造。
返回公司可以制造的最大合金数。
示例 1：
输入：n = 3, k = 2, budget = 15, composition = [[1,1,1],[1,1,10]], stock = [0,0,0], cost = [1,2,3] 输出：2 解释：最优的方法是使用第 1 台机器来制造合金。 要想制造 2 份合金，我们需要购买： - 2 份第 1 类金属。 - 2 份第 2 类金属。 - 2 份第 3 类金属。 总共需要 2 * 1 &#43; 2 * 2 &#43; 2 * 3 = 12 的金钱，小于等于预算 15 。 注意，我们最开始时候没有任何一类金属，所以必须买齐所有需要的金属。 可以证明在示例条件下最多可以制造 2 份合金。 示例 2：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/2a2f893ec2a1e9174707d001d745a960/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-27T13:17:27+08:00" />
<meta property="article:modified_time" content="2024-01-27T13:17:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">每日一题 力扣2861 最大合金数</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><a href="https://leetcode.cn/problems/maximum-number-of-alloys/" rel="nofollow" title="2861. 最大合金数">2861. 最大合金数</a></h2> 
<h2>题目描述：</h2> 
<p>假设你是一家合金制造公司的老板，你的公司使用多种金属来制造合金。现在共有 <code>n</code> 种不同类型的金属可以使用，并且你可以使用 <code>k</code> 台机器来制造合金。每台机器都需要特定数量的每种金属来创建合金。</p> 
<p>对于第 <code>i</code> 台机器而言，创建合金需要 <code>composition[i][j]</code> 份 <code>j</code> 类型金属。最初，你拥有 <code>stock[i]</code> 份 <code>i</code> 类型金属，而每购入一份 <code>i</code> 类型金属需要花费 <code>cost[i]</code> 的金钱。</p> 
<p>给你整数 <code>n</code>、<code>k</code>、<code>budget</code>，下标从 <strong>1</strong> 开始的二维数组 <code>composition</code>，两个下标从 <strong>1</strong> 开始的数组 <code>stock</code> 和 <code>cost</code>，请你在预算不超过 <code>budget</code> 金钱的前提下，<strong>最大化</strong> 公司制造合金的数量。</p> 
<p><strong>所有合金都需要由同一台机器制造。</strong></p> 
<p>返回公司可以制造的最大合金数。</p> 
<blockquote> 
 <p><strong>示例 1：</strong></p> 
 <pre><strong>输入：</strong>n = 3, k = 2, budget = 15, composition = [[1,1,1],[1,1,10]], stock = [0,0,0], cost = [1,2,3]
<strong>输出：</strong>2
<strong>解释：</strong>最优的方法是使用第 1 台机器来制造合金。
要想制造 2 份合金，我们需要购买：
- 2 份第 1 类金属。
- 2 份第 2 类金属。
- 2 份第 3 类金属。
总共需要 2 * 1 + 2 * 2 + 2 * 3 = 12 的金钱，小于等于预算 15 。
注意，我们最开始时候没有任何一类金属，所以必须买齐所有需要的金属。
可以证明在示例条件下最多可以制造 2 份合金。
</pre> 
 <p><strong>示例 2：</strong></p> 
 <pre><strong>输入：</strong>n = 3, k = 2, budget = 15, composition = [[1,1,1],[1,1,10]], stock = [0,0,100], cost = [1,2,3]
<strong>输出：</strong>5
<strong>解释：</strong>最优的方法是使用第 2 台机器来制造合金。 
要想制造 5 份合金，我们需要购买： 
- 5 份第 1 类金属。
- 5 份第 2 类金属。 
- 0 份第 3 类金属。 
总共需要 5 * 1 + 5 * 2 + 0 * 3 = 15 的金钱，小于等于预算 15 。 
可以证明在示例条件下最多可以制造 5 份合金。
</pre> 
 <p><strong>示例 3：</strong></p> 
 <pre><strong>输入：</strong>n = 2, k = 3, budget = 10, composition = [[2,1],[1,2],[1,1]], stock = [1,1], cost = [5,5]
<strong>输出：</strong>2
<strong>解释：</strong>最优的方法是使用第 3 台机器来制造合金。
要想制造 2 份合金，我们需要购买：
- 1 份第 1 类金属。
- 1 份第 2 类金属。
总共需要 1 * 5 + 1 * 5 = 10 的金钱，小于等于预算 10 。
可以证明在示例条件下最多可以制造 2 份合金。
</pre> 
 <p></p> 
 <p><strong>提示：</strong></p> 
 <ul><li><code>1 &lt;= n, k &lt;= 100</code></li><li><code>0 &lt;= budget &lt;= 10^8</code></li><li><code>composition.length == k</code></li><li><code>composition[i].length == n</code></li><li><code>1 &lt;= composition[i][j] &lt;= 100</code></li><li><code>stock.length == cost.length == n</code></li><li><code>0 &lt;= stock[i] &lt;= 10^8</code></li><li><code>1 &lt;= cost[i] &lt;= 100</code></li></ul> 
</blockquote> 
<h2>思路：</h2> 
<p>乍一看，背包？？</p> 
<p>文字题果然让人头晕。把握重点：</p> 
<blockquote> 
 <ol><li>所有合金都需要由同一台机器制造</li><li>数组下标从 1 开始</li><li>不是背包问题！</li></ol> 
</blockquote> 
<p>外循环遍历composition[i],寻找机器：<br> 对于某一机器而言，具体的找最大的合金数可以使用二分法，思路看代码注释，一目了然！<br> 对于初始最大值的确定，要注意到条件，即另加价格至少为1，因此stock[0]+budget是最大的数量。 </p> 
<h2>代码：</h2> 
<pre><code>class Solution:
    def maxNumberOfAlloys(self, n: int, k: int, budget: int, composition: List[List[int]], stock: List[int], cost: List[int]) -&gt; int:
        ans = 0#最大合金数
        for c in composition:#遍历机器
            #左指针0件合金，右指针指向预算按照每个零件最低价1元的价格来买所能得到的最多合金数
            l, r = 0, budget + stock[0]
            while l &lt; r:
                #mid=(l+r+1)/2
                mid = (l + r + 1) &gt;&gt; 1
                #计算mid份合金的总花销
                s = sum(max(0, mid * x - y) * z for x, y, z in zip(c, stock, cost))
                #如果大于预算，则说明mid大了，最大的合金数在左侧区域
                if s &lt;= budget:
                    l = mid
                else:
                    r = mid - 1
            ans = max(ans, l)
            #也很重要，如果都不可以，还是要和l比大小，因为可能最终在这一轮里都没找到，
            #但还是要和往次的ans进行比较
        return ans
</code></pre> 
<h3>效率：</h3> 
<p>时间复杂度 O(n×k×log⁡M)，其中 M是二分查找的上界；</p> 
<p>空间复杂度O(1)</p> 
<h3>官解其他语言版本：</h3> 
<p>C++</p> 
<pre><code class="hljs">class Solution {
public:
    int maxNumberOfAlloys(int n, int k, int budget, vector&lt;vector&lt;int&gt;&gt;&amp; composition, vector&lt;int&gt;&amp; stock, vector&lt;int&gt;&amp; cost) {
        int left = 1, right = 2e8, ans = 0;
        while (left &lt;= right) {
            int mid = (left + right) / 2;
            bool valid = false;
            for (int i = 0; i &lt; k; ++i) {
                long long spend = 0;
                for (int j = 0; j &lt; n; ++j) {
                    spend += max(static_cast&lt;long long&gt;(composition[i][j]) * mid - stock[j], 0LL) * cost[j];
                }
                if (spend &lt;= budget) {
                    valid = true;
                    break;
                }
            }
            if (valid) {
                ans = mid;
                left = mid + 1;
            }
            else {
                right = mid - 1;
            }
        }
        return ans;
    }
};

</code></pre> 
<p>Java:</p> 
<pre><code class="hljs">class Solution {
    public int maxNumberOfAlloys(int n, int k, int budget, List&lt;List&lt;Integer&gt;&gt; composition, List&lt;Integer&gt; stock, List&lt;Integer&gt; cost) {
        int left = 1, right = 200000000, ans = 0;
        while (left &lt;= right) {
            int mid = (left + right) / 2;
            boolean valid = false;
            for (int i = 0; i &lt; k; ++i) {
                long spend = 0;
                for (int j = 0; j &lt; n; ++j) {
                    spend += Math.max((long) composition.get(i).get(j) * mid - stock.get(j), 0) * cost.get(j);
                }
                if (spend &lt;= budget) {
                    valid = true;
                    break;
                }
            }
            if (valid) {
                ans = mid;
                left = mid + 1;
            } else {
                right = mid - 1;
            }
        }
        return ans;
    }
}

</code></pre> 
<p>这里官解的最大值就索性用了一个超大的数来确定，这对于二分影响不大。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1891f41c45f29a8e3e83892bc6673076/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【数据分析】numpy基础第四天</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/51b9e544e221b74383a4f24809cb3c58/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Genome-wide association studies in R</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>