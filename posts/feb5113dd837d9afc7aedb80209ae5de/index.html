<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue-admin-template实现登录过程（对接Controller） - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue-admin-template实现登录过程（对接Controller）" />
<meta property="og:description" content="vue-admin-template实现登录过程（对接Controller） 关注公众号，每天更新优质好文！
1.引言
vue-admin-template是使用vue&#43;element-ui开发的一款很棒的后台管理系统基础模板。我们一般在上面进行二次开发。
我们可以预览一下，还是很棒的，我很喜欢。
项目预览地址：
https://panjiachen.gitee.io/vue-admin-template 接下来，我们就下载使用一下吧。
第一步、
下载vue-admin-template模板，然后导入到开发工具中，我用的VScode。
下载地址1：github下载地址，下载很慢
下载地址2：百度网盘下载地址
提取码：ssty
（注意：如果你是下载的百度网盘里面的模板，就不用安装依赖了，因为我已经安装好了。就是node_modules文件夹）
下载之后导入到VScode中。）
导入之后路径结构应是这样的：
然后启动项目：
右键项目名，在终端中打开
输入命令npm run dev，回车，启动项目。
npm run dev 首次加载有点慢，请耐心等待，完成之后会自动打开浏览器，而且端口号默认是9528
完成之后如下图：
点击登录，这个精简版的后台界面就好了，我们可以根据自己需要来改页面。
有的小伙伴这里就有问题了对吧，啊！我登录不上啊，报错Network Error ! 怎么会事呢？
别急，我们接下来解决。
我们先分析原因：
打开登录页面，并打开F12调试窗口，点到network
点击Sign in ,看看登录请求路径：
说明这个https://easy-mock.com/mock/接口出问题了呗，不能用了！但没事，我们自己写一个登录接口即可。
后台LoginController:
package com.example.stutea.controller; import com.example.stutea.utils.R; import org.springframework.web.bind.annotation.*; @RestController @RequestMapping(&#34;/user&#34;) @CrossOrigin public class LoginController { //login @PostMapping(&#34;login&#34;) public R login(){ return R.ok().data(&#34;token&#34;,&#34;admin&#34;); } //info @GetMapping(&#34;info&#34;) public R getInfo(){ return R.ok().data(&#34;roles&#34;,&#34;[admin]&#34;).data(&#34;name&#34;,&#34;admin&#34;).data(&#34;avatar&#34;,&#34;https://img03.sogoucdn.com/app/a/100520093/d71a6360ba8601ff-19264876bfd6a308-dfbd047d3bb4f2621f01d7ae18979b6e.jpg&#34;); } } 工具类：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/feb5113dd837d9afc7aedb80209ae5de/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-28T22:49:33+08:00" />
<meta property="article:modified_time" content="2021-05-28T22:49:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue-admin-template实现登录过程（对接Controller）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="vueadmintemplateController_0"></a>vue-admin-template实现登录过程（对接Controller）</h3> 
<p>关注公众号，每天更新优质好文！<br> <img src="https://images2.imgbox.com/e9/ab/GelD0KzM_o.jpg" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/c8/08/w7jVmjP6_o.gif" alt="在这里插入图片描述"></p> 
<p><strong>1.引言</strong></p> 
<p>vue-admin-template是使用vue+element-ui开发的一款很棒的后台管理系统基础模板。我们一般在上面进行二次开发。<br> 我们可以预览一下，还是很棒的，我很喜欢。</p> 
<p><strong>项目预览地址：</strong></p> 
<pre><code class="prism language-java">https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>panjiachen<span class="token punctuation">.</span>gitee<span class="token punctuation">.</span>io<span class="token operator">/</span>vue<span class="token operator">-</span>admin<span class="token operator">-</span>template
</code></pre> 
<p>接下来，我们就下载使用一下吧。</p> 
<p><strong>第一步、</strong><br> 下载vue-admin-template模板，然后导入到开发工具中，我用的VScode。</p> 
<p>下载地址1：<a href="https://github.com/PanJiaChen/vue-element-admin">github下载地址，下载很慢</a></p> 
<p>下载地址2：<a href="https://pan.baidu.com/s/1wWOVEf4pCgIDCC9n3j2KtQ" rel="nofollow">百度网盘下载地址</a><br> 提取码：ssty</p> 
<p>（注意：如果你是下载的百度网盘里面的模板，就不用安装依赖了，因为我已经安装好了。就是node_modules文件夹）<br> 下载之后导入到VScode中。）</p> 
<p>导入之后路径结构应是这样的：<br> <img src="https://images2.imgbox.com/a3/1d/pGtjyp39_o.png" alt="在这里插入图片描述"></p> 
<p>然后启动项目：</p> 
<p>右键项目名，在终端中打开<br> <img src="https://images2.imgbox.com/81/68/gYlldqQH_o.png" alt="在这里插入图片描述"></p> 
<p>输入命令npm run dev，回车，启动项目。</p> 
<pre><code class="prism language-java">npm run dev
</code></pre> 
<p><img src="https://images2.imgbox.com/aa/e4/uS6DEo3B_o.png" alt="在这里插入图片描述"></p> 
<p>首次加载有点慢，请耐心等待，完成之后会自动打开浏览器，而且端口号默认是9528</p> 
<p>完成之后如下图：<br> <img src="https://images2.imgbox.com/1f/98/MaVYULDv_o.png" alt="在这里插入图片描述"></p> 
<p>点击登录，这个精简版的后台界面就好了，我们可以根据自己需要来改页面。<br> <img src="https://images2.imgbox.com/91/af/Cz0PoWD9_o.png" alt="在这里插入图片描述"></p> 
<p>有的小伙伴这里就有问题了对吧，啊！我登录不上啊，报错Network Error ! 怎么会事呢？</p> 
<p>别急，我们接下来解决。</p> 
<p>我们先分析原因：</p> 
<p>打开登录页面，并打开F12调试窗口，点到network<br> <img src="https://images2.imgbox.com/60/4c/7OGuUW47_o.png" alt="在这里插入图片描述"></p> 
<p>点击Sign in ,看看登录请求路径：<br> <img src="https://images2.imgbox.com/65/a2/ORrDi775_o.png" alt="在这里插入图片描述"></p> 
<p>说明这个https://easy-mock.com/mock/接口出问题了呗，不能用了！但没事，我们自己写一个登录接口即可。</p> 
<p>后台LoginController:</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>stutea<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>stutea<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">R</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>



<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/user"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@CrossOrigin</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">//login</span>
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"login"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">,</span><span class="token string">"admin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token comment">//info</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"info"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span>    <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"roles"</span><span class="token punctuation">,</span><span class="token string">"[admin]"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span><span class="token string">"admin"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"avatar"</span><span class="token punctuation">,</span><span class="token string">"https://img03.sogoucdn.com/app/a/100520093/d71a6360ba8601ff-19264876bfd6a308-dfbd047d3bb4f2621f01d7ae18979b6e.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>工具类：</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>stutea<span class="token punctuation">.</span>utils</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>

<span class="token comment">//统一返回结果的类</span>
<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">R</span> <span class="token punctuation">{<!-- --></span>


    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> success<span class="token punctuation">;</span>


    <span class="token keyword">private</span> <span class="token class-name">Integer</span> code<span class="token punctuation">;</span>


    <span class="token keyword">private</span> <span class="token class-name">String</span> message<span class="token punctuation">;</span>


    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//把构造方法私有</span>
    <span class="token keyword">private</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

    <span class="token comment">//成功静态方法</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">R</span> <span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">R</span> r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        r<span class="token punctuation">.</span><span class="token function">setSuccess</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        r<span class="token punctuation">.</span><span class="token function">setCode</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>stutea<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span>ResultCode</span><span class="token punctuation">.</span>SUCCESS<span class="token punctuation">)</span><span class="token punctuation">;</span>
        r<span class="token punctuation">.</span><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token string">"成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> r<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//失败静态方法</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">R</span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">R</span> r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">R</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        r<span class="token punctuation">.</span><span class="token function">setSuccess</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        r<span class="token punctuation">.</span><span class="token function">setCode</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>stutea<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span>ResultCode</span><span class="token punctuation">.</span>ERROR<span class="token punctuation">)</span><span class="token punctuation">;</span>
        r<span class="token punctuation">.</span><span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token string">"失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> r<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">success</span><span class="token punctuation">(</span><span class="token class-name">Boolean</span> success<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setSuccess</span><span class="token punctuation">(</span>success<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">message</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">code</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> code<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setCode</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">data</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">data</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<p>ResultCode：</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>stutea<span class="token punctuation">.</span>utils</span><span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResultCode</span> <span class="token punctuation">{<!-- --></span>
     <span class="token keyword">public</span>  <span class="token keyword">static</span>  <span class="token class-name">Integer</span> SUCCESS <span class="token operator">=</span> <span class="token number">20000</span><span class="token punctuation">;</span>
     <span class="token keyword">public</span>  <span class="token keyword">static</span>  <span class="token class-name">Integer</span> ERROR <span class="token operator">=</span> <span class="token number">20001</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

</code></pre> 
<p>这样后台接口就写好了。<br> 然后修改前端模板中的请求接口：<br> <img src="https://images2.imgbox.com/03/9c/zQTHGRby_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/94/21/XrKCOKWo_o.png" alt="在这里插入图片描述"></p> 
<p>写好之后重新启动，前后端都要重新启动。<br> 再次访问应该没问题了，我也是看的尚硅谷宋红康老师讲的。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e311dfd35a928b4bfbd63e6068e0af0b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MySQL 报错：Parameter ‘@XXX‘ must be defined.</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/edd4b9b5b07b514b6068aec68768d5a8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">微信小程序跳转到另一个小程序 wx.navigateToMiniProgram 方法，调试</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>