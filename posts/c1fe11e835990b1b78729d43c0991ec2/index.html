<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>zephyr学习笔记 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="zephyr学习笔记" />
<meta property="og:description" content="/* /dts-v1/是Device Tree Source(DTS)文件的版本声明。它指定了DTS文件的版本，以便 正确解析和处理文件内容，在DTS文件中，/dts-v1/通常是文件的第一行。 */ /dts-v1/ /*是一个C/C&#43;&#43;中的预处理指令，用于在代码中包含一个名nrf52833_qiaa.dtsi的文件。 这个文件可能是一个设备树源文件，用于描述硬件设备的配置和功能。 设备树是一种描述硬件设备的数据结构，他独立于具体的处理器架构和操作系统。设备树 源文件（.dts或dtsi）描述了硬件设备的层次结构，寄存器地址，中断等信息。在编译时， 设备树源文件会被编译成二进制设备树文件（.dts），然后由操作系统加载和解析。 #include &lt;nordic/nrf52833_qiaa.dssi&gt;指令表示在代码中包含名为nrf52833_qiaa.dtsi 的设备树源文件。这样做可以将设备树的配置和功能添加到代码中，以便在运行时使用。*/ #include &lt;nordic/nrf52833_qiaa.dtsi&gt; #include &#34;nrf52833dk_nrf52833-pinctrl.dtsi&#34; /* 这个头文件可能时用于定义输入事件代码的，在嵌入式系统中，输入设备会生成不同的输入事件， 每个事件都有一个唯一的代码哎标识他，这个头文件可能包含了这些输入事件的代码定义。 */ #include &lt;zephyr/dt-bindings/input/input-event-codes.h&gt; / { /* 是一个字符串变量的赋值语句，这是一个简单的赋值操作。 */ model = &#34;Nordic nRF52833 DK NRF52833&#34;; compatible = &#34;nordic,nrf52833-dk-nrf52833&#34;; /* 这段代码是一个设备树文件中的一个节点描述，它定义了一些属性和值。在这个节点中，属性 zephyr,console\zephyr,shell-uart\zephyr,uart-mcumgr\zephyr,bt-mon-uart\ zephyr,bt-c2n-uart等这些分别对应了不同的设备或功能，这些属性的值是对应设备或功能的 引用，例如&#34;&amp;uart0&#34;表示引用了名为&#34;uart0&#34;的设备。 这段代码的作用是将这些设备或功能与节点&#34;chosen&#34;关联起来，以便在系统运行时进行配置和使用 */ chosen { /* 具体的来说，它将uart0的地址赋值给zephyr和console变量 这种操作可以用于将一个串口设备与zephyr操作系统的控制台进行关联。通过将串口设备的地址 赋值给zephyr和console变量，可以实现在控制台上进行输入和输出操作。 */ zephyr,console = &amp;uart0; /* 下面的语句，是一个zephyr中的配置选项，用于将uart0与shell绑定，这个配置选项的作用是将 UART0作为shell的输入和输出接口。 通过将uart0与shell绑定，可以在zephyr中使用shell命令行界面来与外接设备进行交互。 */ zephyr,shell-uart = &amp;uart0; /* uart-mcumgr是zephyr RTOS中的一个子系统，用于管理和控制UART设备，它提供了一组命令和 API，使开发者能够通过UART与设备进行通信，并执行各种操作，如读取设备状态，配置设备参数， 发送和接收数据等。 */ zephyr,uart-mcumgr = &amp;uart0; /* 下面的语句是一个在zephyr操作系统中设置蓝牙监视器UART的语句，它将蓝牙监视器UART与UART0设备进行关联。 在zephyr中，可以通过设备树 device tree来配置和管理硬件设备。设备树是一种描述硬件设备和其属性的数据 结构。通过设备树，可以在zephyr中定义和配置各种硬件设备。 在这个语句中，zephyr,bt-mon-uart是一个设备树属性，用于指定蓝牙监视器UART的名称，&amp;uart0是一个引用， 用于指定与UART0设备相关联。 */ zephyr,bt-mon-uart = &amp;uart0; /* */ zephyr,bt-c2h-uart = &amp;uart0; zephyr,sram = &amp;sram0; zephyr,flash = &amp;flash0; zephyr,code-partition = &amp;slot0_partition; zephyr,ieee802154 = &amp;ieee802154; }; /* 设备树节点 这个设备树节点信息定义了4个LED，每个LED都有一个GPIO引脚和一个标签。GPIO引脚用于控制LED 的亮灭状态，标签用于标识LED的名称。 */ leds { /* 下面的语句是设备树中的一个属性，用于指定设备节点的类型为GPIO LED，它表示该节点是一个 GPIO LED设备。 有两个设备树节点使用了compatible = &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/c1fe11e835990b1b78729d43c0991ec2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-06T17:50:43+08:00" />
<meta property="article:modified_time" content="2024-01-06T17:50:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">zephyr学习笔记</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <pre><code class="hljs">/*
/dts-v1/是Device Tree Source(DTS)文件的版本声明。它指定了DTS文件的版本，以便
正确解析和处理文件内容，在DTS文件中，/dts-v1/通常是文件的第一行。
*/
/dts-v1/
/*是一个C/C++中的预处理指令，用于在代码中包含一个名nrf52833_qiaa.dtsi的文件。
这个文件可能是一个设备树源文件，用于描述硬件设备的配置和功能。
设备树是一种描述硬件设备的数据结构，他独立于具体的处理器架构和操作系统。设备树
源文件（.dts或dtsi）描述了硬件设备的层次结构，寄存器地址，中断等信息。在编译时，
设备树源文件会被编译成二进制设备树文件（.dts），然后由操作系统加载和解析。
#include &lt;nordic/nrf52833_qiaa.dssi&gt;指令表示在代码中包含名为nrf52833_qiaa.dtsi
的设备树源文件。这样做可以将设备树的配置和功能添加到代码中，以便在运行时使用。*/
#include &lt;nordic/nrf52833_qiaa.dtsi&gt;
#include "nrf52833dk_nrf52833-pinctrl.dtsi"
/*
这个头文件可能时用于定义输入事件代码的，在嵌入式系统中，输入设备会生成不同的输入事件，
每个事件都有一个唯一的代码哎标识他，这个头文件可能包含了这些输入事件的代码定义。
*/
#include &lt;zephyr/dt-bindings/input/input-event-codes.h&gt;

/ {
    /*
    是一个字符串变量的赋值语句，这是一个简单的赋值操作。
    */
    model = "Nordic nRF52833 DK NRF52833";
    compatible = "nordic,nrf52833-dk-nrf52833";
    
    /*
    这段代码是一个设备树文件中的一个节点描述，它定义了一些属性和值。在这个节点中，属性
    zephyr,console\zephyr,shell-uart\zephyr,uart-mcumgr\zephyr,bt-mon-uart\
    zephyr,bt-c2n-uart等这些分别对应了不同的设备或功能，这些属性的值是对应设备或功能的
    引用，例如"&amp;uart0"表示引用了名为"uart0"的设备。
    这段代码的作用是将这些设备或功能与节点"chosen"关联起来，以便在系统运行时进行配置和使用
    */
    chosen {
        /*
        具体的来说，它将uart0的地址赋值给zephyr和console变量
        这种操作可以用于将一个串口设备与zephyr操作系统的控制台进行关联。通过将串口设备的地址
        赋值给zephyr和console变量，可以实现在控制台上进行输入和输出操作。
        */
        zephyr,console = &amp;uart0;
        /*
        下面的语句，是一个zephyr中的配置选项，用于将uart0与shell绑定，这个配置选项的作用是将
        UART0作为shell的输入和输出接口。
        通过将uart0与shell绑定，可以在zephyr中使用shell命令行界面来与外接设备进行交互。
        */
        zephyr,shell-uart = &amp;uart0;
        /*
        uart-mcumgr是zephyr RTOS中的一个子系统，用于管理和控制UART设备，它提供了一组命令和
        API，使开发者能够通过UART与设备进行通信，并执行各种操作，如读取设备状态，配置设备参数，
        发送和接收数据等。
        */
        zephyr,uart-mcumgr = &amp;uart0;
        /*
        下面的语句是一个在zephyr操作系统中设置蓝牙监视器UART的语句，它将蓝牙监视器UART与UART0设备进行关联。
        在zephyr中，可以通过设备树 device tree来配置和管理硬件设备。设备树是一种描述硬件设备和其属性的数据
        结构。通过设备树，可以在zephyr中定义和配置各种硬件设备。
        在这个语句中，zephyr,bt-mon-uart是一个设备树属性，用于指定蓝牙监视器UART的名称，&amp;uart0是一个引用，
        用于指定与UART0设备相关联。
        */
        zephyr,bt-mon-uart = &amp;uart0;
        /*
        
        */
        zephyr,bt-c2h-uart = &amp;uart0;
        zephyr,sram = &amp;sram0;
        zephyr,flash = &amp;flash0;
        zephyr,code-partition = &amp;slot0_partition;
        zephyr,ieee802154 = &amp;ieee802154;
    };

    /*
    设备树节点
    这个设备树节点信息定义了4个LED，每个LED都有一个GPIO引脚和一个标签。GPIO引脚用于控制LED
    的亮灭状态，标签用于标识LED的名称。
    */
    leds {
        /*
        下面的语句是设备树中的一个属性，用于指定设备节点的类型为GPIO LED，它表示该节点是一个
        GPIO LED设备。
        有两个设备树节点使用了compatible = "gpio-leds";属性，分别是leds和led，这两个节点
        都是用来定义GPIO LED设备的。
        
        */
        compatible = "gpio-leds";
        led0: led_0 {
            gpios = &lt;&amp;gpio0 13 GPIO_ACTIVE_LOW&gt;;
            label = "Green LED 0";
        };
        led1: led_1 {
            gpios = &lt;&amp;gpio0 14 GPIO_ACTIVE_LOW&gt;;
            label = "Green LED 1";
        };
        led2: led_2 {
            gpios = &lt;&amp;gpio0 15 GPIO_ACTIVE_LOW&gt;;
            label = "Green LED 2";
        };
        led3 :led_3 {
            gpios = &lt;&amp;gpio0 16 GPIO_ACTIVE_LOW&gt;;
            label = "Green LED 3";
        };
    };

    /*
    这段代码是一个设备树中的片段，用于定义一个名为pwmleds的节点，并在该节点下定义了一个
    名为pwm_led0的子节点。该子节点使用了一个名为pwm0的PWM设备，并设置了一些属性。
    */
    pwmleds {
        compatible = "pwn-leds";
        pwm_led0: pwm_led_0 {
            pwms = &lt;&amp;pwn0 0 PWN_MSEC(20) PWM_POLARITY_INVERTED&gt;;
        };
    };

    /*

    */
    buttons {
        compatible = "gpio-keys";
        button0: button_0 {
            gpios = &lt;&amp;gpio0 11 (GPIO_PULL_UP | GPIO_ACTIVE_LOW)&gt;;
            label = "Push button switch 0";
            zephyr,code = &lt;INPUT_KEY_0&gt;;
        };
        button1: button_1 {
            gpios = &lt;&amp;gpio0 12 (GPIO_PULL_UP | GPIO_ACTIVE_LOW)&gt;;
            label = "Push button switch1";
            zephyr,conde = &lt;INPUT_KEY_1&gt;;
        };
        button2: button_2 {
            gpios = &lt;&amp;gpio0 24 (GPIO_PULL_UP | GPIO_ACTIVE_LOW);
            label = "Push button switch2";
            zephyr,code = &lt;INPUT_KEY_2&gt;;
        };
        button3: button_3 {
            gpios = &lt;&amp;gpio0 25 (GPIO_PULL_UP | GPIO_ACTIVE_LOW);
            label = "Push button switch3";
            zephyr,code = &lt;INPUT_KEY_3&gt;;
        };
    };

    /*
    这段代码是一个设备树中的片段，用于描述ardunio的引脚连接器。在这个片段中，
    compatible属性指定了连接器的兼容性
    #gpio-cells属性指定了GPIO单元的数量
    gpio-map-mask属性指定了GPIO映射的掩码
    gpio-map-pass-thru属性指定了GPIO映射的传递值
    gpio-map属性则指定了GPIO的映射关系，其中&amp;gpio0表示引脚的GPIO控制器
    3表示引脚的偏移量，0表示引脚的标志位
    这段代码的作用是定义了arduino的引脚连接器的GPIO映射关系，以便在设备树中使用这些引脚
    进行硬件控制。
    */
    arduino_header: connector {
        compatible = "arduino-header-r3";
        #gpio-cells = &lt;2&gt;;
        gpio-map-mask = &lt;0xffffffff 0xffffffc0&gt;;
        gpio-map-pass-thru = &lt;0 0x3f&gt;;
        gpio-map = &lt;0 0 &amp;gpio0 3 0&gt;, /* A0 */
        ...
    };
}
</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7c2e19a86c3af73809f595b3cfb5afd7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">c语言直接把buffer的值转换为整数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4f20abfd3629f4851a3baf5dea023ee5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">游戏美术的技与艺</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>