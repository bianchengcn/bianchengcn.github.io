<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C&#43;&#43; MySQL开发环境配置（Windows&amp;Linux） - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C&#43;&#43; MySQL开发环境配置（Windows&amp;Linux）" />
<meta property="og:description" content="上篇文章我们介绍了MySQL数据库的安装，对于日常的MySQL数据库使用者来说已经够用了，但是对于MySQL数据库的开发人员还需要对MySQL的开发环境进行配置，本篇文章详细介绍了MySQL在Windows和Linux下开发环境的配置。
MySQL安装教程：https://blog.csdn.net/weixin_64647426/article/details/134105615
MySQL提供了可供开发的官方库文件，但在MySQL数据库开发之前需要将官方提供的库文件配置到开发的项目中，才能进行数据库开发的操作，所以学会MySQL开发环境的配置是至关重要的。
Windows下配置 MySQL开发头文件和库文件 找到MySQL的安装目录（因个人安装位置而意）
在安装目录下找到lib和include目录
记录下include和lib的绝对路径
如果是Linux环境，则一般在/usr/include/mysql
在lib下面有这样几个文件
这三个文件分成两组
mysqlclient.lib一组，为c/c&#43;&#43;下静态库引用，使用这个静态库，其他的那两个库都不需要了；一般在Linux编程下会使用这个库libmysql.lib和libmysql.dll一组，为c/c&#43;&#43;下动态库引用，其中dll是为了可以使程序能够正常的运行（要与exe在同一个目录下）；其中lib是给编译器使用的，相当于一张表，告诉编译器去dll里找函数的实现，而不是等着我自己实现，起到指引的作用。 而Linux下，则是引用/usr/lib/x86_64-linux-gnu/libmysqlclient.a作为静态库引用或者引用/usr/lib/x86_64-linux-gnu/libmysqlclient.so作为动态库引用
建立项目并配置环境 首先新建一个VS的&#34;控制台应用&#34;项目
把MySQL下的include文件夹和那三个库（使用静态或动态导入对应的库文件就可以）文件复制到项目目录下
设置MySQL的include路径
右键项目点击属性→点击VC&#43;&#43;目录→在&#34;包含目录&#34;下添加include
导入动态库的那个静态库
右键项目点击属性→点击链接器→点击输入→在&#34;附加依赖项&#34;中添加libmysql.lib
也可以用代码的方式来导入库(只有VS下好使，Linux是不行的)：#pragma comment(lib, &#34;libmysql.lib&#34;)
到这里头文件引用和库的导入就完成了，下面我们就用代码在测试一下
代码测试 #include &lt;iostream&gt; #include &lt;mysql.h&gt; int main() { MYSQL* mysql = new MYSQL(); MYSQL* pDB = mysql_init(mysql); if (pDB == NULL) { std::cout &lt;&lt; &#34;mysql_init failed!&#34; &lt;&lt; std::endl; return 0; } mysql_real_connect(pDB, &#34;localhost&#34;, &#34;root&#34;, &#34;******&#34;/*替换成你对应用户的密码*/, &#34;mysql&#34;, 3306, NULL, 0); mysql_close(pDB); return 0; } 用上面的代码对我们环境的配置进行设置，你会发现编译有问题
问题 在上面的代码进行编译的时候，会出现编译不通过的问题，我们来看他给出的问题" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/bf8d96852a9cb0b89395a8d7570698ab/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-20T20:08:05+08:00" />
<meta property="article:modified_time" content="2023-11-20T20:08:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C&#43;&#43; MySQL开发环境配置（Windows&amp;Linux）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>上篇文章我们介绍了MySQL数据库的安装，对于日常的MySQL数据库使用者来说已经够用了，但是对于MySQL数据库的开发人员还需要对MySQL的开发环境进行配置，本篇文章详细介绍了MySQL在Windows和Linux下开发环境的配置。</p> 
<p>MySQL安装教程：<a href="https://blog.csdn.net/weixin_64647426/article/details/134105615" title="https://blog.csdn.net/weixin_64647426/article/details/134105615">https://blog.csdn.net/weixin_64647426/article/details/134105615</a></p> 
<p>MySQL提供了可供开发的官方库文件，但在MySQL数据库开发之前需要将官方提供的库文件配置到开发的项目中，才能进行数据库开发的操作，所以学会MySQL开发环境的配置是至关重要的。</p> 
<h5>Windows下配置</h5> 
<h6>MySQL开发头文件和库文件</h6> 
<p>找到MySQL的安装目录（因个人安装位置而意）</p> 
<p>在安装目录下找到lib和include目录</p> 
<p><img alt="" height="451" src="https://images2.imgbox.com/f4/d8/1l1DVk7T_o.png" width="685"></p> 
<p>记录下include和lib的绝对路径</p> 
<p>如果是Linux环境，则一般在/usr/include/mysql</p> 
<p>在lib下面有这样几个文件</p> 
<p><img alt="" height="162" src="https://images2.imgbox.com/36/6d/4SvcS0se_o.png" width="330"></p> 
<p>这三个文件分成两组</p> 
<ul><li>mysqlclient.lib一组，为c/c++下静态库引用，使用这个静态库，其他的那两个库都不需要了；一般在Linux编程下会使用这个库</li><li>libmysql.lib和libmysql.dll一组，为c/c++下动态库引用，其中dll是为了可以使程序能够正常的运行（要与exe在同一个目录下）；其中lib是给编译器使用的，相当于一张表，告诉编译器去dll里找函数的实现，而不是等着我自己实现，起到指引的作用。</li></ul> 
<p>而Linux下，则是引用/usr/lib/x86_64-linux-gnu/libmysqlclient.a作为静态库引用或者引用/usr/lib/x86_64-linux-gnu/libmysqlclient.so作为动态库引用</p> 
<h6>建立项目并配置环境</h6> 
<p>首先新建一个VS的"控制台应用"项目</p> 
<p>把MySQL下的include文件夹和那三个库（使用静态或动态导入对应的库文件就可以）文件复制到项目目录下</p> 
<p><img alt="" height="413" src="https://images2.imgbox.com/b1/3a/sQTZDTmE_o.png" width="594"></p> 
<p><img alt="" height="365" src="https://images2.imgbox.com/87/93/Dc7YNpdg_o.png" width="760"></p> 
<p>设置MySQL的include路径</p> 
<p>右键项目点击属性→点击VC++目录→在"包含目录"下添加include</p> 
<p><img alt="" height="657" src="https://images2.imgbox.com/c3/e4/CMh4yAGW_o.png" width="545"></p> 
<p><img alt="" height="478" src="https://images2.imgbox.com/d4/80/80bUTfLN_o.png" width="1045"></p> 
<p>导入动态库的那个静态库</p> 
<p>右键项目点击属性→点击链接器→点击输入→在"附加依赖项"中添加libmysql.lib</p> 
<p><img alt="" height="656" src="https://images2.imgbox.com/e4/9d/fc6tlC6j_o.png" width="538"></p> 
<p><img alt="" height="433" src="https://images2.imgbox.com/24/ad/EGEouLQU_o.png" width="862"></p> 
<p>也可以用代码的方式来导入库(只有VS下好使，Linux是不行的)：#pragma comment(lib, "libmysql.lib")</p> 
<p>到这里头文件引用和库的导入就完成了，下面我们就用代码在测试一下</p> 
<h6>代码测试</h6> 
<pre><code class="language-cpp">#include &lt;iostream&gt;
#include &lt;mysql.h&gt;

int main()
{
	MYSQL* mysql = new MYSQL();
	MYSQL* pDB = mysql_init(mysql);
	if (pDB == NULL) {
		std::cout &lt;&lt; "mysql_init failed!" &lt;&lt; std::endl;
		return 0;
	}
	mysql_real_connect(pDB, "localhost", "root", "******"/*替换成你对应用户的密码*/, "mysql", 3306, NULL, 0);
	mysql_close(pDB);
	return 0;
}</code></pre> 
<p>用上面的代码对我们环境的配置进行设置，你会发现编译有问题</p> 
<h6>问题</h6> 
<p>在上面的代码进行编译的时候，会出现编译不通过的问题，我们来看他给出的问题</p> 
<p><img alt="" height="232" src="https://images2.imgbox.com/62/9c/EqOticlC_o.png" width="1021"></p> 
<p>这是由于VS默认的运行环境为32位，我们下载的MySQL是64位的，而我们现在的运行环境是32位，就导致了这个错误，把运行环境改成64位就可以了，之后需要把我们上面的环境配置在64位下在来一边就可以了</p> 
<p><img alt="" height="179" src="https://images2.imgbox.com/09/6b/IZO5NTHv_o.png" width="531"></p> 
<p><img alt="" height="137" src="https://images2.imgbox.com/61/11/aw8pJUrO_o.png" width="763"></p> 
<p>现在编译问题就没有了</p> 
<h5>Linux下配置</h5> 
<p>Linux下配置MySQL开发环境比较简单，需要有MySQL的devel开发环境，之前没有安装的安装后才可以使用</p> 
<p>CentOS安装mysql-devel命令：yum install -y mysql-community-devel</p> 
<p>安装成功后应该在/lib64/mysql/和/usr/include/mysq目录存在文件</p> 
<p><img alt="" height="496" src="https://images2.imgbox.com/34/d1/Fqx3BE6G_o.png" width="680"></p> 
<p>存在这些文件，就可以写一段简单的测试代码进行测试是否能正确使用</p> 
<p>代码编译是要加上-L/lib64/mysql -lmysqlclient参数</p> 
<h6>代码测试</h6> 
<pre><code class="language-cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;mysql/mysql.h&gt;

int main(int argc, char** argv)
{
	MYSQL* mysql = (MYSQL*)malloc(sizeof(MYSQL));
	MYSQL* pDB = mysql_init(mysql);
	if (pDB == NULL) {
		printf("mysql_init failed!\n");
		return 0;
	}
	mysql_real_connect(pDB, "localhost", "root", "******"/*替换成你对应用户的密码*/, "mysql", 3306, NULL, 0);
	mysql_close(pDB);
    free(mysql);
	return 0;
}</code></pre> 
<p>编译代码：gcc testmysql.c -L/lib64/mysql -lmysqlclient -o test.out</p> 
<p><img alt="" height="68" src="https://images2.imgbox.com/c6/82/1dy4taji_o.png" width="719"></p> 
<p>到这里MySQL在Windows和Linux下开发环境的配置就介绍完了，如果配置过程中出现错误欢迎随时评论说出你所遇到的问题，看到后我会一一回答。</p> 
<p>感谢观看学习，大佬们多多指点，愿明天的自己会感谢当下的努力！！！！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/afbd0a810bc3e0cbd569795725140eaa/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">html&#43;css制作简单注册登录页面</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2ef887d46d3e61c6a70c1ce068088f08/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">2023.11.21使用＜button＞元素来触发form表单和数据提交</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>