<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>详解C&#43;&#43;中的三种 继承（public， protected， private） - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="详解C&#43;&#43;中的三种 继承（public， protected， private）" />
<meta property="og:description" content="@TOCC&#43;&#43;三种继承方式：
先看一张继承关系表 三种继承方式： 1.首先说明一点：类实例（即类对象）不能直接访问类的 private成员和protected成员，但是能直接访问类的public成员。
2.另外无论哪种继承方式，子类都不能直接访问父类的 private成员；但是能直接访问父类的 protected成员和public成员（注意：是子类，而不是类实例），并且能通过父类的protected成员函数和public成员函数间接访问父类的private成员；这句话强调了类与类之间通过继承方式的访问规则，而非类与实例之间的访问规则。
3.子类通过public方式继承父类，则父类中的public、protected和private属性的成员在 子类 中 依次 是 public、protected和private属性，即通过public继承并不会改变父类原来的数据属性。
4.子类通过protected方式继承父类，则父类中的public、protected和private属性的成员在 子类 中 依次 是 protected、protected和private属性，即通过protected继承原来父类中public属性降级为子类中的protected属性，其余父类属性在子类中不变。
5.子类通过private方式继承父类，则父类中的public、protected和private属性的成员在 子类 中 依次 是 private、private和private属性，即通过private继承原来父类中public属性降级为子类中的private属性，protected属性降级为子类中的private属性，其余父类属性在子类中不变。
注意: 其实父类的原属性并未改变，只是通过 继承关系被继承到子类中的父类成员的个别属性有所变化 ，即只是在子类中父类的个别成员属性降级了，原来父类的成员属性并未变。
code如下： 类声明的头文件 heritage.h
// // Created by ZP on 2021/7/28. // #ifndef HERITAGE_HERITAGE_H #define HERITAGE_HERITAGE_H class A{ private: int a; protected: int b; public: int c; A(int A, int B, int C); ~A(); void set(int val_a, int val_b, int val_c); int get_a() const; int get_b() const; int get_c() const; }; class B{ private: int x; protected: int y; public: int z; B(); ~B(); void set(int &amp;val_x, int &amp;val_y, int &amp;val_z); int get_x() const; int get_y() const; int get_z() const; }; class C{ private: int u; protected: int v; public: explicit C(int U = 10, int V = 18); ~C(); void set(int val_u, int val_v); void set(int &amp;val_u); int get_uv() const; }; // public heritage class D: public A{ private: int m_total; public: D(int v1, int v2, int v3): A(v1, v2, v3){ m_total= 0; } ~D()= default; inline int add() { // m_total = c &#43; b &#43; A::get_a(); // a is class A&#39;s private value." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/986229c3e26850045329f00a6a043219/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-28T23:35:41+08:00" />
<meta property="article:modified_time" content="2021-07-28T23:35:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">详解C&#43;&#43;中的三种 继承（public， protected， private）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>@<a href="%E8%BF%99%E9%87%8C%E5%86%99%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9B%AE%E5%BD%95%E6%A0%87%E9%A2%98" rel="nofollow">TOC</a>C++三种继承方式：</p> 
<h2><a id="httpsimgblogcsdnimgcn44f3e0256c5c402e980cbeb0cb51983epngxossprocessimagewatermarktype_ZmFuZ3poZW5naGVpdGkshadow_10text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3hyaW5vc3ZpcAsize_16color_FFFFFFt_70_2"></a>先看一张继承关系表<img src="https://images2.imgbox.com/d8/e9/hqFv1Hzw_o.png" alt="在这里插入图片描述"></h2> 
<h3><a id="_3"></a>三种继承方式：</h3> 
<p>1.首先说明一点：<strong>类实例</strong>（即类对象）不能直接访问类的 <strong>private成员</strong>和<strong>protected成员</strong>，但是能直接访问类的<strong>public成员</strong>。</p> 
<p>2.另外<strong>无论哪种继承方式</strong>，<strong>子类</strong>都不能直接访问<strong>父类</strong>的 <strong>private成员</strong>；但是能直接访问<strong>父类</strong>的 <strong>protected成员</strong>和<strong>public成员</strong>（注意：是<strong>子类</strong>，而不是<strong>类实例</strong>），并且能通过<strong>父类</strong>的<strong>protected成员函数</strong>和<strong>public成员函数</strong>间接访问<strong>父类</strong>的<strong>private成员</strong>；这句话强调了<strong>类与类</strong>之间通过继承方式的访问规则，而非<strong>类与实例</strong>之间的访问规则。</p> 
<p>3.<strong>子类</strong>通过<strong>public</strong>方式继承父类，则父类中的<strong>public</strong>、<strong>protected</strong>和<strong>private</strong>属性的成员在 <strong>子类</strong> 中 <strong>依次</strong> 是 <strong>public</strong>、<strong>protected</strong>和<strong>private属性</strong>，即通过<strong>public</strong>继承并不会改变父类原来的数据属性。</p> 
<p>4.<strong>子类</strong>通过<strong>protected</strong>方式继承父类，则父类中的<strong>public</strong>、<strong>protected</strong>和<strong>private</strong>属性的成员在 <strong>子类</strong> 中 <strong>依次</strong> 是 <strong>protected</strong>、<strong>protected</strong>和<strong>private属性</strong>，即通过<strong>protected</strong>继承原来父类中<strong>public</strong>属性降级为<strong>子类</strong>中的<strong>protected</strong>属性，其余父类属性在子类中不变。</p> 
<p>5.<strong>子类</strong>通过<strong>private</strong>方式继承父类，则父类中的<strong>public</strong>、<strong>protected</strong>和<strong>private</strong>属性的成员在 <strong>子类</strong> 中 <strong>依次</strong> 是 <strong>private</strong>、<strong>private</strong>和<strong>private</strong>属性，即通过<strong>private</strong>继承原来父类中<strong>public属性</strong>降级为<strong>子类</strong>中的<strong>private</strong>属性，<strong>protected</strong>属性降级为<strong>子类</strong>中的<strong>private</strong>属性，其余父类属性在子类中不变。</p> 
<p><strong>注意:</strong> 其实<strong>父类</strong>的<strong>原属性并未改变</strong>，只是通过 <strong>继承关系</strong>被继承到子类中的父类成员的个别属性有所变化 ，即只是在<strong>子类</strong>中<strong>父类</strong>的个别成员属性降级了，原来父类的成员属性并未变。</p> 
<h3><a id="code_17"></a>code如下：</h3> 
<p>类声明的头文件 <strong>heritage.h</strong></p> 
<pre><code class="prism language-cpp"><span class="token comment">//</span>
<span class="token comment">// Created by ZP on 2021/7/28.</span>
<span class="token comment">//</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">HERITAGE_HERITAGE_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">HERITAGE_HERITAGE_H</span></span>

<span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">{<!-- --></span>
<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">int</span> a<span class="token punctuation">;</span>
<span class="token keyword">protected</span><span class="token operator">:</span>
    <span class="token keyword">int</span> b<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> c<span class="token punctuation">;</span>
    <span class="token function">A</span><span class="token punctuation">(</span><span class="token keyword">int</span> A<span class="token punctuation">,</span> <span class="token keyword">int</span> B<span class="token punctuation">,</span> <span class="token keyword">int</span> C<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">~</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">int</span> val_a<span class="token punctuation">,</span> <span class="token keyword">int</span> val_b<span class="token punctuation">,</span> <span class="token keyword">int</span> val_c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token function">get_a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token function">get_b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token function">get_c</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">{<!-- --></span>
<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">int</span> x<span class="token punctuation">;</span>
<span class="token keyword">protected</span><span class="token operator">:</span>
    <span class="token keyword">int</span> y<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> z<span class="token punctuation">;</span>
    <span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">~</span><span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>val_x<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>val_y<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>val_z<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token function">get_x</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token function">get_y</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token function">get_z</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">{<!-- --></span>
<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">int</span> u<span class="token punctuation">;</span>
<span class="token keyword">protected</span><span class="token operator">:</span>
    <span class="token keyword">int</span> v<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">explicit</span> <span class="token function">C</span><span class="token punctuation">(</span><span class="token keyword">int</span> U <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token keyword">int</span> V <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">~</span><span class="token function">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">int</span> val_u<span class="token punctuation">,</span> <span class="token keyword">int</span> val_v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>val_u<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token function">get_uv</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// public heritage</span>
<span class="token keyword">class</span> <span class="token class-name">D</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">A</span></span><span class="token punctuation">{<!-- --></span>
<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">int</span> m_total<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">D</span><span class="token punctuation">(</span><span class="token keyword">int</span> v1<span class="token punctuation">,</span> <span class="token keyword">int</span> v2<span class="token punctuation">,</span> <span class="token keyword">int</span> v3<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">A</span><span class="token punctuation">(</span>v1<span class="token punctuation">,</span> v2<span class="token punctuation">,</span> v3<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        m_total<span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">D</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>

    <span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token comment">//        m_total = c + b + A::get_a();     // a is class A's private value.</span>
        m_total <span class="token operator">=</span> c <span class="token operator">+</span> b <span class="token operator">+</span> <span class="token function">get_a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> m_total<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// protected heritage</span>
<span class="token keyword">class</span> <span class="token class-name">E</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">protected</span> <span class="token class-name">B</span></span><span class="token punctuation">{<!-- --></span>

<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">int</span> m_tesult<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">E</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        m_tesult <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">E</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">get_xyz</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
    <span class="token comment">// 要修改 B 的私有变量 x ，则要调用 B 类 的set方法或者声明一个类E的成员函数为类B的友元函数, 从而访问 private value.</span>
    <span class="token keyword">void</span> <span class="token function">set_xyz</span><span class="token punctuation">(</span><span class="token keyword">int</span> X<span class="token punctuation">,</span> <span class="token keyword">int</span> Y<span class="token punctuation">,</span> <span class="token keyword">int</span> Z<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">mul</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        m_tesult <span class="token operator">=</span> y <span class="token operator">*</span> z <span class="token operator">*</span> <span class="token function">get_x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// x is private value</span>
        <span class="token keyword">return</span> m_tesult<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// private heritage </span>
<span class="token keyword">class</span> <span class="token class-name">F</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">private</span> <span class="token class-name">C</span></span><span class="token punctuation">{<!-- --></span>

<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">int</span> m_result<span class="token punctuation">;</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">F</span><span class="token punctuation">(</span><span class="token keyword">int</span> v1<span class="token punctuation">,</span> <span class="token keyword">int</span> v2<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">C</span><span class="token punctuation">(</span>v1<span class="token punctuation">,</span> v2<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        m_result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">set_uv</span><span class="token punctuation">(</span><span class="token keyword">int</span> U<span class="token punctuation">,</span> <span class="token keyword">int</span> V<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">product</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">get_uv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">//HERITAGE_HERITAGE_H</span></span>

</code></pre> 
<p>头文件<strong>heritage.h</strong>的实现代码 <strong>heritage.cpp</strong></p> 
<pre><code class="prism language-cpp"><span class="token comment">//</span>
<span class="token comment">// Created by ZP on 2021/7/28.</span>
<span class="token comment">//</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"heritage.h"</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token comment">// class A implement</span>
<span class="token class-name">A</span><span class="token operator">::</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token keyword">int</span> A<span class="token punctuation">,</span> <span class="token keyword">int</span> B<span class="token punctuation">,</span> <span class="token keyword">int</span> C<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">a</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">b</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">c</span><span class="token punctuation">(</span>C<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>

<span class="token class-name">A</span><span class="token operator">::</span><span class="token operator">~</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">A</span><span class="token operator">::</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">int</span> val_a<span class="token punctuation">,</span> <span class="token keyword">int</span> val_b<span class="token punctuation">,</span> <span class="token keyword">int</span> val_c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">this</span><span class="token operator">-&gt;</span>a <span class="token operator">=</span> val_a<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span>b <span class="token operator">=</span> val_b<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span>c <span class="token operator">=</span> val_c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token class-name">A</span><span class="token operator">::</span><span class="token function">get_a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> a<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token class-name">A</span><span class="token operator">::</span><span class="token function">get_b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token class-name">A</span><span class="token operator">::</span><span class="token function">get_c</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// class B</span>

<span class="token class-name">B</span><span class="token operator">::</span><span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    z <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">B</span><span class="token operator">::</span><span class="token operator">~</span><span class="token function">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token class-name">B</span><span class="token operator">::</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>val_x<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>val_y<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>val_z<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span>x <span class="token operator">=</span> val_x<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span>y <span class="token operator">=</span> val_y<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span>z <span class="token operator">=</span> val_z<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token class-name">B</span><span class="token operator">::</span><span class="token function">get_x</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token class-name">B</span><span class="token operator">::</span><span class="token function">get_y</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token class-name">B</span><span class="token operator">::</span><span class="token function">get_z</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> z<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// class C</span>

<span class="token class-name">C</span><span class="token operator">::</span><span class="token function">C</span><span class="token punctuation">(</span><span class="token keyword">int</span> U<span class="token punctuation">,</span> <span class="token keyword">int</span> V<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">u</span><span class="token punctuation">(</span>U<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">v</span><span class="token punctuation">(</span>V<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>

<span class="token class-name">C</span><span class="token operator">::</span><span class="token operator">~</span><span class="token function">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token class-name">C</span><span class="token operator">::</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">int</span> val_u<span class="token punctuation">,</span> <span class="token keyword">int</span> val_v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span>u <span class="token operator">=</span> val_u<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span>v <span class="token operator">=</span> val_v<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">C</span><span class="token operator">::</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>val_u<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token operator">-&gt;</span>u <span class="token operator">=</span> val_u<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token class-name">C</span><span class="token operator">::</span><span class="token function">get_uv</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> u <span class="token operator">*</span> v<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// class E</span>
<span class="token keyword">void</span> <span class="token class-name">E</span><span class="token operator">::</span><span class="token function">get_xyz</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"x: "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">get_x</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"\ty: "</span> <span class="token operator">&lt;&lt;</span> y <span class="token operator">&lt;&lt;</span> <span class="token string">"\tz: "</span> <span class="token operator">&lt;&lt;</span> z <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token class-name">E</span><span class="token operator">::</span><span class="token function">set_xyz</span><span class="token punctuation">(</span><span class="token keyword">int</span> X<span class="token punctuation">,</span> <span class="token keyword">int</span> Y<span class="token punctuation">,</span> <span class="token keyword">int</span> Z<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token function">set</span><span class="token punctuation">(</span>X<span class="token punctuation">,</span> Y<span class="token punctuation">,</span> Z<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// class F</span>
<span class="token keyword">void</span> <span class="token class-name">F</span><span class="token operator">::</span><span class="token function">set_uv</span><span class="token punctuation">(</span><span class="token keyword">int</span> U<span class="token punctuation">,</span> <span class="token keyword">int</span> V<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    v <span class="token operator">=</span> V<span class="token punctuation">;</span>              <span class="token comment">// private heritage， 但是还是能在子类内部 直接使用 父类的 protected value</span>
    <span class="token function">set</span><span class="token punctuation">(</span>U<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// private heritage， 但是还是能在子类内部 直接使用 父类的 public function</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>主函数代码 <strong>main.cpp</strong></p> 
<pre><code class="prism language-cpp"><span class="token comment">//</span>
<span class="token comment">// Created by ZP on 2021/7/28.</span>
<span class="token comment">//</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"heritage.h"</span></span>
<span class="token keyword">using</span> std<span class="token operator">::</span>cout<span class="token punctuation">;</span>
<span class="token keyword">using</span> std<span class="token operator">::</span>endl<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>

    A <span class="token function">a</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a: "</span> <span class="token operator">&lt;&lt;</span> a<span class="token punctuation">.</span><span class="token function">get_a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"\tb: "</span> <span class="token operator">&lt;&lt;</span> a<span class="token punctuation">.</span><span class="token function">get_b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"\tc: "</span> <span class="token operator">&lt;&lt;</span> a<span class="token punctuation">.</span><span class="token function">get_c</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    <span class="token comment">// 实例a 能直接访问 类A 的 public value， 但是不能直接访问 protected and private 变量，要想访问，需通过成员函数访问</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"public c: \t"</span> <span class="token operator">&lt;&lt;</span> a<span class="token punctuation">.</span>c <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    B b<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"x: "</span> <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span><span class="token function">get_x</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"\ty: "</span> <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span><span class="token function">get_y</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"\tc: "</span> <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span><span class="token function">get_z</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"public z: \t"</span> <span class="token operator">&lt;&lt;</span> b<span class="token punctuation">.</span>z <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token comment">// public value 破坏了 类的数据隐藏封装特性。</span>

    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    C c<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"u*v: "</span> <span class="token operator">&lt;&lt;</span> c<span class="token punctuation">.</span><span class="token function">get_uv</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token comment">// class D public heritage</span>
    D <span class="token function">d</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"d: "</span> <span class="token operator">&lt;&lt;</span> d<span class="token punctuation">.</span><span class="token function">get_a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"\t"</span> <span class="token operator">&lt;&lt;</span> d<span class="token punctuation">.</span><span class="token function">get_b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"\t"</span> <span class="token operator">&lt;&lt;</span> d<span class="token punctuation">.</span><span class="token function">get_c</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"d_total: "</span> <span class="token operator">&lt;&lt;</span> d<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    d<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"d-set: "</span> <span class="token operator">&lt;&lt;</span> d<span class="token punctuation">.</span><span class="token function">get_a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"\t"</span> <span class="token operator">&lt;&lt;</span> d<span class="token punctuation">.</span><span class="token function">get_b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"\t"</span> <span class="token operator">&lt;&lt;</span> d<span class="token punctuation">.</span><span class="token function">get_c</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"d_total: "</span> <span class="token operator">&lt;&lt;</span> d<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"d heritage  class A's public c: \t"</span> <span class="token operator">&lt;&lt;</span> d<span class="token punctuation">.</span>c <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>


    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    <span class="token comment">// class E protected heritage</span>
    E e<span class="token punctuation">;</span>
    e<span class="token punctuation">.</span><span class="token function">get_xyz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"e_product: "</span> <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span><span class="token function">mul</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    e<span class="token punctuation">.</span><span class="token function">set_xyz</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    e<span class="token punctuation">.</span><span class="token function">get_xyz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"e_product: "</span> <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span><span class="token function">mul</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    <span class="token comment">// 实例 不能直接访问 heritage class 的 public value， 因为被继承的 public value 变成了 protected value。</span>
<span class="token comment">//    e.z</span>

    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    F <span class="token function">f</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// private u, protected v；public set函数 通过  private heritage 后，全部为 private， 类实例 不能 直接访问</span>
<span class="token comment">//    f.set(10, 10);</span>
<span class="token comment">//    f.u;</span>
<span class="token comment">//    f.v;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"f_product: "</span> <span class="token operator">&lt;&lt;</span> f<span class="token punctuation">.</span><span class="token function">product</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    f<span class="token punctuation">.</span><span class="token function">set_uv</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"f_product set_uv: "</span> <span class="token operator">&lt;&lt;</span> f<span class="token punctuation">.</span><span class="token function">product</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_308"></a>运行结果：</h3> 
<pre><code class="prism language-cpp">E<span class="token operator">:</span>\programme\C_C<span class="token operator">++</span>\CLion\C<span class="token operator">++</span>\Exercise\heritage\cmake<span class="token operator">-</span>build<span class="token operator">-</span>debug\heritage<span class="token punctuation">.</span>exe
a<span class="token operator">:</span> <span class="token number">100</span>  b<span class="token operator">:</span> <span class="token number">200</span>  c<span class="token operator">:</span> <span class="token number">300</span>
<span class="token keyword">public</span> c<span class="token operator">:</span>       <span class="token number">300</span>

x<span class="token operator">:</span> <span class="token number">0</span>    y<span class="token operator">:</span> <span class="token number">1</span>    c<span class="token operator">:</span> <span class="token number">2</span>
<span class="token keyword">public</span> z<span class="token operator">:</span>       <span class="token number">2</span>

u<span class="token operator">*</span>v<span class="token operator">:</span> <span class="token number">180</span>

d<span class="token operator">:</span> <span class="token number">10</span>   <span class="token number">20</span>      <span class="token number">30</span>
d_total<span class="token operator">:</span> <span class="token number">60</span>
d<span class="token operator">-</span>set<span class="token operator">:</span> <span class="token number">12</span>       <span class="token number">13</span>      <span class="token number">14</span>
d_total<span class="token operator">:</span> <span class="token number">39</span>
d heritage  <span class="token keyword">class</span> <span class="token class-name">A</span><span class="token number">'</span>s <span class="token keyword">public</span> c<span class="token operator">:</span>         <span class="token number">14</span>

x<span class="token operator">:</span> <span class="token number">0</span>    y<span class="token operator">:</span> <span class="token number">1</span>    z<span class="token operator">:</span> <span class="token number">2</span>
e_product<span class="token operator">:</span> <span class="token number">0</span>
x<span class="token operator">:</span> <span class="token number">1</span>    y<span class="token operator">:</span> <span class="token number">2</span>    z<span class="token operator">:</span> <span class="token number">3</span>
e_product<span class="token operator">:</span> <span class="token number">6</span>

f_product<span class="token operator">:</span> <span class="token number">5000</span>
f_product set_uv<span class="token operator">:</span> <span class="token number">2500</span>

Process finished with exit code <span class="token number">0</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6e0d074fb88cb0e9253cd9dae3233b43/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【操作系统】创建线程的方式</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cfa768bef994cf94cd5826dd78bcd776/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">计算机二级vb考试怎么准备,2020年全国计算机二级VB复习知识点：常量和变量</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>