<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>elementUI table点击单元格选中 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="elementUI table点击单元格选中" />
<meta property="og:description" content="默认选中第一行第三列（序号和辖区不可点击选中），单选功能，点击其他单元格，当前选中的单元格取消选中，目前没有找到更好的方法来实现该功能，先保留现有的方法后面有了优化会更新！
&lt;template&gt; &lt;el-table :data=&#34;baseDataList&#34; style=&#34;width: 100%&#34; height=&#34;98%&#34; class=&#34;pageTablePart&#34; highlight-current-row @cell-click=&#34;cellClick&#34; ref=&#34;myTable&#34; &gt; &lt;el-table-column width=&#34;50&#34; align=&#34;center&#34; type=&#34;index&#34; label=&#34;序号&#34; &gt;&lt;/el-table-column&gt; &lt;el-table-column prop=&#34;areaId&#34; label=&#34;辖区&#34; align=&#34;center&#34; :show-overflow-tooltip=&#34;true&#34; &gt;&lt;/el-table-column&gt; &lt;el-table-column v-for=&#34;(item, index) in tableHeader&#34; :key=&#34;index&#34; :prop=&#34;item.prop&#34; align=&#34;center&#34; :show-overflow-tooltip=&#34;true&#34; &gt; &lt;template slot=&#34;header&#34;&gt; &lt;p&gt;{{ item.date }}&lt;/p&gt; &lt;p&gt;({{ item.holiday }})&lt;/p&gt; &lt;/template&gt; &lt;/el-table-column&gt; &lt;/el-table&gt; &lt;/template&gt; &lt;script&gt; export default { data() { return { tableHeader: [ { date: &#34;09-30&#34;, holiday: &#34;周五-国庆-班&#34;, prop: &#34;one&#34;, }, { date: &#34;10-01&#34;, holiday: &#34;周六-国庆-休&#34;, prop: &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/eba0fe0e3d25c08812092512842bdbed/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-07T17:43:25+08:00" />
<meta property="article:modified_time" content="2023-03-07T17:43:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">elementUI table点击单元格选中</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="text-align:center;"> <img alt="" src="https://images2.imgbox.com/73/fb/ey2Lwu28_o.jpg"></p> 
<p> 默认选中第一行第三列（序号和辖区不可点击选中），单选功能，点击其他单元格，当前选中的单元格取消选中，目前没有找到更好的方法来实现该功能，先保留现有的方法后面有了优化会更新！</p> 
<p></p> 
<pre><code class="language-html">&lt;template&gt;
&lt;el-table
          :data="baseDataList"
          style="width: 100%"
          height="98%"
          class="pageTablePart" 
          highlight-current-row
          @cell-click="cellClick"
          ref="myTable"
        &gt;
          &lt;el-table-column
            width="50"
            align="center"
            type="index"
            label="序号"
          &gt;&lt;/el-table-column&gt;
          &lt;el-table-column
            prop="areaId"
            label="辖区"
            align="center"
            :show-overflow-tooltip="true"
          &gt;&lt;/el-table-column&gt;
          &lt;el-table-column
            v-for="(item, index) in tableHeader"
            :key="index"
            :prop="item.prop"
            align="center"
            :show-overflow-tooltip="true"
          &gt;
            &lt;template slot="header"&gt;
              &lt;p&gt;{<!-- -->{ item.date }}&lt;/p&gt;
              &lt;p&gt;({<!-- -->{ item.holiday }})&lt;/p&gt;
            &lt;/template&gt;
          &lt;/el-table-column&gt;
        &lt;/el-table&gt;
&lt;/template&gt;

&lt;script&gt; 
export default { 
  data() {
    return { 
      tableHeader: [
        {
          date: "09-30",
          holiday: "周五-国庆-班",
          prop: "one",
        },
        {
          date: "10-01",
          holiday: "周六-国庆-休",
          prop: "two",
        },
        {
          date: "10-02",
          holiday: "周日-国庆-休",
          prop: "three",
        },
        {
          date: "10-03",
          holiday: "周一-国庆-休",
          prop: "four",
        },
        {
          date: "10-04",
          holiday: "周二-国庆-休",
          prop: "five",
        },
        {
          date: "10-05",
          holiday: "周三-国庆-休",
          prop: "six",
        },
      ],
      baseDataList: [
        {
          areaId: "全市",
          one: "xxxxxxxxxxxxxxxx",
          two: "ccccccccccccccccc",
          three: "xxxxxxxxxxxxxxxx",
          four: "ccccccccccccccccc",
          five: "xxxxxxxxxxxxxxxx",
          six: "ccccccccccccccccc",
        },
        {
          areaId: "全市1",
          one: "xxxxxxxxxxxxxxxx",
          two: "ccccccccccccccccc",
          three: "xxxxxxxxxxxxxxxx",
          four: "ccccccccccccccccc",
          five: "xxxxxxxxxxxxxxxx",
          six: "ccccccccccccccccc",
        },
      ],
      
      tableBgColor: "var(--tableActive)",
      tableColor: "var(--totalNumColor)",
    };
  },
  mounted() {
     
    // 默认第一行，第二个选中（以下标为准）
    this.tableActive(0, 2);
    // 当表格动态生成时，防止样式错乱
    this.$nextTick(() =&gt; {
          // 初始化表格
        this.$refs.myTable.doLayout();
        this.tableActive(0, 2);
    });
  },

  methods: {
    // 指定表格选中哪一个（以下标为准）
    tableActive(row, column) {
      this.$nextTick(() =&gt; {
        let tableBox = document.getElementsByClassName(
          "el-table__body-wrapper"
        )[0];
        let trName = tableBox.getElementsByClassName("el-table__row")[row];
        let tdName = trName.getElementsByClassName("el-table__cell");
        tdName[column].style = "color:" + this.tableColor + "!important; background-color:" + this.tableBgColor + "!important";  
      });
    },
    
     
    // 某个表格点击事件
    cellClick(row, column, cell, event) { 
      if (column.label != "序号" &amp;&amp; column.label != "辖区") { 
        if (cell.style.backgroundColor == this.tableColor) {
          // 取消选中
          cell.style = "background-color: transparent; color: auto";
        } else {
          // 先清除所有选中
          let tableBox = document.getElementsByClassName("tableWrapper")[0];
          let tdName = tableBox.getElementsByTagName("td");
          for (let i = 0; i &lt; tdName.length; i++) {
            tdName[i].style = "background-color: transparent; color: auto";  
          }
          // 选中
          cell.style = "color:" + this.tableColor + "!important; background-color:" + this.tableBgColor + "!important";  
        }
      }
    },
     
  },
};
&lt;/script&gt;
</code></pre> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e195f3a5dab4f2ef13bc6f5b78c262cf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">javascript 零基础小白入门（一）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/486553fd61012beb332fea9db6c71695/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Echarts 图表自适应屏幕</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>