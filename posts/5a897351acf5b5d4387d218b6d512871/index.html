<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【OpenCV&#43;Qt】使用车牌识别系统EasyPR识别车牌号 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【OpenCV&#43;Qt】使用车牌识别系统EasyPR识别车牌号" />
<meta property="og:description" content="EasyPR是一个中文的开源车牌识别系统，其车牌识别划分为了两个过程：即车牌检测（Plate Detection）和字符识别（Chars Recognition）两个过程：
车牌检测（Plate Detection）：对一个包含车牌的图像进行分析，最终截取出只包含车牌的一个图块；
字符识别（Chars Recognition）：从上一个车牌检测步骤中获取到的车牌图像，进行光学字符识别（OCR）这个过程
效果：
如果还没有搭环境，可参考
Ubuntu&#43;Qt下配置车牌识别系统EasyPR1.6环境_logani的博客-CSDN博客
1.在线程中循环捕获视频帧，发送到窗口进行显示 2.CPlateRecognize进行初始化 识别车牌和颜色，最多可同时识别4个
3.从帧图片中获取车牌信息CPlate存入容器中 如果为0，就是获取到
4.获取容器第一个车牌转成Mat进行显示 第一次转换是将二值化、灰度化后的单通道转成三通道，
第二次转换才是将Mat的BGR转换成RGB
5.获取车牌的文字信息，转换成QString到linneEdit进行显示 源码
#include &#34;widget.h&#34; #include &#34;ui_widget.h&#34; Widget::Widget(QWidget *parent) : QWidget(parent), ui(new Ui::Widget) { ui-&gt;setupUi(this); pvideothread=new videothread(&#34;carinput.mp4&#34;); connect(pvideothread,SIGNAL(sendFrame(Mat)),this,SLOT(receiveFrame(Mat)),Qt::BlockingQueuedConnection);//接收每一帧Mat //初始化 pr.setDetectType(PR_DETECT_CMSER|PR_DETECT_COLOR);//识别车牌和颜色 pr.setMaxPlates(4); pr.setResultShow(false); } Widget::~Widget() { delete ui; } void Widget::receiveFrame(Mat frame) { this-&gt;frame=frame.clone();//克隆一个做显示和检测车牌 cvtColor(this-&gt;frame, this-&gt;frame, CV_BGR2RGB); this-&gt;img1 = QImage(this-&gt;frame.data,this-&gt;frame.cols,this-&gt;frame.rows,QImage::Format_RGB888); this-&gt;img1 = this-&gt;img1.scaled(ui-&gt;label_2-&gt;width(),ui-&gt;label_2-&gt;height()); update(); } void Widget::on_pushButton_clicked()//播放 { pvideothread-&gt;start(); } void Widget::on_pushButton_2_clicked() { Mat carNum; int res=pr." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/5a897351acf5b5d4387d218b6d512871/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-20T22:36:04+08:00" />
<meta property="article:modified_time" content="2022-12-20T22:36:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【OpenCV&#43;Qt】使用车牌识别系统EasyPR识别车牌号</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>EasyPR是一个中文的开源车牌识别系统，其车牌识别划分为了两个过程：即车牌检测（Plate Detection）和字符识别（Chars Recognition）两个过程：</p> 
<p><strong>车牌检测（</strong><strong>Plate Detection</strong><strong>）：</strong>对一个包含车牌的图像进行分析，最终截取出只包含车牌的一个图块；</p> 
<p><strong>字符识别（</strong><strong>Chars Recognition</strong><strong>）：</strong>从上一个车牌检测步骤中获取到的车牌图像，进行光学字符识别（OCR）这个过程</p> 
<p>效果：</p> 
<p><img alt="" height="552" src="https://images2.imgbox.com/81/13/XdTsahcs_o.png" width="939"></p> 
<p> 如果还没有搭环境，可参考</p> 
<p><a href="https://blog.csdn.net/logani/article/details/128388299?spm=1001.2014.3001.5501" title="Ubuntu+Qt下配置车牌识别系统EasyPR1.6环境_logani的博客-CSDN博客">Ubuntu+Qt下配置车牌识别系统EasyPR1.6环境_logani的博客-CSDN博客</a></p> 
<h4>1.在线程中循环捕获视频帧，发送到窗口进行显示</h4> 
<h4>2.CPlateRecognize进行初始化</h4> 
<p style="text-align:center;"> <img alt="" src="https://images2.imgbox.com/3b/c4/A0s69oge_o.png"></p> 
<p>识别车牌和颜色，最多可同时识别4个</p> 
<h4>3.从帧图片中获取车牌信息CPlate存入容器中</h4> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/c4/18/GUnJAxfb_o.png"></p> 
<p>如果为0，就是获取到</p> 
<h4>4.获取容器第一个车牌转成Mat进行显示</h4> 
<p>第一次转换是将二值化、灰度化后的单通道转成三通道，<br> 第二次转换才是将Mat的BGR转换成RGB</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/15/ab/J6mw0xtD_o.png"></p> 
<h4>5.获取车牌的文字信息，转换成QString到linneEdit进行显示</h4> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/5c/a0/jUw2ktL2_o.png"></p> 
<p> 源码</p> 
<pre><code class="hljs">#include "widget.h"
#include "ui_widget.h"

Widget::Widget(QWidget *parent) :
    QWidget(parent),
    ui(new Ui::Widget)
{
    ui-&gt;setupUi(this);

    pvideothread=new videothread("carinput.mp4");
    connect(pvideothread,SIGNAL(sendFrame(Mat)),this,SLOT(receiveFrame(Mat)),Qt::BlockingQueuedConnection);//接收每一帧Mat
    //初始化
    pr.setDetectType(PR_DETECT_CMSER|PR_DETECT_COLOR);//识别车牌和颜色
    pr.setMaxPlates(4);
    pr.setResultShow(false);

}

Widget::~Widget()
{
    delete ui;
}

void Widget::receiveFrame(Mat frame)
{
    this-&gt;frame=frame.clone();//克隆一个做显示和检测车牌
    cvtColor(this-&gt;frame, this-&gt;frame, CV_BGR2RGB);
    this-&gt;img1 = QImage(this-&gt;frame.data,this-&gt;frame.cols,this-&gt;frame.rows,QImage::Format_RGB888);
    this-&gt;img1 = this-&gt;img1.scaled(ui-&gt;label_2-&gt;width(),ui-&gt;label_2-&gt;height());

    update();
}

void Widget::on_pushButton_clicked()//播放
{
    pvideothread-&gt;start();

}

void Widget::on_pushButton_2_clicked()
{
    Mat carNum;
    int res=pr.plateRecognize(this-&gt;frame,plateVec);
    if(res==0)
    {
        plate=plateVec.at(0);//获取CPlate
        plateMat=plate.getPlateMat();//转换成Mat
        //第一次转换是将二值化、灰度化后的单通道转成三通道
        cvtColor(plateMat, carNum, CV_BGR2RGB);
        //第二次转换才是将Mat的BGR转换成RGB
        cvtColor(carNum, carNum, CV_BGR2RGB);
        QImage img(carNum.data,carNum.cols,carNum.rows,QImage::Format_RGB888);

        ui-&gt;label-&gt;setPixmap(QPixmap::fromImage(img));
        ui-&gt;label-&gt;setScaledContents(true);//铺满控件

        String str=plateVec[0].getPlateStr();
        ui-&gt;lineEdit-&gt;clear();
        ui-&gt;lineEdit-&gt;setText(QString(str.c_str()));
    }
    plateVec.clear();//清空容器

}
void Widget::paintEvent(QPaintEvent *e)
{
    ui-&gt;label_2-&gt;setPixmap(QPixmap::fromImage(this-&gt;img1));
}</code></pre> 
<p> 头文件</p> 
<pre><code class="hljs">#ifndef WIDGET_H
#define WIDGET_H

#include &lt;QWidget&gt;
#include &lt;easypr.h&gt;
#include "videothread.h"
using namespace easypr;
namespace Ui {
class Widget;
}

class Widget : public QWidget
{
    Q_OBJECT

public:
    explicit Widget(QWidget *parent = nullptr);
    ~Widget();
    void paintEvent(QPaintEvent *e);
public slots:
    void receiveFrame(Mat frame);
private slots:
    void on_pushButton_clicked();

    void on_pushButton_2_clicked();

private:
    Ui::Widget *ui;
    Mat frame;
    CPlateRecognize pr;
    vector&lt;CPlate&gt; plateVec;
    CPlate plate;
    Mat plateMat;
    videothread *pvideothread;
    QImage img1;
};

#endif // WIDGET_H</code></pre> 
<p> </p> 
<p> </p> 
<p>感谢观看！！！！</p> 
<p>以上就是全部内容，如果对您有帮助，欢迎点赞评论，或者发现有哪里写错的，欢迎指正！</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/dd/2d/Zgs3Vcgu_o.png"></p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/79685f8ea39d90b0d7eacfec11b801d8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">xss漏洞攻防</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/975a98bc62ef69a8ec72454d746bb058/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">el-select 选择器 当value有值但label为空，默认value值作为下拉框值时</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>