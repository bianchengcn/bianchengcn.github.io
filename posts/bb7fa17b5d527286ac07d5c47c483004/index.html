<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Seleniumå®ç°æ‰¹é‡å°†CSDNæ–‡ç« æ”¹ä¸ºã€ç²‰ä¸å¯è§ã€‘ - ç¼–ç¨‹ä¸­å›½çš„åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Seleniumå®ç°æ‰¹é‡å°†CSDNæ–‡ç« æ”¹ä¸ºã€ç²‰ä¸å¯è§ã€‘" />
<meta property="og:description" content="æ–‡ç« ç›®å½• å‰è¨€Get_cookies.pyVisible_to_fans.pyæ¼”ç¤ºè¯´æ˜ å‰è¨€ è¿™å‡ å¤©æƒ³è¦æ•´ç†ä¸€ä¸‹è‡ªå·±çš„æ–‡ç« ï¼Œæƒ³æŠŠä¹‹å‰çš„æ–‡ç« æ”¹ä¸ºã€ç²‰ä¸å¯è§ã€‘ï¼Œä½†æ˜¯ï¼ï¼ï¼è‹¥è¦ä¿®æ”¹ä¸ºç²‰ä¸å¯è§ï¼Œåˆ™éœ€è¦æ‰‹åŠ¨ä¸€ä¸ªä¸€ä¸ªç‚¹å‡»æ–‡ç« ï¼Œå†ä¸€ä¸ªä¸€ä¸ªç‚¹å‡»ã€ç²‰ä¸å¯è§ã€‘ï¼Œå†ä¸€ä¸ªä¸€ä¸ªç‚¹å‡»å‘å¸ƒæ–‡ç« ï¼Œç„¶åä¸€ä¸ªä¸€ä¸ªè¿”å›ï¼Œé‡æ–°é€‰æ‹©ä¸‹ä¸€ç¯‡æ–‡ç« ã€‚
æ•´ä¸ªè¿‡ç¨‹æ—¢æ¶ˆè€—æ—¶é—´ï¼åˆæ¶ˆè€—ç²¾åŠ›ï¼ğŸ˜ 
äºæ˜¯ï¼ï¼ï¼å“¥ä»¬æˆ‘å¿ä¸äº†äº†ï¼èŠ±äº†ä¸€ä¸ªå¤šå°æ—¶ğŸ•”çš„æ—¶é—´è‡ªå·±å†™äº†ä¸€ä¸ªæ‰¹é‡å°†æ–‡ç« æ”¹ä¸ºã€ç²‰ä¸å¯è§ã€‘çš„ä»£ç ï¼
ğŸ‘‰ ä¸ç®¡æ˜¯å¯Œæ–‡æœ¬ç¼–è¾‘è¿˜æ˜¯Markdownç¼–è¾‘çš„æ–‡ç« ï¼Œç»Ÿç»Ÿç»™å“¥ä»¬æ”¹ï¼
ğŸ“£å¦‚æœæ–¹ä¾¿ï¼Œç‚¹ä¸ªèµï¼Œç»™ä¸ªå…³æ³¨ï¼Œé‚£ä¹Ÿæ˜¯æ„Ÿæ¿€ä¸å°½å‘ï¼
ğŸ“£è¯ä¸å¤šè¯´ï¼Œå¾€ä¸‹çœ‹å§ï¼
Get_cookies.py Get_cookies.py æ˜¯è·å–ç™»å½•åçš„cookieçš„ç¨‹åºä»£ç 
ä¸ºäº†é¿å…æ¯æ¬¡è¿›å…¥CSDNéƒ½è¦ç™»å½•ï¼Œäºæ˜¯æˆ‘ä»¬å…ˆè·å–ç™»å½•åçš„Cookieå€¼ï¼Œä»¥åè¿è¡Œç¨‹åºå†æ¬¡è¿›å…¥CSDNæ—¶å°±ä¸ç”¨å†æ‰‹åŠ¨ç™»å½•äº†ï¼Œå¯è°“æ˜¯â€œä¸€åŠ³æ°¸é€¸â€ï¼
æ³¨æ„ï¼šè®°å¾—åœ¨10ç§’å†…ç™»å½•å“¦ï¼
from selenium import webdriver from time import sleep import json if __name__ == &#39;__main__&#39;: driver = webdriver.Chrome() driver.maximize_window() driver.get(&#39;https://passport.csdn.net/login?code=public&#39;) sleep(10) dictCookies = driver.get_cookies() # è·å–listçš„cookies jsonCookies = json.dumps(dictCookies) # è½¬æ¢æˆå­—ç¬¦ä¸²ä¿å­˜ with open(&#39;csdn_cookies.txt&#39;, &#39;w&#39;) as f: f.write(jsonCookies) print(&#39;cookiesä¿å­˜æˆåŠŸï¼&#39;) ä»£ç è¿è¡Œç»“æŸåï¼Œä¼šç”Ÿæˆä¸€ä¸ªä¿å­˜cookiesçš„txtæ–‡ä»¶
Visible_to_fans.py Visible_to_fans.py æ˜¯æ‰¹é‡å°†CSDNæ–‡ç« å˜ä¸ºç²‰ä¸å¯è§çš„ä»£ç 
from selenium import webdriver from selenium.webdriver.common.by import By from selenium.webdriver.support.ui import WebDriverWait from selenium." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/bb7fa17b5d527286ac07d5c47c483004/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-25T16:24:25+08:00" />
<meta property="article:modified_time" content="2022-09-25T16:24:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹ä¸­å›½çš„åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹ä¸­å›½çš„åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Seleniumå®ç°æ‰¹é‡å°†CSDNæ–‡ç« æ”¹ä¸ºã€ç²‰ä¸å¯è§ã€‘</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>æ–‡ç« ç›®å½•</h4> 
 <ul><li><a href="#_1" rel="nofollow">å‰è¨€</a></li><li><a href="#Get_cookiespy_14" rel="nofollow">Get_cookies.py</a></li><li><a href="#Visible_to_fanspy_39" rel="nofollow">Visible_to_fans.py</a></li><li><ul><li><ul><li><a href="#_193" rel="nofollow">æ¼”ç¤ºè¯´æ˜</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>å‰è¨€</h2> 
<p>è¿™å‡ å¤©æƒ³è¦æ•´ç†ä¸€ä¸‹è‡ªå·±çš„æ–‡ç« ï¼Œæƒ³æŠŠä¹‹å‰çš„æ–‡ç« æ”¹ä¸ºã€ç²‰ä¸å¯è§ã€‘ï¼Œä½†æ˜¯ï¼ï¼ï¼è‹¥è¦ä¿®æ”¹ä¸ºç²‰ä¸å¯è§ï¼Œåˆ™éœ€è¦æ‰‹åŠ¨ä¸€ä¸ªä¸€ä¸ªç‚¹å‡»æ–‡ç« ï¼Œå†ä¸€ä¸ªä¸€ä¸ªç‚¹å‡»ã€ç²‰ä¸å¯è§ã€‘ï¼Œå†ä¸€ä¸ªä¸€ä¸ªç‚¹å‡»å‘å¸ƒæ–‡ç« ï¼Œç„¶åä¸€ä¸ªä¸€ä¸ªè¿”å›ï¼Œé‡æ–°é€‰æ‹©ä¸‹ä¸€ç¯‡æ–‡ç« ã€‚<br> æ•´ä¸ªè¿‡ç¨‹æ—¢æ¶ˆè€—æ—¶é—´ï¼åˆæ¶ˆè€—ç²¾åŠ›ï¼ğŸ˜ </p> 
<p><img src="https://images2.imgbox.com/70/1a/PqKBmC8P_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>äºæ˜¯ï¼ï¼ï¼å“¥ä»¬æˆ‘å¿ä¸äº†äº†ï¼èŠ±äº†<strong>ä¸€ä¸ªå¤šå°æ—¶</strong>ğŸ•”çš„æ—¶é—´è‡ªå·±å†™äº†ä¸€ä¸ªæ‰¹é‡å°†æ–‡ç« æ”¹ä¸ºã€ç²‰ä¸å¯è§ã€‘çš„ä»£ç ï¼<br> ğŸ‘‰ <strong>ä¸ç®¡æ˜¯å¯Œæ–‡æœ¬ç¼–è¾‘è¿˜æ˜¯Markdownç¼–è¾‘çš„æ–‡ç« ï¼Œç»Ÿç»Ÿç»™å“¥ä»¬æ”¹ï¼</strong></p> 
<p><img src="https://images2.imgbox.com/2d/3a/NZE8CYtI_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ğŸ“£å¦‚æœæ–¹ä¾¿ï¼Œç‚¹ä¸ªèµï¼Œç»™ä¸ªå…³æ³¨ï¼Œé‚£ä¹Ÿæ˜¯æ„Ÿæ¿€ä¸å°½å‘ï¼<br> ğŸ“£è¯ä¸å¤šè¯´ï¼Œå¾€ä¸‹çœ‹å§ï¼</p> 
<h2><a id="Get_cookiespy_14"></a>Get_cookies.py</h2> 
<p>Get_cookies.py æ˜¯è·å–ç™»å½•åçš„cookieçš„ç¨‹åºä»£ç </p> 
<p>ä¸ºäº†é¿å…æ¯æ¬¡è¿›å…¥CSDNéƒ½è¦ç™»å½•ï¼Œäºæ˜¯æˆ‘ä»¬å…ˆè·å–ç™»å½•åçš„Cookieå€¼ï¼Œä»¥åè¿è¡Œç¨‹åºå†æ¬¡è¿›å…¥CSDNæ—¶å°±ä¸ç”¨å†æ‰‹åŠ¨ç™»å½•äº†ï¼Œå¯è°“æ˜¯â€œä¸€åŠ³æ°¸é€¸â€ï¼</p> 
<p>æ³¨æ„ï¼šè®°å¾—åœ¨10ç§’å†…ç™»å½•å“¦ï¼</p> 
<pre><code class="prism language-c">from selenium import webdriver
from time import sleep
import json
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token char">'__main__'</span><span class="token operator">:</span>
  driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span><span class="token function">Chrome</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  driver<span class="token punctuation">.</span><span class="token function">maximize_window</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  driver<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>'https<span class="token operator">:</span><span class="token comment">//passport.csdn.net/login?code=public')</span>
  <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>

  dictCookies <span class="token operator">=</span> driver<span class="token punctuation">.</span><span class="token function">get_cookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span> # è·å–listçš„cookies
  jsonCookies <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">dumps</span><span class="token punctuation">(</span>dictCookies<span class="token punctuation">)</span> # è½¬æ¢æˆå­—ç¬¦ä¸²ä¿å­˜
  with <span class="token function">open</span><span class="token punctuation">(</span><span class="token char">'csdn_cookies.txt'</span><span class="token punctuation">,</span> <span class="token char">'w'</span><span class="token punctuation">)</span> as f<span class="token operator">:</span>
    f<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>jsonCookies<span class="token punctuation">)</span>
  <span class="token function">print</span><span class="token punctuation">(</span><span class="token char">'cookiesä¿å­˜æˆåŠŸï¼'</span><span class="token punctuation">)</span>
</code></pre> 
<p>ä»£ç è¿è¡Œç»“æŸåï¼Œä¼šç”Ÿæˆä¸€ä¸ªä¿å­˜cookiesçš„txtæ–‡ä»¶<br> <img src="https://images2.imgbox.com/61/90/pyY5gdHN_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="Visible_to_fanspy_39"></a>Visible_to_fans.py</h2> 
<p>Visible_to_fans.py æ˜¯æ‰¹é‡å°†CSDNæ–‡ç« å˜ä¸ºç²‰ä¸å¯è§çš„ä»£ç </p> 
<pre><code class="prism language-c">from selenium import webdriver
from selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by import By
from selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>support<span class="token punctuation">.</span>ui import WebDriverWait
from selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>support import expected_conditions as EC
import time
import json

class <span class="token function">CSDN</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token operator">:</span>
    def <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token operator">:</span>
        # å®ä¾‹åŒ–driverå¯¹è±¡
        self<span class="token punctuation">.</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span><span class="token function">Chrome</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    def <span class="token function">login</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token operator">:</span>
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>'https<span class="token operator">:</span><span class="token comment">//mp.csdn.net/mp_blog/manage/article?')</span>

        # è·å–ä¿å­˜ä¸‹çš„cookieå€¼
        with <span class="token function">open</span><span class="token punctuation">(</span><span class="token char">'csdn_cookies.txt'</span><span class="token punctuation">,</span> <span class="token char">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token char">'utf8'</span><span class="token punctuation">)</span> as f<span class="token operator">:</span>
            listCookies <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">loads</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        # å¾€browseré‡Œæ·»åŠ cookies
        <span class="token keyword">for</span> cookie in listCookies<span class="token operator">:</span>
            cookie_dict <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
                <span class="token char">'domain'</span><span class="token operator">:</span> <span class="token char">'.csdn.net'</span><span class="token punctuation">,</span>
                <span class="token char">'name'</span><span class="token operator">:</span> cookie<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token char">'name'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token char">'value'</span><span class="token operator">:</span> cookie<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token char">'value'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token string">"expires"</span><span class="token operator">:</span> <span class="token char">''</span><span class="token punctuation">,</span>
                <span class="token char">'path'</span><span class="token operator">:</span> <span class="token char">'/'</span><span class="token punctuation">,</span>
                <span class="token char">'httpOnly'</span><span class="token operator">:</span> False<span class="token punctuation">,</span>
                <span class="token char">'HostOnly'</span><span class="token operator">:</span> False<span class="token punctuation">,</span>
                <span class="token char">'Secure'</span><span class="token operator">:</span> False
            <span class="token punctuation">}</span>
            self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">add_cookie</span><span class="token punctuation">(</span>cookie_dict<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  # åˆ·æ–°ç½‘é¡µ<span class="token punctuation">,</span>cookiesæ‰æˆåŠŸ

        # æ”¾å¤§çª—å£
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">maximize_window</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

        # ç­‰å¾…å†…å®¹ç®¡ç†åŠ è½½å®Œæ¯•åç‚¹å‡»
        <span class="token function">WebDriverWait</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>driver<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">until</span><span class="token punctuation">(</span>
            EC<span class="token punctuation">.</span><span class="token function">presence_of_element_located</span><span class="token punctuation">(</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span> '<span class="token comment">//ul[@role="menu"]/li/a[text()="å†…å®¹ç®¡ç†"]'))</span>
        <span class="token punctuation">)</span>
        # ç‚¹å‡»å†…å®¹ç®¡ç†
        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">find_element</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span> '<span class="token comment">//ul[@role="menu"]/li/a[text()="å†…å®¹ç®¡ç†"]').click()</span>


    # åˆ†æç½‘é¡µ
    def <span class="token function">parse_page</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token operator">:</span>
        <span class="token string">""</span>"
        ç”¨æˆ·é€‰æ‹©å¥½åˆ†æ å¹¶ç‚¹å‡»åï¼Œè¾“å…¥<span class="token number">1</span>ï¼Œç¨‹åºç»§ç»­è¿è¡Œ
        <span class="token operator">:</span><span class="token keyword">return</span><span class="token operator">:</span>
        <span class="token string">""</span>"

        user1 <span class="token operator">=</span> <span class="token function">input</span><span class="token punctuation">(</span><span class="token char">'è¾“å…¥1ç»§ç»­ï¼š'</span><span class="token punctuation">)</span>

        # ç­‰å¾…æ–‡ç« urlåŠ è½½
        <span class="token function">WebDriverWait</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>driver<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">until</span><span class="token punctuation">(</span>
            EC<span class="token punctuation">.</span><span class="token function">presence_of_element_located</span><span class="token punctuation">(</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span> '<span class="token comment">//p[@class="article-list-item-txt"]/a'))</span>
        <span class="token punctuation">)</span>
        time<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

        # ç”¨tryæ¥è¿›è¡Œä¸‹ä¸€é¡µçš„æœç´¢
        page_urls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> # å­˜å‚¨æ–‡ç« url
        page_types <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> # å­˜å‚¨æ–‡ç« æ ‡ç­¾
        <span class="token keyword">while</span> True<span class="token operator">:</span>
            try<span class="token operator">:</span>
                # å…ˆæ·»åŠ æ–‡ç« urlå’Œæ–‡ç« æ ‡ç­¾
                page_urls <span class="token operator">+=</span> <span class="token punctuation">[</span>ele<span class="token punctuation">.</span><span class="token function">get_attribute</span><span class="token punctuation">(</span><span class="token char">'href'</span><span class="token punctuation">)</span> <span class="token keyword">for</span> ele in self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">find_elements</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span> '<span class="token comment">//p[@class="article-list-item-txt"]/a')]</span>
                page_types <span class="token operator">+=</span> <span class="token punctuation">[</span>ele<span class="token punctuation">.</span>text <span class="token keyword">for</span> ele in self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">find_elements</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span> '<span class="token comment">//div[@class="article-list-type"]/span[1]')]</span>
                # ç‚¹å‡»ä¸‹ä¸€é¡µ
                self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">find_element</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span> '<span class="token comment">//*[@id="view-containe"]/div/div/div[4]/div/button[2]').click()</span>
                time<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
            except<span class="token operator">:</span>
                <span class="token keyword">break</span>

        li_page_urls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        # è·å–æ–‡ç« æ ‡ç­¾ä¸ºåŸåˆ›çš„æ–‡ç« url
        <span class="token keyword">for</span> index in <span class="token function">range</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>page_types<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">:</span>
            <span class="token keyword">if</span> page_types<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'åŸåˆ›'</span><span class="token operator">:</span>
                li_page_urls<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>page_urls<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>

        # è°ƒç”¨ä¿®æ”¹æ–‡ç« ä¸ºç²‰ä¸å¯è§çš„å‡½æ•°
        self<span class="token punctuation">.</span><span class="token function">change_fans</span><span class="token punctuation">(</span>li_page_urls<span class="token punctuation">)</span>

    # è·å–æ–‡ç« çš„urlå¹¶ç‚¹å‡»ï¼Œä¿®æ”¹æ–‡ç« ä¸ºç²‰ä¸å¯è§
    def <span class="token function">change_fans</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> page_urls<span class="token punctuation">)</span><span class="token operator">:</span>
        <span class="token keyword">for</span> page_url in page_urls<span class="token operator">:</span>
            self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>page_url<span class="token punctuation">)</span>

            # å°†æ–‡ç« æ»šåŠ¨æ¡æ‹‰åˆ°åº•
            self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">execute_script</span><span class="token punctuation">(</span>'document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token operator">=</span><span class="token number">1000000</span>'<span class="token punctuation">)</span>
            time<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

            # ç”¨tryæ¥è¿›è¡Œmarkdownæ–‡ç« çš„ç¼–è¾‘
            try<span class="token operator">:</span>
                self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">find_element</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span> '<span class="token operator">/</span>html<span class="token operator">/</span>body<span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">/</span>div<span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">/</span>button'<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                # æ»šåŠ¨æ¡å‘ä¸‹æ»šåŠ¨
                self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">execute_script</span><span class="token punctuation">(</span>'document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token operator">=</span><span class="token number">1000000</span>'<span class="token punctuation">)</span>
                time<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

                # ç‚¹å‡»ç²‰ä¸å¯è§
                self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">find_element</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span> '<span class="token operator">/</span>html<span class="token operator">/</span>body<span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">/</span>div<span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token operator">/</span>div<span class="token operator">/</span>div<span class="token operator">/</span>label<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>'<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

                # ç‚¹å‡»åˆçº§
                self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">find_element</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span> '<span class="token operator">/</span>html<span class="token operator">/</span>body<span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">/</span>div<span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">/</span>div<span class="token operator">/</span>div<span class="token operator">/</span>label<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>'<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

                # ç‚¹å‡»å‘é€æ–‡ç« 
                self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">find_element</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span> '<span class="token operator">/</span>html<span class="token operator">/</span>body<span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">/</span>div<span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">/</span>button<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>'<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

                # é˜²æ­¢å‡ºç°æç¤ºï¼Œé˜»ç¢è¿›ç¨‹
                try<span class="token operator">:</span>
                    self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">find_element</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span> '<span class="token operator">/</span>html<span class="token operator">/</span>body<span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">/</span>div<span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">/</span>div<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">/</span>button<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>'<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                except<span class="token operator">:</span>
                    pass

            except<span class="token operator">:</span>
                pass

            # ç”¨tryæ¥è¿›è¡Œå¯Œæ–‡æœ¬ç¼–è¾‘æ–‡ç« çš„å‘é€
            try<span class="token operator">:</span>
                self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">execute_script</span><span class="token punctuation">(</span>'document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token operator">=</span><span class="token number">1000000</span>'<span class="token punctuation">)</span>
                time<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

                # ç‚¹å‡»ç²‰ä¸å¯è§
                self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">find_element</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span> '<span class="token comment">//div[@id="moreDiv"]/div[8]/div/label[3]/span[1]/span').click()</span>

                # ç‚¹å‡»åˆçº§
                self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">find_element</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span> '<span class="token comment">//div[@id="moreDiv"]/div[9]/div/label[1]/span[2]').click()</span>

                # ç‚¹å‡»å‘å¸ƒåšå®¢
                self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">find_element</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span> '<span class="token comment">//div[@id="moreDiv"]/div[10]/div/div/div[2]/button').click()</span>

                time<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
                # é˜²æ­¢å‡ºç°æç¤ºï¼Œé˜»ç¢è¿›ç¨‹
                try<span class="token operator">:</span>
                    self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span><span class="token function">find_element</span><span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span> '<span class="token comment">//div[@id="moreDiv"]/div[10]/div/div/div[2]/button').click()</span>
                except<span class="token operator">:</span>
                    pass
            except<span class="token operator">:</span>
                pass

            time<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

    def <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token operator">:</span>
        self<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span><span class="token function">parse_page</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

csdn <span class="token operator">=</span> <span class="token function">CSDN</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
csdn<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_193"></a>æ¼”ç¤ºè¯´æ˜</h4> 
<ul><li>è¿è¡Œç¨‹åºæ–‡ä»¶åï¼Œä¼šæ‰“å¼€CSDNç™»å½•ç•Œé¢ï¼Œseleniumæºå¸¦ç™»é™†åçš„cookieï¼Œè‡ªåŠ¨ç™»å½•ã€‚</li><li>å½“ç½‘é¡µåœç•™åœ¨ä»¥ä¸‹ç•Œé¢æ—¶ï¼Œ<strong>ç”¨æˆ·è‡ªåŠ¨é€‰æ‹©ä¸“æ ï¼Œå¹¶ç‚¹å‡»æœç´¢ã€‚</strong><br> <img src="https://images2.imgbox.com/b5/be/jgJmvU9y_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>è¿™æ—¶ï¼Œå†è¿”å›åˆ°ç¨‹åºç•Œé¢ï¼Œçœ‹åˆ°æœ‰â€œè¾“å…¥1ç»§ç»­ï¼šâ€çš„è¾“å…¥æç¤ºï¼Œè¿™æ˜¯ä¸ºäº†è®¾ç½®ä¸€ä¸ªç­‰å¾…ã€‚ç”¨æˆ·è¾“å…¥1åç¨‹åºå°±è‡ªåŠ¨è¿è¡Œã€‚</li></ul> 
<p>å½“ç„¶ï¼Œç¨‹åºä¸­å¯èƒ½è¿˜æœ‰ä¸å®Œå–„çš„åœ°æ–¹ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œæ”¹å–„æˆ–æå‡ºå»ºè®®å“ˆï¼</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3d11a0e908d09f63a423259d40b3f15c/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">MySQLä¹‹åº“è¡¨è®¾è®¡ç¯‡ï¼šä¸€ã€äºŒã€ä¸‰ã€å››ã€äº”èŒƒå¼ã€BCèŒƒå¼ä¸åèŒƒå¼è¯¦è§£ï¼</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/60011a56733963fa5f057ef81e2c2713/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">ã€SQLiteã€‘SQLiteæ•°æ®åº“çš„å†…è¿æ¥INNER JOINã€å·¦è¿æ¥LEFT JOINã€å³è¿æ¥RIGHT JOINå’Œäº¤å‰è¿æ¥CROSS JOIN å…³é”®å­—</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹ä¸­å›½çš„åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>