<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>视频FMS服务器带宽成本分析 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="视频FMS服务器带宽成本分析" />
<meta property="og:description" content="一、现状 调查了一下，主要有两种主流方式，WebRTC或者Flash。
1. WebRTC（不支持IE浏览器，已排除）：网页实时通信（英语：Web Real-Time Communication）的缩写，是一个支持网页浏览器进行实时语音对话或视频对话的API。它于2011年6月1日开源并在Google、Mozilla基金会、Opera支持下已经成为ISO通信标准，跨平台（pc，安卓，iso），是未来趋势。
2. Flex&#43;FMS方式实现（采用），优点是：FMS服务器是Adobe公司开发的基于Flash技术的主要支持流媒体的服务器软件，技术优势明显，方便的流媒体应用实现方式，稳定的运行状态。缺点，FMS是付费的，而且价格不菲（中文版价格￥65400）。
二、数据流量分析（FMS） 互联网的音视频传输主要测算方式是根据画面分辨率及其压缩比得出的码流（Data Rate）来计算视频数据量的负载。首先，要明确一下几点问题：
1、 通常一个在线观众要流畅的观看标清视频需要大概30k~40k的带宽流量。
2、 带宽的换算方法是128k的流量需要1M的网络带宽。
3、 服务器所要负载的带宽是按可承载的最高并发流量计算出来的。并发流量是指同时访问资源的流量值，如果是利用FMS技术，要想满足并发流量的需求就需要将流量累加。如100人同时访问视频资源则可计算出：
100人 * 30k = 3000k
3000k ÷ 128k/M = 23.4M(约20M带宽)
如果网站的视频观众最高并发量时达到100人，就需要至少20M的带宽；
如果网站的视频观众最高并发量时达到1000人，就需要至少200M的带宽；
如果网站的视频观众最高并发量时达到5000人，就需要至少1000M的带宽；
目前，国内正规服务器提供商常规配置：
30M宽带费用3万元/年（阿里云4核8G内存），
50M宽带费用5万元/年（阿里云4核8G内存），
100M带宽费用10万元/年（阿里云4核8G内存）。
以上测算均为理论值，并且是满负荷计算，在实际运营中服务器不会仅考虑满负荷和理论情况，大都在该基础上采用成倍数量级的服务器带宽资源来保障运行安全。
三、P2P（FMS5.0） P2P技术可以解决流量过大的问题。FMS5.0以前可以用FMS&#43;stratus（也是adobe的技术）来实现p2p视频，网上说理论上可以节省70%~90%的流量。从现在查到的资料来看FMS5.0以后也可以实现p2p.
所以说，按照上一节的结果，如果100人在线的话，
30M*(10%~30%) ≈ 3M~10M,一年的服务器费用大概在10000元。
四、开发费用： 1. FMS授权：60000元
2. 服务器费用：10000元
合计：70000元 五、开发周期：2~3人月。 1. Demo中实现基本视频功能：5人天（0.25人月）
2. Demo实现p2p功能：10人天（0.5人月）
3. 整理分析网站视频模块需求：2人天（0.1人月）
4. 实现网站视频模块需求：20人天（1人月）
5. 测试，完善5天（0.25人月）。
6. 部署并排查5天（0.25人月）
合计，2.35人月。
2014-02-14
转载于:https://www.cnblogs.com/ustcyc/p/3549695.html" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/af32f7397bbfaded6593fabd6e574a8e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-02-14T15:45:00+08:00" />
<meta property="article:modified_time" content="2014-02-14T15:45:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">视频FMS服务器带宽成本分析</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body"> 
 <h3>一、现状</h3> 
 <p class="p0">调查了一下，主要有两种主流方式，WebRTC或者Flash。</p> 
 <p class="p0">1. WebRTC（不支持IE浏览器，已排除）：网页实时通信（英语：Web Real-Time Communication）的缩写，是一个支持网页浏览器进行实时语音对话或视频对话的API。它于2011年6月1日开源并在Google、Mozilla基金会、Opera支持下已经成为ISO通信标准，跨平台（pc，安卓，iso），是未来趋势。</p> 
 <p class="p0">2. Flex+FMS方式实现（采用），优点是：FMS服务器是Adobe公司开发的基于Flash技术的主要支持流媒体的服务器软件，技术优势明显，方便的流媒体应用实现方式，稳定的运行状态。缺点，FMS是付费的，而且价格不菲（中文版价格￥65400）。</p> 
 <h3>二、数据流量分析（<span style="font-family:Cambria;">FMS</span><span style="font-family:'宋体';">）</span></h3> 
 <p class="p0">互联网的音视频传输主要测算方式是根据画面分辨率及其压缩比得出的码流（Data Rate）来计算视频数据量的负载。首先，要明确一下几点问题：</p> 
 <p class="p15">1、 通常一个在线观众要流畅的观看标清视频需要大概30k~40k的带宽流量。</p> 
 <p class="p15">2、 带宽的换算方法是128k的流量需要1M的网络带宽。</p> 
 <p class="p15">3、 服务器所要负载的带宽是按可承载的最高并发流量计算出来的。并发流量是指同时访问资源的流量值，如果是利用FMS技术，要想满足并发流量的需求就需要将流量累加。如100人同时访问视频资源则可计算出：</p> 
 <p class="p15">100人  *   30k     =  3000k</p> 
 <p class="p15">3000k  ÷  128k/M  =  23.4M(约20M带宽)</p> 
 <p class="p15">如果网站的视频观众最高并发量时达到100人，就需要至少20M的带宽；</p> 
 <p class="p15">如果网站的视频观众最高并发量时达到1000人，就需要至少200M的带宽；</p> 
 <p class="p15">如果网站的视频观众最高并发量时达到5000人，就需要至少1000M的带宽；</p> 
 <p class="p15">目前，国内正规服务器提供商常规配置：</p> 
 <p class="p15">30M宽带费用3万元/年（阿里云4核8G内存），</p> 
 <p class="p15">50M宽带费用5万元/年（阿里云4核8G内存），</p> 
 <p class="p15">100M带宽费用10万元/年（阿里云4核8G内存）。</p> 
 <p class="p15">以上测算均为理论值，并且是满负荷计算，在实际运营中服务器不会仅考虑满负荷和理论情况，大都在该基础上采用成倍数量级的服务器带宽资源来保障运行安全。</p> 
 <h3>三、<span style="font-family:Cambria;">P2P</span>（<span style="font-family:Cambria;">FMS</span>5.0）</h3> 
 <p class="p0">P2P技术可以解决流量过大的问题。FMS5.0以前可以用FMS+stratus（也是adobe的技术）来实现p2p视频，网上说理论上可以节省70%~90%的流量。从现在查到的资料来看FMS5.0以后也可以实现p2p.</p> 
 <p class="p0">所以说，按照上一节的结果，如果100人在线的话，</p> 
 <p class="p0">30M*(10%~30%) ≈ 3M~10M,一年的服务器费用大概在10000元。</p> 
 <h3>四、开发费用：</h3> 
 <p class="p0">1. FMS授权：60000元</p> 
 <p class="p0">2. 服务器费用：10000元</p> 
 <p class="p0">合计：70000元  </p> 
 <h3>五、开发周期：<span style="font-family:Cambria;">2~3</span><span style="font-family:'宋体';">人月。</span></h3> 
 <p class="p0">1. Demo中实现基本视频功能：5人天（0.25人月）</p> 
 <p class="p0">2. Demo实现p2p功能：10人天（0.5人月）</p> 
 <p class="p0">3. 整理分析网站视频模块需求：2人天（0.1人月）</p> 
 <p class="p0">4. 实现网站视频模块需求：20人天（1人月）</p> 
 <p class="p0">5. 测试，完善5天（0.25人月）。</p> 
 <p class="p0">6. 部署并排查5天（0.25人月）</p> 
 <p class="p0">合计，2.35人月。</p> 
 <p class="p15"> </p> 
 <p class="p15">2014-02-14</p> 
 <p class="p15"> </p> 
</div> 
<p>转载于:https://www.cnblogs.com/ustcyc/p/3549695.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/eabc26639bcb56cbd112a20a489e5b99/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">题目：输入一个链表的头结点，从尾到头反过来输出每个结点的值。</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/604f03e724bbd4b71b8ffc0b1168b698/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Eclipse中python代码文件支持中文</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>