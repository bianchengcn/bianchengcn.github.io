<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Xcelium XRUN用户手册 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Xcelium XRUN用户手册" />
<meta property="og:description" content="Xcelium XRUN User Guide
Product Version 22.09
September 2022
Document Last Updated: May 2022
Contents
1 Overview
1.1 How xrun Works
1.2 File Type Support
1.3 Recompilation and Re-Elaboration
1.3.1 Debugging Recompilation and Re-Elaboration
1.4 Displaying and Replaying the xrun History
1.4.1 Saving the xrun History
1.4.2 Disabling the xrun History
1.5 IP Protection
1.6 Running xrun in Prep Mode
1.7 Support for Compressed Files
2 Getting Help on XRUN" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/e5ceadbaf37ad335259fb48e089ecf31/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-17T09:05:16+08:00" />
<meta property="article:modified_time" content="2022-07-17T09:05:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Xcelium XRUN用户手册</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>Xcelium XRUN User Guide<br> Product Version 22.09<br> September 2022<br> Document Last Updated: May 2022<br> Contents<br> 1 Overview<br> 1.1 How xrun Works<br> 1.2 File Type Support<br> 1.3 Recompilation and Re-Elaboration<br> 1.3.1 Debugging Recompilation and Re-Elaboration<br> 1.4 Displaying and Replaying the xrun History<br> 1.4.1 Saving the xrun History<br> 1.4.2 Disabling the xrun History<br> 1.5 IP Protection<br> 1.6 Running xrun in Prep Mode<br> 1.7 Support for Compressed Files<br> 2 Getting Help on XRUN<br> 2.1 Getting Help on Tool Messages<br> 2.2 Getting Help on Command-Line Options<br> 2.2.1 Checking for Compatible Options Using the xrun Command<br> 2.2.2 Available xrun Help Options<br> 2.2.3 Using the Online Help<br> 3 The XRUN Command<br> 3.1 Command Syntax<br> 3.2 Managing Your xrun Command<br> 3.2.1 Using the XRUNOPTS hdl.var Variable<br> 3.2.2 Using an Arguments File<br> 3.3 Input Files<br> 3.3.1 Specman Input Files<br> 3.3.2 Custom File Extensions for Input Files<br> 3.4 Command-Line Options<br> 3.4.1 Executable Options Not Defined in xrun<br> 3.4.2 Command-Line Options Specific to xrun<br> 3.4.3 -roelab<br> 3.4.4 -rwelab<br> 3.4.5 Supported Datatypes<br> 3.4.6 IXCOM Command-Line Options<br> 3.4.7 OVM Command-Line Options<br> 3.4.8 Specman Command-Line Options<br> 3.4.9 UVM Command-Line Options<br> 3.5 Example xrun Commands<br> 4 Customizing XRUN<br> 4.1 Changing the Default Set of File Extensions<br> 4.2 Changing the Name of the xcelium.d Directory<br> 4.3 Changing the Path to the xcelium.d Directory<br> 4.4 Changing the Name of the Work Library<br> 4.5 Compiling into Multiple Libraries<br> 4.5.1 Specifying the Source Files to be Compiled<br> 4.5.2 Specifying the Library<br> 4.5.3 Precompiling Files and Referencing the Library<br> 4.5.4 Precompiling a Read-Only Library for Elaboration<br> 4.5.5 Enabling Parallel MAKELIB Compilation<br> 4.5.6 Using Other Options Within a MAKELIB Collection<br> 4.5.7 Examples<br> 4.6 Specifying a Snapshot Name<br> 4.7 Changing the Storage Location of Scratch Area Files<br> 4.8 Compiling Source Files with Specific Options<br> 4.9 Specifying Enhanced Recompilation<br> 4.10 Customizing Crash Reports<br> 4.10.1 Specifying a Runtime Debugger<br> 4.10.2 Crash Trend Reporting<br> 4.10.3 Reporting Additional Crash Data<br> 4.10.4 Customizing the Crash Report Name<br> 4.11 Changing the Severity of Messages<br> 4.11.1 Using a Control File to Change the Severity Level<br> 5 Compatibility with Existing Use Models<br> 5.1 XMVerilog<br> 5.2 Compatibility with xmverilog for Mixed-Language<br> 5.3 Multi-Step Mode Simulation<br> 5.4 SystemVerilog<br> 5.5 Verilog and VHDL AMS<br> 5.6 Specman<br> 5.6.1 Verilog Example<br> 5.6.2 VHDL Example<br> 5.6.3 Mixed-Language Example<br> 5.7 C and C++ Files<br> 5.7.1 SystemC<br> 5.7.2 PLI/VPI/VHPI/CIF<br> 5.7.3 DPI<br> 5.7.4 Example<br> 5.8 Xcelium HDL Analysis (HAL)<br> 5.9 Debugging HDL and e Code<br> 6 Multi-Core Lite<br> 6.1 Supported Platforms<br> 6.2 Licensing<br> 6.3 Specifying Multi-Core Lite on the Command Line<br> 6.4 Debugging Multi-Core Lite<br> 7 Library Management<br> 7.1 The -v and -y Library Management Scheme<br> 7.1.1 Using Library Files<br> 7.1.2 Using Library Directories<br> 7.1.3 Compiling -v and -y Modules into a Single Library<br> 7.1.4 Checking the Syntax of Library Files<br> 7.1.5 File Extensions in Library Directories<br> 7.1.6 Library Scan Precedence<br> 7.2 Support for Compilation Units in Library Files<br> 7.2.1 Protecting Compilation Unit Scope Elements</p> 
<h2><a id="Overview_98"></a>Overview综述</h2> 
<p>通过在单个命令行上指定所有输入文件和命令行选项，xrun实用程序允许您使用单核或多核引擎运行Xcelium模拟器。通过单核引擎，此实用程序简化了调用过程，允许您使用一个工具进行仿真，而不是单独执行多个工具来拼凑一个快照，然后可以使用xmsim手动仿真该快照。<br> xrun从不同的仿真语言获取文件，如Verilog、SystemVerilog、VHDL、Verilog AMS、VHDL AMS、Specman e，以及用通用编程语言(如C和c++)编写的文件，并使用适当的编译器对它们进行编译。编译完输入文件后，xrun自动调用xmelab来精细设计，然后自动调用xmsim模拟器。<br> 使用xrun的最基本方法是在命令行上列出将组成仿真的文件，以及xrun将传递给适当的编译器、精化器和模拟器的所有命令行选项。例如:<br> <code>% xrun -ieee1364 -v93 -access +r -gui verify.e top.v middle.vhd sub.v</code></p> 
<p>在这个实例中：</p> 
<ul><li>文件top.v和sub.v被识别为Verilog文件，并由Verilog解析器xmvlog编译。将-ieee1364选项传递给xmvlog编译器。</li><li>文件middle.vhd被识别为VHDL文件，由VHDL解析器xmvhdl编译。-v93选项被传递给xmvhdl编译器。</li><li>文件verify.e被识别为Specman e文件，并使用sn_compile.sh进行编译。</li><li>编译文件之后，然后xrun调用xmelab来详细设计。-access选项被传递给精细器以提供对仿真对象的读访问。</li><li>精细器生成仿真快照后，将使用SimVision和Specview图形用户界面调用xmsim。<br> 使用xrun帮助系统获取与工具相关的命令行选项的信息。在Getting Help on XRUN上获取帮助选项。<br> 有两个选项对于获取工具特定选项的信息特别有用:-helpshowsubject，它显示可执行文件列表和其他可用帮助的主题，以及-helpsubject，它显示选定主题的选项列表。例如:</li></ul> 
<pre><code>% xrun -helpshowsubject
...
Arguments for -helpsubject
xmvlog
xmvhdl
xmelab
xmsim
sn_compile.sh
xmsc_run
hal
formalbuild
formalverifier
amsspice
xrun
...
...
% xrun -helpsubject xmvlog
Options for requested subject: xmvlog
...
-allowredefinition Allow multiple files to define the same object
-ams Enable Verilog-AMS compilation
-assert Enable PSL language features
-assert_vlog Enable PSL language features
-cbnoforwardclockingevent Disable forward reference for clocking events
-cd_lexpragma Process preprocessor directive before lex pragmas
-cds_implicit_tmpdir Specify location for design data storage
...
</code></pre> 
<p>除了特定于工具的选项外，还可以包括修改xrun实用程序行为的选项。xrun相关选项在The XRUN Command中描述。</p> 
<h3><a id="11_xrun_142"></a>1.1 xrun如何工作</h3> 
<p>本节总结xrun的工作方式以及默认情况下的情况<br> 当你第一次使用xrun命令运行仿真器时，它:<br> 1.创建一个名为xcelium.d的临时目录。<br> 2.在xcelium.d目录下创建一个临时子目录称为：<br> <code>run.&lt;platform | platform.64&gt;.&lt;xrun_version&gt;.d</code><br> 例如:<br> <code>run.lnx86.17.04.d/</code><br> xrun在这个子目录下创建文件和目录，以支持工具操作。为了方便起见，创建一个名为run.d的符号链接，指向这个xrun 临时子目录。<br> 3.解析命令行。<br> 4.为命令行中指定的每个文件调用适当的编译器。</p> 
<ul><li>在HDL设计文件中包含的设计单元被编译到工作库xcelium.d/worklib中。</li><li>在-y库或-v库文件中指定的Verilog设计单元被编译成具有相同名称的库。这些库存储在run.d/xllibs的子目录中。</li><li>Specman e编译器sn_compile.sh的输出存储在run.d目录下的子目录中。<br> 例如，以下命令编译top.v到工作库(xcelium.d/worklib)。在./libs中的设计单元被编译到称为(xcelium.d/run.d/xllibs/libs)库中。在./models中的设计单元被编译为称为(xcelium.d/run.d/xllibs/models)的库中。<br> <code>% xrun top.v -y ./libs -y ./models +libext+.v</code><br> 注意: 当使用-y选项时，在Verilog代码实例中请求的模块名称必须与在源目录中找到的文件名相同。使用-libext列出的文件扩展名也必须相同。如果&lt; module_name &gt;.不相同，则该工具将无法读取包含该定义的文件。</li></ul> 
<ol start="5"><li>调用elaborator (xmelab) 精细设计，且生成一个仿真快照。</li><li>调用simulator (xmsim)仿真快照。<br> 所有工具的输出都写入一个名为xrun.log的公共日志文件，该文件位于调用xrun的目录中。使用-l选项可以修改日志文件的名称。例如:<br> <code>% xrun -l run1.log ...</code><br> 要从xrun.log文件重定向某些可执行文件的输出，例如hal或xmsim，请参阅-log_*command-line options。</li></ol> 
<h3><a id="12__165"></a>1.2 支持的文件类型</h3> 
<p>在xrun命令行中可以指定以下文件类型:</p> 
<ul><li>Verilog</li><li>SystemVerilog</li><li>VHDL</li><li>Specman e</li><li>Specman e-library</li><li>Verilog AMS</li><li>VHDL AMS</li><li>C or C++ or SystemC</li><li>Compiled object files (.o), compiled archives (.a), and dynamic libraries (.so, .sl)</li><li>SPICE files<br> xrun命令行界面得到了增强，可以使用IXCOM工具编译仿真加速的设计。这个界面类似于xrun使用Xcelium Single Core仿真器编译设计的模型。</li></ul> 
<h3><a id="13__179"></a>1.3 重新编译和重新精细</h3> 
<p>当再次调用xrun时(也就是说使用现存的xcelium.d临时目录)，工具自动确定是否有任何更改需要重新编译然后重新精细，或者设计快照只需要重新精细。<br> 默认情况下，xrun使用安全的重新编译策略，它检查时间戳和快照信息，以确定何时应该再次运行编译和精细。您不需要指定命令行选项来使用默认流。<br> 或者，您可以指定一种增强的重新编译策略，它可以提供比默认流更好的性能。这个增强的流要求在xrun命令行中包含-fast_recompilation选项。有关增强重新编译的详细信息，请参见指定Specifying Enhanced Recompilation。<br> 对于默认或增强流，xrun将直接进行仿真如果：</p> 
<ul><li>自上次编译输入文件以来，输入文件的内容没有更改。这包括-f或-f参数文件、Verilog -v库文件和-y目录，以及任何’ include文件的内容。</li><li>命令行中输入文件的顺序是相同的，包括Verilog -v库文件和-y目录的顺序。</li><li>命令行选项是相同的，或者，如果它们不同，所做的更改不会影响不同语言编译器或xmelab的输出。<br> 例如，一些选项，如+gui和-s，只影响运行时行为。从命令行添加或删除它们不会导致重新编译或重新精细。但是，添加、删除或更改其他可能影响编译或精细的选项(例如，删除-notimingchecks选项或更改-access +r为-access +rw)将强制重新编译或精细。</li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fc89175bfdb5f9cdad0b2173e9d6be36/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">工具类代码</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8be36f55e9e36ba3aca07ed138fff500/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">西门子博图安装期间反复重启的问题处理</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>