<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C. Closest Cities - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C. Closest Cities" />
<meta property="og:description" content="有n个城市位于数字线上，第i个城市位于点ai。城市的坐标是按升序排列的，a1 &lt; a2 &lt; a3 &lt; …… &lt; an。
两个城市 x 和 y 之间的距离等于|ax−ay|。
对于每个城市 i，让我们将最近的城市 j 定义为城市，使得 i 和 j 之间的距离不大于 i 和每个其他城市k之间的距离。例如，如果城市位于点[0,8,12,15,20]，则：
距离城市1最近的城市是城市2；
距离城市2最近的城市是城市3；
距离城市3最近的城市是城市4；
距离城市4最近的城市是城市3；
距离城市5最近的城市是城市4。
城市的位置是这样的，对于每个城市来说，最近的城市都是独一无二的。例如，城市不可能位于点[1，2，3]中，因为这意味着城市2具有两个最近的城市（1和3，都具有距离1）。
你可以在城市之间旅行。假设你目前在城市x。然后您可以执行以下操作之一：
前往任何其他城市 y，支付|ax-ay|枚硬币；
前往离 x 最近的城市，支付1枚硬币。
您将收到 m 个查询。在每次查询中，您将获得两个城市，您必须计算从一个城市到另一个城市所需花费的最低硬币数量。
输入
第一行包含一个整数 t（1 ≤ t ≤ 1e4）——测试用例的数量。
每个测试用例的格式如下：
第一行包含一个整数 n（2 ≤ n ≤ 1e5）；
第二行包含 n 个整数 a1，a2，…，an（0 ≤a1＜a2＜…＜an≤ 1e9）；
第三行包含一个整数 m（1 ≤ m ≤ 1e5）；
接下来 m 行，其中第i个包含两个整数 xi 和 yi(1≤xi，yi≤n；xi≠yi)，表示在第i个查询中，您必须计算从 xi 市到 yi 市所需花费的最小硬币数。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/917b043426415975c2d13c4bee91734c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-26T21:33:01+08:00" />
<meta property="article:modified_time" content="2024-01-26T21:33:01+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C. Closest Cities</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>有n个城市位于数字线上，第i个城市位于点ai。城市的坐标是按升序排列的，a1 &lt; a2 &lt; a3 &lt; …… &lt; an。<br> 两个城市 x 和 y 之间的距离等于|ax−ay|。</p> 
<p>对于每个城市 i，让我们将最近的城市 j 定义为城市，使得 i 和 j 之间的距离不大于 i 和每个其他城市k之间的距离。例如，如果城市位于点[0,8,12,15,20]，则：<br> 距离城市1最近的城市是城市2；<br> 距离城市2最近的城市是城市3；<br> 距离城市3最近的城市是城市4；<br> 距离城市4最近的城市是城市3；<br> 距离城市5最近的城市是城市4。<br> 城市的位置是这样的，对于每个城市来说，最近的城市都是独一无二的。例如，城市不可能位于点[1，2，3]中，因为这意味着城市2具有两个最近的城市（1和3，都具有距离1）。</p> 
<p>你可以在城市之间旅行。假设你目前在城市x。然后您可以执行以下操作之一：<br> 前往任何其他城市 y，支付|ax-ay|枚硬币；<br> 前往离 x 最近的城市，支付1枚硬币。</p> 
<p>您将收到 m 个查询。在每次查询中，您将获得两个城市，您必须计算从一个城市到另一个城市所需花费的最低硬币数量。</p> 
<p>输入<br> 第一行包含一个整数 t（1 ≤ t ≤ 1e4）——测试用例的数量。<br> 每个测试用例的格式如下：<br> 第一行包含一个整数 n（2 ≤ n ≤ 1e5）；<br> 第二行包含 n 个整数 a1，a2，…，an（0 ≤a1＜a2＜…＜an≤ 1e9）；<br> 第三行包含一个整数 m（1 ≤ m ≤ 1e5）；<br> 接下来 m 行，其中第i个包含两个整数 xi 和 yi(1≤xi，yi≤n；xi≠yi)，表示在第i个查询中，您必须计算从 xi 市到 yi 市所需花费的最小硬币数。<br> 对输入的附加约束：在每个测试用例中，对于每个城市，唯一地确定最近的城市；所有测试用例的 n 之和不超过1e5；所有测试用例的 m 之和不超过1e5。</p> 
<p>输出<br> 对于每个查询，打印一个整数——您必须花费的最小硬币数量。</p> 
<p>Input<br> 1<br> 5<br> 0 8 12 15 20<br> 5<br> 1 4<br> 1 5<br> 3 4<br> 3 2<br> 5 1</p> 
<p>Output<br> 3<br> 8<br> 1<br> 4<br> 14</p> 
<p>注意：<br> 让我们考虑示例中的前两个查询：<br> 在第一个查询中，您最初位于城市1。您可以支付1枚硬币前往最近的城市（即城市2）。然后你再次前往最近的城市（即城市3），支付1枚硬币。然后你再次前往最近的城市（即城市4），支付1枚硬币。你总共花了3个硬币从城市1到城市4；<br> 在第二个查询中，您可以使用相同的方式从城市1到城市4，然后花费5个硬币从城市4到城市5。</p> 
<p><strong>解析：</strong></p> 
<p>正常维护前缀和，后缀和就行。不过要记住<span style="color:#fe2c24;"><strong>初始化 s[1]=0,p[n]=0 ！！！！</strong></span></p> 
<pre><code class="hljs">#include &lt;bits/stdc++.h&gt;
using namespace std;
#define int long long
#define endl '\n'
#define ios ios::sync_with_stdio(false),cin.tie(nullptr),cout.tie(nullptr);
int gcd(int a,int b) { return b? gcd(b,a%b) : a; }
typedef pair&lt;int,int&gt; PII;
const double PI=acos(-1.0);
const int N=2e6+10;
int n,m;
int a[N],s[N],p[N];
void solve()
{
    cin&gt;&gt;n;
    for (int i=1;i&lt;=n;i++) cin&gt;&gt;a[i];
    s[1]=p[n]=0;
    s[2]=1;
    for (int i=3;i&lt;=n;i++)
    {
        int l=abs(a[i-1]-a[i-2]),r=abs(a[i]-a[i-1]);
        if (r&lt;l) s[i]=s[i-1]+1;
        else s[i]=s[i-1]+r;
    }
    p[n-1]=1;
    for (int i=n-2;i&gt;0;i--)
    {
        int l=abs(a[i+1]-a[i]),r=abs(a[i+2]-a[i+1]);
        if (l&lt;r) p[i]=p[i+1]+1;
        else p[i]=p[i+1]+l;
    }
    for (int i=1;i&lt;=n;i++) cout&lt;&lt;s[i]&lt;&lt;" ";
    cout&lt;&lt;endl;
    for (int i=1;i&lt;=n;i++) cout&lt;&lt;p[i]&lt;&lt;" ";
    cout&lt;&lt;endl;
    cin&gt;&gt;m;
    while (m--)
    {
        int x,y;
        cin&gt;&gt;x&gt;&gt;y;
        if (x&lt;y) cout&lt;&lt;s[y]-s[x]&lt;&lt;endl;
        else cout&lt;&lt;p[y]-p[x]&lt;&lt;endl;
    }
}
signed main()
{
    ios;
    int T=1;
    cin&gt;&gt;T;
    while (T--) solve(); 
    return 0;
}</code></pre> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/16ad7397b73b7705bdccfd33efbf66d1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">数组函数调用、strcpy、strcat、strcmp、strlen函数编写———C语言（day11）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1fed8721dbdeec47314877fe0b07d893/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">20240126请问在ubuntu20.04.6下让GTX1080显卡让whisper工作在large模式下？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>