<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vue-router - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Vue-router" />
<meta property="og:description" content="简介 是一个vue官方出品的 管理组件切换 的 插件
路由，用来找路。管理路径之间的切换，不同url对应不同的组件核心思想：在同一个页面根据url进行组件切换，类似动态组件, 最终在 router-view 处出口路由一般最多3级版本对应: vue2 对应 v3.x | vue3 对应 v4.x 区分路由 前端路由 (hash路由)
在同一个html页面, 显示不同的内容(组件). 进而建立了URL和组件之间的对应关系
在同一个页面, 借助锚链接实现同一页面的不同部分的跳转
第一章: http://localhost:5500/index.html#chap1
第二章: http://localhost:5500/index.html#chap2
像#chap1, #chap2...这样的锚链接, 也叫做hash路由 也称为前端路由
后端路由
提供接口(数据)服务, 将不同请求方式&#43;url, 映射到处理函数. 建立了URL和处理函数之间的对应关系
入门案例🟢 Vue三步
引入vue.js创建页面容器实例vue实例 VueRouter
引入vue-router.js定义组件对象定义路由规则routes route: 路由规则, URL和组件的对应关系routes: 由路由规则组成的数组 定义创建路由对象router 用于管理路由规则 挂载router到根实例 改造html
编写路由链接 router-link编写路由出口 router-view &lt;!DOCTYPE html&gt; &lt;html lang=&#34;en&#34;&gt; &lt;head&gt; &lt;meta charset=&#34;UTF-8&#34; /&gt; &lt;meta http-equiv=&#34;X-UA-Compatible&#34; content=&#34;IE=edge&#34; /&gt; &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34; /&gt; &lt;title&gt;Document&lt;/title&gt; &lt;!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/649a5b37f48793426066a8fe616c325e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-06T21:51:20+08:00" />
<meta property="article:modified_time" content="2022-11-06T21:51:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vue-router</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3 id="z2pEI">简介</h3> 
<p id="u22e2c2c5">是一个vue官方出品的 <strong>管理组件切换 </strong>的 <strong>插件</strong></p> 
<ul><li id="u7dc6938f">路由，用来找路。管理路径之间的切换，不同url对应不同的组件</li><li id="u4294be19">核心思想：在同一个页面根据url进行组件切换，类似动态组件, 最终在 router-view 处出口</li><li id="uee6e2f1f">路由一般最多3级</li><li id="ub4684c7d">版本对应: vue2 对应 v3.x | vue3 对应 v4.x</li></ul> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/2e/ca/Pp3zYny2_o.png"></p> 
<h4 id="brGPm">区分路由</h4> 
<p>前端路由 (hash路由)</p> 
<p id="u2c9cf67c">在同一个html页面, 显示不同的内容(组件). 进而建立了URL和组件之间的对应关系</p> 
<p id="u9ea62741">在同一个页面, 借助<code>锚链接</code>实现同一页面的不同部分的跳转</p> 
<p id="ud807a503">第一章: <a href="http://localhost:5500/index.html#chap1" rel="nofollow" title="http://localhost:5500/index.html#chap1">http://localhost:5500/index.html#chap1</a></p> 
<p id="u5063ab11">第二章: <a href="http://localhost:5500/index.html#chap2" rel="nofollow" title="http://localhost:5500/index.html#chap2">http://localhost:5500/index.html#chap2</a></p> 
<p id="ud5eebad9">像<code>#chap1</code>, <code>#chap2</code>...这样的锚链接, 也叫做<code>hash路由</code> 也称为<code>前端路由</code></p> 
<p>后端路由</p> 
<p id="u17ed546d">提供接口(数据)服务, 将不同请求方式+url, 映射到处理函数. 建立了URL和处理函数之间的对应关系</p> 
<h3 id="vtW9M">入门案例🟢</h3> 
<p id="u9c86bd53">Vue三步</p> 
<ul><li id="u36ea2ece">引入vue.js</li><li id="u35726385">创建页面容器</li><li id="ue6076a75">实例vue实例</li></ul> 
<p id="u97597f46">VueRouter</p> 
<ul><li id="u32d018b2">引入vue-router.js</li><li id="u83678d52">定义组件对象</li><li id="u622b7d0c">定义路由规则routes</li></ul> 
<ul><li> 
  <ul><li id="u15c3f993">route: 路由规则, URL和组件的对应关系</li><li id="ud9be0b8a">routes: 由路由规则组成的数组</li></ul></li></ul> 
<ul><li id="u31085abe">定义创建路由对象router</li></ul> 
<ul><li> 
  <ul><li id="u29fa9dc8">用于管理路由规则</li></ul></li></ul> 
<ul><li id="u451f68e7">挂载router到根实例</li></ul> 
<p id="u83cf00cc">改造html</p> 
<ul><li id="u166166e9">编写路由链接 router-link</li><li id="u78b1415d">编写路由出口 router-view</li></ul> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;!-- 一、vue三步，CDN --&gt;
    &lt;!-- 二、编写两个组件 Home，About --&gt;
    &lt;!-- 三、使用vue-router管理路由（组件间切换）--&gt;
    &lt;!-- 1.1 引入vue.js --&gt;
    &lt;script src="https://unpkg.com/vue@2"&gt;&lt;/script&gt;
    &lt;script src="https://unpkg.com/vue-router@3"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;!-- 1.2 编写页面容器 --&gt;
    &lt;div id="app"&gt;
      &lt;!-- 配置路由出口 --&gt;
      &lt;!-- &lt;a href="#/home"&gt;首页&lt;/a&gt;
      &lt;a href="#/about"&gt;相关&lt;/a&gt; --&gt;

      &lt;!-- 改变url，找到组件，并渲染到 --&gt;
      &lt;router-link to="home" tag="div"&gt;首页&lt;/router-link&gt;
      &lt;router-link to="about"&gt;相关&lt;/router-link&gt;
      &lt;router-view&gt;&lt;/router-view&gt;
    &lt;/div&gt;
    &lt;!-- 1.3 创建vue根实例 --&gt;
    &lt;script&gt;
      //定义组件对象
      const Home = {
        template: '&lt;div&gt;home子组件&lt;/div&gt;',
      }
      const About = {
        template: '&lt;div&gt;about子组件&lt;/div&gt;',
      }

      //3.2 创建路由规则（url -&gt; 组件对应关系）
      const routes = [
        { path: '/home', component: Home },
        { path: '/about', component: About },
      ]

      //3.3 创建VueRouter实例（路由器）
      const router = new VueRouter({
        routes: routes,
      })

      // 3.4 将路由对象挂载到根实例
      const vm = new Vue({
        el: '#app',
        router: router
      })
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre> 
<h3 id="MjpAP">集成到项目中</h3> 
<p id="u1fce786b">安装</p> 
<pre id="fQmrb"> npm i vue-router@3</pre> 
<p id="u4adda5b4">vue2 安装 vue-router3.x</p> 
<p id="uce9d6a0b">vue3 安装 vue-router4.x</p> 
<h4 id="wn0Id">手动集成</h4> 
<ol><li id="ub0192914">安装</li><li id="u6828b35b">创建路由文件 src/router/index.js</li><li id="ud84a356d">在main.js中导入路由对象</li><li id="u5811465a">创建页面级路由文件</li><li id="ua02c210d">编写路由规则</li><li id="uc1652b56">在app.vue中配置路由出口</li></ol> 
<p id="u8ab3baa1">VueRouter</p> 
<ul><li id="ua697945f">引入</li><li id="u919ecba8">定义组件对象</li><li id="u2c0c4cac">定义路由规则routes</li><li id="ucfec27f1">定义创建路由对象router</li><li id="u7bb840d8">挂载router到根实例</li></ul> 
<pre><code class="language-javascript">//最核心的内容，导出VueRouter对象
import Vue from 'vue'
//1. 导入VueRouter
import VueRouter from 'vue-router'

import Home from '../views/Home'
import About from '../views/About'

// debugger //在代码中打断点
//安装插件（注册router-view，router-link组件，在 Vue上挂载 $router, $route）
Vue.use(VueRouter)
//2. 创建路由规则
// 页面级组件（大）放到views，公共组件、小组件放到components
const routes = [
  { path: '/home', component: Home },
  { path: '/about', component: About },
]

//3. 创建VueRouter的实例
const router = new VueRouter({
  routes,
})

//4. 导出router实例
export default router</code></pre> 
<p id="ud0dcea98">Vue.use(VueRouter)安装插件，在vue-router的install方法中进行：</p> 
<p id="u21634432">在Vue上注册router-view、router-link组件</p> 
<p id="ub9899370">在Vue原型对象上挂载了$router $route</p> 
<p id="u7174c249">在代码中打断点：<code>debugger</code></p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;!-- 路由的出口 --&gt;
    &lt;router-view&gt;&lt;/router-view&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre> 
<pre><code class="language-javascript">// 导入路由对象
import router from './router'

new Vue({
  // 挂载
  router,
  render: (h) =&gt; h(App),
}).$mount('#app')</code></pre> 
<h4 id="u4sY6">自动集成🟢</h4> 
<p id="u6b646275">使用<code>@Vue/cli</code>工具创建项目时, 构建项目时直接选择router</p> 
<ul><li id="uff6c6be0"><code>#/about</code>hash模式</li><li id="uca2e656b"><code>/about</code> history模式（需要？支持）</li></ul> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/52/2e/GMfUaJV9_o.png"></p> 
<pre><code class="language-javascript">const routes = [
  //设置一级路由
  //login-登录页
  { path: '/login', component: () =&gt; import('@/views/Login') },
  //home-后台首页
  {
    path: '/home',
    component: () =&gt; import('@/views/Home'),
    //优化三、设置默认重定向
    redirect: '/home/article',
    children: [
      // 不写/，会跟base路由拼接，最终效果/home/article
      { path: 'about', component: () =&gt; import('@/views/About') },
      { path: 'user', component: () =&gt; import('@/views/User') },
      // webpack分包机制/ 路由懒加载，常用，异步路由加载
      { path: 'Article', component: () =&gt; import('@/views/Article') },
      // 优化一： 提供空的子路由，覆盖路由不匹配的情况
      { path: '', component: () =&gt; import('@/views/Article') },
    ],
  },
  // 优化二： 默认路由，*要写在最下面
  { path: '*', component: () =&gt; import('@/views/NotFound') },
]</code></pre> 
<h4 id="sIgYr">案例</h4> 
<p class="img-center"><img alt="" height="160" src="https://images2.imgbox.com/e9/65/D0E4bmIC_o.gif" width="339"></p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;a href="#/todo"&gt;Todo组件&lt;/a&gt;
    &lt;a href="#/article"&gt;Article组件&lt;/a&gt;
    &lt;div class="page"&gt;
      &lt;router-view&gt;&lt;/router-view&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  export default {
    name: 'App',
  }
&lt;/script&gt;</code></pre> 
<h3 id="H1lrg">$router路由规则与$route路由对象</h3> 
<h4 id="UJLh1">路由对象</h4> 
<p id="uf7a868aa"><code>$router</code>表示路由对象</p> 
<ul><li id="u4bf6e92d">包含<code>路由规则对象</code></li><li id="u11ee9174">操作<code>路由规则对象</code> (push, replace, go)</li></ul> 
<p class="img-center"><img alt="" height="331" src="https://images2.imgbox.com/57/39/epfA3MaI_o.png" width="579"></p> 
<p class="img-center"><img alt="" height="371" src="https://images2.imgbox.com/a4/02/Yyhag6Di_o.png" width="581"></p> 
<h4 id="LVZRb">路由规则</h4> 
<p id="ucef15db3">路由对象上的<code>routes</code>数组, 构成了路由规则<code>$route</code></p> 
<ul><li id="u1d26d13a">解析URL</li></ul> 
<p>                参数</p> 
<p>                query</p> 
<ul><li id="ub35fefd4">使用其属性</li></ul> 
<p id="u677d158e">$route.path 对应 <code>router/index.js</code>中定义的路由规则</p> 
<p class="img-center"><img alt="" height="165" src="https://images2.imgbox.com/97/d5/tprgi0Un_o.png" width="549"></p> 
<p class="img-center"><img alt="" height="95" src="https://images2.imgbox.com/8d/08/dknnEkwW_o.png" width="415"></p> 
<h4 id="pF2Jq">动态路由参数🟢</h4> 
<p id="u510da19b">获取到user的id //localhost:8080/user?id=3 3</p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div&gt;
    {<!-- -->{ $route.params.id }}
  &lt;/div&gt;
&lt;/template&gt;</code></pre> 
<pre><code class="language-javascript">methods: {
  handleClick() {
      this.$router.params.id
  },
},</code></pre> 
<h3 id="Dq1cH">路由出口 router-link 与 router-view</h3> 
<ul><li id="u425d61a2">编写路由链接 router-link</li></ul> 
<ul><li> 
  <ul><li id="ua6a6043c">实现组件之间的切换</li><li id="ufb2421b3">默认情况, 被渲染为<code>a</code>元素</li><li id="ud65d6cc1">可通过指定<code>tag</code>属性, 渲染为任意元素</li></ul></li></ul> 
<pre><code class="language-html">&lt;router-link to="/todo" tag="li"&gt;
  显示Todo组件&lt;/router-link&gt;
&lt;router-link to="/article"&gt;
  显示Article组件&lt;/router-link&gt;

&lt;li&gt;显示Todo组件&lt;/li&gt;
&lt;a href="#/article"&gt;显示Article组件&lt;/a&gt;</code></pre> 
<ul><li id="u6e6b9eb8">编写路由出口 router-view</li></ul> 
<p id="udfe4926f">一级路由出口</p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;!-- 设置一级路由的出口 --&gt;

    &lt;!-- &lt;router-view&gt;&lt;/router-view&gt;--&gt;
    &lt;!-- 自闭合的组件（并非dom）写法，只有在使用构建工具时支持，双标签写法更常用 --&gt;
    &lt;router-view /&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre> 
<p id="u359191c7">二级路由出口</p> 
<pre><code class="language-html">&lt;template&gt;
&lt;div class="home-container"&gt;
  &lt;aside&gt;
    &lt;ul&gt;
      &lt;router-link to="/home/user"  tag="li"&gt;用户&lt;/router-link&gt;
      &lt;router-link to="/home/article" tag="li"&gt;文章&lt;/router-link&gt;
    &lt;/ul&gt;
  &lt;/aside&gt;
  &lt;main&gt;
    &lt;header&gt;&lt;/header&gt;
    &lt;!-- 二级路由出口，嵌套路由 --&gt;
    &lt;router-view&gt;&lt;/router-view&gt;
  &lt;/main&gt;
&lt;/div&gt;
&lt;/template&gt;</code></pre> 
<h3 id="mhoUV">编程式导航🟢</h3> 
<p id="u8a6904bf">导航</p> 
<p id="u9aff77b9">&lt;a&gt; ---声明式导航</p> 
<p id="ud9ec4380">router----编程式导航</p> 
<p id="u657d1ad5"><code>vue-router</code>两种方法</p> 
<ul><li id="u07416b6b">使用<code>router-link</code>实现导航</li><li id="u3bab9593">调用<code>$router</code>路由器的方法, 以js代码的方式进行导航</li></ul> 
<p id="ud87bcb97"></p> 
<ul><li id="u03631650"><strong>push</strong>: 会将URL压入到History记录栈中, 可以通过浏览器<code>前进</code><code>后退</code>按钮进行操作</li><li id="u85ec0962">replace: 不会将URL压入到History记录栈中</li><li id="u11fbae46">go(n): -1 退回?</li></ul> 
<pre><code class="language-html">&lt;button @click="handleClick"&gt;
  导航到Todo组件
&lt;/button&gt;</code></pre> 
<pre><code class="language-javascript">methods: {
  handleClick() {
    // 导航到/todo组件
    console.log(this.$route) // 保存当前的URL
    if (this.$route.path != '/todo') {
      this.$router.push('/todo')
    }
  },
},</code></pre> 
<p id="u3cadc72c"></p> 
<h2 id="cQAA9">应用- 搭建项目框架</h2> 
<h3 id="rPTFE">0 需求分析</h3> 
<p id="u6c45b4c0">/login</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/d6/f1/n05tphGv_o.png"></p> 
<p id="u76a83d6a">/article</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/e3/ea/MrsjHnUD_o.png"></p> 
<p id="uc332db03">/user</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/f5/c7/cWIGGS8I_o.png"></p> 
<p id="udee72561">分析:</p> 
<ul><li id="u1aebd7b2">/login 登录页面</li><li id="u30ac804e">/ 后台的首页</li></ul> 
<ul><li> 
  <ul><li id="ufc976e03">/user 显示用户管理的页面</li><li id="u1422e878">/article 显示文章管理的页面</li></ul></li></ul> 
<ul><li id="u5ab02ee6">* 404</li></ul> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/19/d3/JAjWX3Sr_o.jpg"></p> 
<h3 id="X5zJ3">1 搭建环境</h3> 
<h4 id="g5BbH">1.1 创建工程</h4> 
<pre id="vco1n">vue create admin-demo</pre> 
<p id="u22040df8">选择 Babel 与Router</p> 
<h4 id="mesMd">1.2 清理文件</h4> 
<ul><li id="uab894175">app.vue</li><li id="u2a4c0194">src/views</li><li id="u2ffb1b40">src/components</li><li id="u310f1690">src/router/index.js</li></ul> 
<h3 id="A6ouO">2 规划路由</h3> 
<h4 id="IIdn2">2.1 编写路由规则, 多级路由🟢</h4> 
<ul><li id="ufb114d41">设置一级路由.</li><li id="u4a93dcc6">配置home对应路由, 设置二级路由</li></ul> 
<pre><code class="language-javascript">const routes = [
  //设置一级路由
  //login-登录页
  { path: '/login', component: () =&gt; import('@/views/Login') },
  //home-后台首页
  {
    path: '/home',
    component: () =&gt; import('@/views/Home'),
    //优化三、设置默认重定向
    redirect: '/home/article',
    children: [
      // 嵌套路由不要写 /，否则会匹配到根路由base路由，写/是 /about, 不写是 /home/about
      { path: 'about', component: () =&gt; import('@/views/About') },
      { path: 'user', component: () =&gt; import('@/views/User') },
      // webpack分包机制/ 路由懒加载，常用，异步路由加载
      { path: 'Article', component: () =&gt; import('@/views/Article') },
      // 优化一： 提供空的子路由，覆盖路由不匹配的情况
      { path: '', component: () =&gt; import('@/views/Article') },
    ],
  },
  // 优化二： 默认路由，*要写在最下面
  { path: '*', component: () =&gt; import('@/views/NotFound') },
]</code></pre> 
<h4 id="UDzbt">2.2 创建对应的组件文件</h4> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/e7/c3/XgkzaCol_o.png"></p> 
<h4 id="YG11k">2.3 改造html (设置路由出口)</h4> 
<ul><li id="u6b053b91">编写路由链接 router-link</li><li id="ufbd44bb3">编写路由出口 router-view</li></ul> 
<p id="u7e2ee660">一级路由出口</p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;!-- 设置一级路由的出口 --&gt;

    &lt;!-- &lt;router-view&gt;&lt;/router-view&gt;--&gt;
    &lt;!-- 自闭合的组件（并非dom）写法，只有在使用构建工具时支持，双标签写法更常用 --&gt;
    &lt;router-view /&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre> 
<p id="u4a31b909">二级路由出口</p> 
<pre><code class="language-html">&lt;template&gt;
&lt;div class="home-container"&gt;
  &lt;aside&gt;
    &lt;ul&gt;
      &lt;router-link to="/home/user"  tag="li"&gt;用户&lt;/router-link&gt;
      &lt;router-link to="/home/article" tag="li"&gt;文章&lt;/router-link&gt;
    &lt;/ul&gt;
  &lt;/aside&gt;
  &lt;main&gt;
    &lt;header&gt;&lt;/header&gt;
    &lt;!-- 二级路由出口，嵌套路由 --&gt;
    &lt;router-view&gt;&lt;/router-view&gt;
  &lt;/main&gt;
&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: 'Home',
}
&lt;/script&gt;</code></pre> 
<h3 id="Z4CPn">3 优化</h3> 
<p id="uad1c0121">1：默认路由，* 要写在最下面</p> 
<p id="uedcd7611">2：默认重定向</p> 
<p id="ue3973f87">当访问后台首页时, 默认显示某一种信息(通常, 指定一个二级路由)</p> 
<p id="u7b9e273d">3：webpack分包机制/ 路由懒加载，常用，异步路由加载</p> 
<h3 id="XKWyg">4 实现界面</h3> 
<ol><li id="u0aa0a80d">实现 login 界面</li><li id="ub5e41baa">实现 404 界面</li><li id="u33701894">实现 home 界面</li></ol> 
<ul><li id="u567fdc7d">通过<code>编程式的导航</code>进行页面跳转(组件的切换)</li><li id="u304a628e">通过 <code>动态路由参数</code>(或localStorage) 进行兄弟组件间的带参跳转</li></ul> 
<ol><li id="u9a89c379">实现 article 与 user 界面</li></ol> 
<h3 id="nxE0i">5 实现菜单点击切换功能</h3> 
<p id="ud904e984">使用router-link渲染li元素, 使其具体点击切换功能</p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div class="admin-container"&gt;
    &lt;aside&gt;
      &lt;ul&gt;
        &lt;router-link to="/user" tag="li"&gt;用户管理&lt;/router-link&gt;
        &lt;router-link to="/article" tag="li"&gt;文章管理&lt;/router-link&gt;
      &lt;/ul&gt;
    &lt;/aside&gt;
    &lt;main&gt;
      &lt;header&gt;&lt;/header&gt;
      &lt;!-- 设置二级路由的出口 --&gt;
      &lt;router-view&gt;&lt;/router-view&gt;
    &lt;/main&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre> 
<h3 id="y9Zz1">6 导航守卫🟢</h3> 
<p id="u8c0fe6cc">作用:</p> 
<p>        校验权限</p> 
<p>        守护组件</p> 
<p id="ub423ee1f">扩展:</p> 
<p id="u2e1d89d0">        jwt，用token来解析身份信息，控制登录</p> 
<pre><code class="language-javascript">//设置全局前置导航守卫（url切换时执行）
router.beforeEach((to, from, next) =&gt; {
  // to：到哪个个path去， from： 从哪个path来
  let isLogin = localStorage.getItem('isLogin')

  // 只要用户处于登录状态，直接进入到home首页
  // 如果访问的是'/login'，直接进入/home页
  // 如果访问的不是'/login'，直接调用next() 放行
  if (isLogin) {
    if (to.path == '/login') {
      next('/home')
    } else {
      next()
    }
  } else {
    if (to.path == '/login') {
      next()
    } else {
      // elementUI提供消息提示框
      // $message挂在Vue的原型对象上。Vue的实例可以直接访问，但Vue需要通过prototype访问
      // Message.error('请先登录')
      Vue.prototype.$message({
        message: '请先登录',
        type: 'warning',
        showClose: true,
        duration: 1000,
      })
      // alert('请先登录')
      next('/login')
    }
  }
})
export default router</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/acb611862c79c048f88a0314c4cdbccf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue组件间通信的四种方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b4cc889ff01b525e3f4b85cad9d2eae3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">从零开始写 Makefile</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>