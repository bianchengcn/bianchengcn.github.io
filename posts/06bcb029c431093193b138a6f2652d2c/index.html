<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spring Boot 微服务框架 Part1 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Spring Boot 微服务框架 Part1" />
<meta property="og:description" content="Spring Boot 微框架Part1 1.springboot的引言 SpringBoot是由 Pivotal团队提供的全新框架，其设计目的是用来简化Spring应用的初始搭建以及开发过程。该框架使用了特定的方式来进行配置，从而使开发人员不再需要定义样板化的配置。通过这种方式，springboot致力于在蓬勃发展的快速应用开发领域(rapid application devolopment)成为领导者。
springboot(微框架) = spring(项目管理) &#43; springmvc(控制器)
2.SpringBoot的特点 构建一个独立的spring应用；springboot开发的应用内嵌tomcat容器，无需部署war文件；简化maven的配置；自动配置spring应用和springmvc应用，没有xml配置文件。 3.SpringBoot的环境搭建 环境要求:
MAVEN 3.x&#43;Spring FrameWork 4.x&#43;JDK7.x &#43;
. Spring Boot 1.5.x&#43; 3.1 项目中引入依赖 &lt;!-- 继承springboot的父项目 --&gt; &lt;parent&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;version&gt;1.5.7.RELEASE&lt;/version&gt; &lt;/parent&gt; &lt;!-- 引入web的支持 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; 3.2 引入springboot配置文件 项目中src/main/resources/application.yml 3.3 编写入口类 package com.baizhi; //入口类必须放在项目的基包下，SpringBoot只有一个入口类，所以这个注解只能出现一次 @SpringBootApplication public class Application { //main函数 public static void main(String[] args) { //启动 springboot应用 //参数1：入口类类对象 参数2：main函数参数 SpringApplication.run(Application.class,args); } } 3." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/06bcb029c431093193b138a6f2652d2c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-06T18:38:30+08:00" />
<meta property="article:modified_time" content="2020-11-06T18:38:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Spring Boot 微服务框架 Part1</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Spring_Boot_Part1_0"></a>Spring Boot 微框架Part1</h2> 
<h3><a id="1springboot_2"></a>1.springboot的引言</h3> 
<blockquote> 
 <p>SpringBoot是由 Pivotal团队提供的全新框架，其设计目的是用来<strong>简化Spring应用的初始搭建以及开发过程</strong>。该框架使用了<strong>特定的方式来进行配置</strong>，从而使开发人员不再需要定义样板化的配置。通过这种方式，springboot致力于在蓬勃发展的快速应用开发领域(rapid application devolopment)成为领导者。</p> 
 <p>springboot(微框架) = spring(项目管理) + springmvc(控制器)</p> 
</blockquote> 
<h3><a id="2SpringBoot_8"></a>2.SpringBoot的特点</h3> 
<ol><li>构建一个独立的spring应用；</li><li>springboot开发的应用内嵌tomcat容器，无需部署war文件；</li><li>简化maven的配置；</li><li>自动配置spring应用和springmvc应用，没有xml配置文件。</li></ol> 
<h3><a id="3SpringBoot_15"></a>3.SpringBoot的环境搭建</h3> 
<blockquote> 
 <p>环境要求:</p> 
 <blockquote> 
  <ol><li>MAVEN 3.x+</li><li>Spring FrameWork 4.x+</li><li>JDK7.x +<br> . Spring Boot 1.5.x+</li></ol> 
 </blockquote> 
</blockquote> 
<h4><a id="31__24"></a>3.1 项目中引入依赖</h4> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!-- 继承springboot的父项目 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.5.7.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 引入web的支持 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="32_springboot_41"></a>3.2 引入springboot配置文件</h4> 
<pre><code>项目中src/main/resources/application.yml
</code></pre> 
<h4><a id="33__47"></a>3.3 编写入口类</h4> 
<pre><code class="prism language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>baizhi<span class="token punctuation">;</span>
<span class="token comment">//入口类必须放在项目的基包下，SpringBoot只有一个入口类，所以这个注解只能出现一次</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//main函数</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//启动 springboot应用</span>
        <span class="token comment">//参数1：入口类类对象 参数2：main函数参数</span>
        SpringApplication<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>Application<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="34__63"></a>3.4 建包并创建控制器</h4> 
<pre><code class="prism language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>baizhi<span class="token punctuation">.</span>controller<span class="token punctuation">;</span>

<span class="token comment">/**
 * 访问控制器路径：http://localhost:8080/hello/hello
 * 注意：springboot的应用 默认 没有项目名
 */</span>
<span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> String <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"=========hello=========="</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>注意：使用springboot应用开发的项目默认没有应用名，如果需要使用应用名，必须在配置文件中加入如下配置指定应用名：</p> 
<pre><code class="prism language-yml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8989 </span><span class="token comment">#修改内嵌服务器的端口</span>
  <span class="token key atrule">context-path</span><span class="token punctuation">:</span> /ems <span class="token comment">#设置项目名为ems</span>
</code></pre> 
<h3><a id="4SpringBoot_93"></a>4.SpringBoot中相关注解说明</h3> 
<pre><code class="prism language-markdown"># @SpringBootApplication
    注解作用：用来标识这是一个SpringBoot入口类，这个注解只能出现一次。
    详解：
    	@SpringBootApplication 是一个 派生注解|组合注解，等价于
    		@SpringBootConfiguration：标识注解，标识这是一个springboot入口类
			@EnableAutoConfiguration：核心注解，自动配置spring 以及项目中引入第三方技术的自动配置
			@ComponentScan		：组件扫描注解，默认扫描的是入口类所在的包及其子包
# main函数的作用
	1.通过main函数这种方式启动内部内嵌的tomcat服务器
	2.SpringApplication.run(Application.class,args);
		参数1：入口类的类对象 目的：让@EnableAutoConfiguration注解 自动配置spring时，将	  	 				@ComponentScan扫描到注解，创建对象一并放入工厂。
		参数2：main方法的参数，这个参数通过指定外部虚拟机参数的形式覆盖内部默认参数。
		
# @RestController = @Controller + @ResponseBody
	修饰范围：用在类上，用在所有的控制器上
	作用：	  将控制器中所有的方法的返回值转换为json并相应到前端
</code></pre> 
<h3><a id="5SpringBoot_114"></a>5.SpringBoot的配置文件拆分</h3> 
<pre><code class="prism language-markdown"># 配置文件拆分规则：
	- 将公共配置放入主配置文件中，将不同的配置放入不同环境配置文件中：
	
# 举例：如，
	springboot 	ems   应用名
			端口号：
			测试环境下：8989
			生产环境下：9090
# 主配置文件
	application.yml
		server:
  			context-path: /ems
# 测试环境下配置文件：
	application-dev.yml
		server:
  			port: 8989
# 生产环境下配置文件：
	application-prod.yml
		server:
  			port: 9090
  			
# 激活某个配置文件，在主配置文件中写明：
	spring:
  		profiles:
    		active: prod|dev
</code></pre> 
<h3><a id="6SpringBoot_banner_144"></a>6.SpringBoot banner的使用</h3> 
<ul><li> <p>自定义beanner：</p> <pre><code>在 src/main/resources 目录下 自定义banner.txt文件 书写banner的内容即可。
</code></pre> </li></ul> 
<h3><a id="7SpringBoot_152"></a>7.SpringBoot创建自定义对象</h3> 
<h4><a id="71__154"></a>7.1 创建单个对象</h4> 
<pre><code class="prism language-markdown"># 注解方式：@Component 通用组件对象的创建注解
	@Service		标识业务层组件创建
	@Controller		控制器对象创建
	@Repository		用来创建DAO组件注解
</code></pre> 
<h4><a id="72__163"></a>7.2 管理多个对象</h4> 
<blockquote> 
 <p>在springboot中如果要管理<code>复杂对象</code>必须使用<code>@Configuration + @Bean</code>注解进行管理</p> 
</blockquote> 
<pre><code class="prism language-markdown"># @Configuration 配置注解 修饰范围：用在类上
	作用：相当于曾经的applicationContext.xml配置文件
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BeanConfig</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">/**
     * 创建日期对象
     * @return
     */</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> Calendar <span class="token function">getCalendar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> Calendar<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * 创建数据库连接对象
     * @return
     * @throws ClassNotFoundException
     * @throws SQLException
     */</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> Connection <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> ClassNotFoundException<span class="token punctuation">,</span> SQLException <span class="token punctuation">{<!-- --></span>
        Class<span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.cj.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Connection connection <span class="token operator">=</span> DriverManager<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://localhost:3306/ssm"</span><span class="token punctuation">,</span> <span class="token string">"root"</span><span class="token punctuation">,</span> <span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> connection<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-markdown"># 注意: 
			  1.@Configuration 配置注解主要用来生产多个组件交给工厂管理  (注册形式)
			  2.@Component     用来管理单个组件                      (包扫描形式)
</code></pre> 
<h3><a id="8springboot_206"></a>8.springboot中注入</h3> 
<blockquote> 
 <p>springboot中提供了三种注入方式: <code>注入基本属性</code>,<code>对象注入</code></p> 
</blockquote> 
<h4><a id="81__210"></a>8.1 基本属性注入</h4> 
<pre><code class="prism language-markdown"># 使用@Value注解进行属性注入
	注入基本类型：string + 日期类型 + 八种基本类型 使用@Value注入
</code></pre> 
<pre><code class="prism language-yml"><span class="token key atrule">name</span><span class="token punctuation">:</span> xiaohei <span class="token comment">#字符串类型</span>
<span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">23 </span><span class="token comment">#整数类型</span>
<span class="token key atrule">sex</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment">#布尔类型</span>
<span class="token key atrule">date</span><span class="token punctuation">:</span> 2020/1/1 <span class="token comment">#日期类型</span>
<span class="token key atrule">price</span><span class="token punctuation">:</span> <span class="token number">23.23 </span><span class="token comment">#浮点数类型</span>
<span class="token key atrule">qqs</span><span class="token punctuation">:</span> xiaofei<span class="token punctuation">,</span>xiaofei<span class="token punctuation">,</span>xiaowang <span class="token comment">#数组</span>
<span class="token key atrule">strs</span><span class="token punctuation">:</span> abd<span class="token punctuation">,</span>dasd<span class="token punctuation">,</span>dasd <span class="token comment">#List集合</span>
<span class="token key atrule">maps</span><span class="token punctuation">:</span> "<span class="token punctuation">{<!-- --></span><span class="token key atrule">key1</span><span class="token punctuation">:</span> <span class="token string">'value1'</span><span class="token punctuation">,</span> <span class="token key atrule">key2</span><span class="token punctuation">:</span> <span class="token string">'value2'</span><span class="token punctuation">}</span>" <span class="token comment">#Map集合</span>
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${name}"</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> String name<span class="token punctuation">;</span>
<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${age}"</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> Integer age<span class="token punctuation">;</span>
<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${sex}"</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token keyword">boolean</span> sex<span class="token punctuation">;</span>
<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${date}"</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> Date date<span class="token punctuation">;</span>
<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${price}"</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token keyword">float</span> price<span class="token punctuation">;</span>
<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"${qqs}"</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> String<span class="token punctuation">[</span><span class="token punctuation">]</span> qqs<span class="token punctuation">;</span>
<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"#{'${strs}'.split(',')}"</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> List<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> strs<span class="token punctuation">;</span>
<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"#{${maps}}"</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> Map<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span>String<span class="token punctuation">&gt;</span></span> maps<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="82__247"></a>8.2 对象属性注入</h4> 
<pre><code class="prism language-markdown"># @ConfigurationProperties(prefix="前缀")
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"user"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> String name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> Integer age<span class="token punctuation">;</span>
    <span class="token keyword">private</span> Date date<span class="token punctuation">;</span>
    <span class="token keyword">private</span> List<span class="token generics function"><span class="token punctuation">&lt;</span>Integer<span class="token punctuation">&gt;</span></span> nums<span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!-- 引入依赖构建自定义注入元数据 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-configuration-processor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-yml"><span class="token comment"># yml文件中编写对象信息</span>
<span class="token key atrule">user</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> 小王
  <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">13</span>
  <span class="token key atrule">date</span><span class="token punctuation">:</span> 2020/1/1
  <span class="token key atrule">nums</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token number">1111</span>
    <span class="token punctuation">-</span> <span class="token number">2222</span>
</code></pre> 
<h3><a id="9Springjsp_283"></a>9.Spring集成jsp模板展示</h3> 
<h4><a id="91_jspjar_285"></a>9.1 引入jsp的集成jar包</h4> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>jstl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jstl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 配置内嵌tomcat解析jsp --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.tomcat.embed<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>tomcat-embed-jasper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="92__300"></a>9.2 配置视图解析器</h4> 
<pre><code class="prism language-yml"><span class="token comment">#在配置文件中引入视图解析器</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">mvc</span><span class="token punctuation">:</span>
    <span class="token key atrule">view</span><span class="token punctuation">:</span>
      <span class="token key atrule">prefix</span><span class="token punctuation">:</span> /   	<span class="token comment"># /代表访问项目中webapp中页面</span>
      <span class="token key atrule">suffix</span><span class="token punctuation">:</span> .jsp 
</code></pre> 
<h4><a id="93_IDEAjsp_311"></a>9.3 IDEA中无法直接访问jsp的解决方案</h4> 
<ol><li>使用插件方式启动springboot项目：</li></ol> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--引入jsp运行插件--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
使用插件启动：springboot:run
</code></pre> 
<ol start="2"><li>修改当前springboot项目的运行目录</li></ol> 
<pre><code>在Edit Configurations中设置SpringBoot的启动器Application的Working Directory为$ModuleFileDir$
</code></pre> 
<h3><a id="10SpringBootmybatis_334"></a>10.SpringBoot整合mybatis框架</h3> 
<h4><a id="101__336"></a>10.1 引入依赖</h4> 
<pre><code class="prism language-xml"><span class="token comment">&lt;!--SpringBoot启动器--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--mysql驱动--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- mybatis整合SpringBoot的启动器 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.1.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- druid连接池的依赖 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1.24<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- SpringBoot整合JSP相关依赖 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.tomcat.embed<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>tomcat-embed-jasper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>jstl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jstl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- SpringBoot测试相关 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="102__379"></a>10.2 配置配置文件</h4> 
<pre><code class="prism language-yml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080 </span><span class="token comment">#设置端口号为8080</span>
  <span class="token key atrule">servlet</span><span class="token punctuation">:</span>
    <span class="token key atrule">context-path</span><span class="token punctuation">:</span> /ems <span class="token comment">#设置项目名为ems</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">mvc</span><span class="token punctuation">:</span>
    <span class="token key atrule">view</span><span class="token punctuation">:</span> <span class="token comment">#配置视图解析器</span>
      <span class="token key atrule">prefix</span><span class="token punctuation">:</span> / <span class="token comment"># 设置前缀为/</span>
      <span class="token key atrule">suffix</span><span class="token punctuation">:</span> .jsp <span class="token comment"># 设置后缀为.jsp</span>

  <span class="token key atrule">datasource</span><span class="token punctuation">:</span> <span class="token comment">#设置数据库连接池</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> com.alibaba.druid.pool.DruidDataSource
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
    <span class="token key atrule">druid</span><span class="token punctuation">:</span>
      <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>///file<span class="token punctuation">?</span>useUnicode=true<span class="token important">&amp;characterEncoding</span>=utf<span class="token punctuation">-</span>8<span class="token important">&amp;useSSL</span>=false<span class="token important">&amp;serverTimezone</span> = GMT<span class="token important">&amp;allowPublicKeyRetrieval</span>=true
      <span class="token key atrule">username</span><span class="token punctuation">:</span> root
      <span class="token key atrule">password</span><span class="token punctuation">:</span> root
</code></pre> 
<h4><a id="103_mybatis_402"></a>10.3 增加mybatis整合相关配置</h4> 
<pre><code class="prism language-yml"><span class="token comment"># 指定映射文件的位置，实体类的别名</span>
<span class="token key atrule">mybatis</span><span class="token punctuation">:</span>
  <span class="token key atrule">mapper-locations</span><span class="token punctuation">:</span> classpath<span class="token punctuation">:</span>mapper/<span class="token important">*Dao</span>.xml
  <span class="token key atrule">type-aliases-package</span><span class="token punctuation">:</span> com.baizhi.entity
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@MapperScan</span><span class="token punctuation">(</span><span class="token string">"com.baizhi.dao"</span><span class="token punctuation">)</span><span class="token comment">//指定dao接口所在的包</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">{<!-- --></span>
</code></pre> 
<h4><a id="104__417"></a>10.4 编写测试类</h4> 
<p>DAO、Service代码都编写好之后，要先对Service实现类对象的代码进行测试：</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span>SpringRunner<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@SpringBootTest</span><span class="token punctuation">(</span>classes <span class="token operator">=</span> Application<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token comment">//SpringBoot的测试配置类加载器</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BaseTest</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> UserService userService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        List<span class="token generics function"><span class="token punctuation">&lt;</span>User<span class="token punctuation">&gt;</span></span> all <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        all<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>user <span class="token operator">-</span><span class="token operator">&gt;</span> System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"user = "</span> <span class="token operator">+</span> user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="105_jsp_436"></a>10.5 开启jsp页面的热部署</h4> 
<pre><code class="prism language-yml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8989</span>
  <span class="token key atrule">jsp-servlet</span><span class="token punctuation">:</span>
    <span class="token key atrule">init-parameters</span><span class="token punctuation">:</span>
      <span class="token key atrule">development</span><span class="token punctuation">:</span> <span class="token boolean important">true  </span><span class="token comment">#开启jsp页面的调试模式</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2ba8a20defe48c5be679eb1816fa9434/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SpringMVC_高级</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/19de33c9c87ae8eed41e540d217219da/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java二进制和位运算，这一万字准能喂饱你</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>