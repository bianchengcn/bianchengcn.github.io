<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>通过Ajax实现注册登陆的表单验证，一看就会。 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="通过Ajax实现注册登陆的表单验证，一看就会。" />
<meta property="og:description" content="前言： ajax的简单应用，简单好懂。本次运用的软件为ideal，使用的是tomcat服务器，无框架编程。
AJAX是什么 Asynchronous JavaScript And XML
是一种通过JavaScript和后台进行通信的技术，能够实现页面的局部刷新，提高用户的体验
常规页面刷新会更新整个页面。
ajax技术通过浏览器局部发送请求给后台，后台通过resp.getWriter.print(&#34;&#34;);响应给前台页面
代码实现： 服务器代码： 一个类写入多个servlet： package com.dmdd.servlet; import javax.servlet.ServletException; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import java.io.IOException; import java.lang.reflect.InvocationTargetException; import java.lang.reflect.Method; public class BaseServlet extends HttpServlet { @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { String m = req.getParameter(&#34;m&#34;); try { Method method=this.getClass().getDeclaredMethod(m,HttpServletRequest.class,HttpServletResponse.class); method.setAccessible(true); method.invoke(this,req,resp); } catch (NoSuchMethodException e) { e.printStackTrace(); } catch (InvocationTargetException e) { e.printStackTrace(); } catch (IllegalAccessException e) { e." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/f40c4e547b98434090076b3cbaac4919/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-10T23:38:47+08:00" />
<meta property="article:modified_time" content="2022-12-10T23:38:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">通过Ajax实现注册登陆的表单验证，一看就会。</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>前言：</h2> 
<p>ajax的简单应用，简单好懂。本次运用的软件为ideal，使用的是tomcat服务器，无框架编程。</p> 
<h2>AJAX是什么</h2> 
<p>Asynchronous JavaScript And XML</p> 
<p>是一种通过JavaScript和后台进行通信的技术，能够实现页面的局部刷新，提高用户的体验</p> 
<p>常规页面刷新会更新整个页面。</p> 
<p><span style="color:#fe2c24;">ajax技术通过浏览器局部发送请求给后台，后台通过resp.getWriter.print("");响应给前台页面</span></p> 
<h2>代码实现：</h2> 
<h3>服务器代码：</h3> 
<h4>一个类写入多个servlet：</h4> 
<pre><code class="language-java">package com.dmdd.servlet;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.lang.reflect.InvocationTargetException;
import java.lang.reflect.Method;

public class BaseServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        String m = req.getParameter("m");
        try {
            Method method=this.getClass().getDeclaredMethod(m,HttpServletRequest.class,HttpServletResponse.class);
            method.setAccessible(true);
            method.invoke(this,req,resp);
        } catch (NoSuchMethodException e) {
            e.printStackTrace();
        } catch (InvocationTargetException e) {
            e.printStackTrace();
        } catch (IllegalAccessException e) {
            e.printStackTrace();
        }
    }

    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
        doGet(req,resp);
    }
}
</code></pre> 
<blockquote> 
 <p>这个类是为了实现多个servlet可写入一个类中，简化了代码的结构，运用了反射技术。看不懂没关系，直接照着抄。</p> 
</blockquote> 
<h4>服务器具体实现代码：</h4> 
<pre><code class="language-java">package com.dmdd.servlet;

import com.dmdd.entity.User;
import com.dmdd.service.Impl.UserServiceImpl;
import com.dmdd.service.UserService;
import com.dmdd.utils.DBUtilss;

import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import java.io.IOException;
import java.util.List;

@WebServlet("/admin.do")
public class AdminServlet extends BaseServlet{
static UserService userService=new UserServiceImpl();
    public void checkRegisterUsername(HttpServletRequest req, HttpServletResponse resp) throws IOException {
        String username = req.getParameter("username");
        List&lt;User&gt; userExists = userService.findUserExists(username);
        String regExp = "^[a-zA-Z0-9_-]{4,16}$";
        if (!username.matches(regExp)){
            resp.getWriter().print("false");
        }
        else if(userExists!=null&amp;userExists.size()&gt;0){
            resp.getWriter().print("exists");
        }
        else {
            resp.getWriter().print("");
        }
    }
    public void checkRegisterPassword(HttpServletRequest req,HttpServletResponse resp) throws IOException {
        String password = req.getParameter("password");
       String regXp="^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$";
       if (!password.matches(regXp)){
           resp.getWriter().print("false");
       }
       else {
           resp.getWriter().print("true");
       }

    }
    public void checkRegisterPassword1(HttpServletRequest req,HttpServletResponse resp) throws IOException {
        String password = req.getParameter("password");
        String password1 = req.getParameter("password1");
        if (password.equals(password1)){
            resp.getWriter().print("repeat");
        }
        else {
            resp.getWriter().print("");
        }
    }
    public void checkLoginUsername(HttpServletRequest req, HttpServletResponse resp) throws IOException {
        String username = req.getParameter("username");
        List&lt;User&gt; userExists = userService.findUserExists(username);

        if (username==null){
            resp.getWriter().print("null");
        }
        else if(userExists!=null&amp;userExists.size()&gt;0){
            resp.getWriter().print("exists");
        }
        else {
            resp.getWriter().print("");
        }
    }
    public void checkLoginPassword(HttpServletRequest req,HttpServletResponse resp) throws IOException {
        String password = req.getParameter("password");
        String username = req.getParameter("username");
        List&lt;User&gt; userExists = userService.findUserExists(username);
        if (password==null){
            resp.getWriter().print("null");
        }
        else if(userExists.get(0).getPassword()==password){
            resp.getWriter().print("true");
        }
        else {
            resp.getWriter().print("");
        }

    }
}
</code></pre> 
<h3>浏览器代码：</h3> 
<h4>注册代码：</h4> 
<pre><code class="language-java">$(function (){
	//给账户对象添加失去焦点事件
	$("[name=username]:text").blur(function (){
		//连接服务器校验用户名
		$.get("/front/admin.do?m=checkRegisterUsername&amp;username="+$(this).val(),function (data){
			if (data=="false"){
				$("#userMsg").text("请输入正确格式的用户名").css("color","red");
			}
		else if (data=="exists"){
				$("#userMsg").text("此用户已存在").css("color","red");
			}
			else {
				$("#userMsg").text("符合").css("color","green");
			}
		})
	})
	$("[name=password]:password").blur(function (){
		//连接服务器
		$.get("/front/admin.do?m=checkRegisterPassword&amp;password="+$(this).val(),function (data){
			if (data=="false"){
				$("#passwordMsg").text("密码格式错误").css("color","red");
			}
			else if (data=="true"){
				$("#passwordMsg").text("√").css("color","green");
			}
		})
	})
	$("[name=password1]:password").blur(function (){
		$.get("/front/admin.do?m=checkRegisterPassword1&amp;password1="+$(this).val()+"&amp;password="+$("[name=password]:password").val(),function (data){
			if (data=="repeat"){
				$("#passwordMsg1").text("√").css("color","green")
			}
			else {
				$("#passwordMsg1").text("密码不一致").css("color","red")
			}
		})
	})
})</code></pre> 
<blockquote> 
 <pre>$.get("/front/admin.do?m=checkRegisterPassword&amp;password="+$(this).val()</pre> 
 <p><span style="color:#fe2c24;">此段写 要请求的servlet地址。 get请求是把需要的参数按照如下形式传递</span></p> 
 <p><span style="color:#fe2c24;">？参数1&amp;参数2&amp;参数3</span></p> 
 <p></p> 
</blockquote> 
<h4>登陆代码：</h4> 
<pre><code class="language-java">&lt;script&gt;
    $(function () {
        $("[name=username]:text").blur(function () {
            $.get("/front/admin.do?m=checkLoginUsername&amp;username=" + $(this).val(), function (data) {
                if (data == "null") {
                    $("#usernameMsg").text("用户名不能为空").css("color", "red");
                } else if (data == "exists") {
                    $("#usernameMsg").text("√").css("color", "green");
                } else {
                    $("#usernameMsg").text("用户名不存在").css("color", "red");
                }
            })
        })
        $("[name=password]:password").blur(function () {
            $.get("/front/admin.do?m=checkLoginPassword&amp;password=" + $(this).val() + "&amp;username=" + $("[name=username]:text").val(), function (data) {
                if (data == "null") {
                    $("#passwordMsg").text("密码不能为空").css("color", "red");
                } else if (data == "true") {
                    $("#passwordMsg").text("√").css("color", "green");
                } else {
                    $("#passwordMsg").text("密码错误").css("color", "red");
                }
            })
        })
    })
&lt;/script&gt;</code></pre> 
<p><strong> 至于为什么要用jquery写，因为jquery写ajax最简单</strong></p> 
<h2><strong>效果图：</strong></h2> 
<p><img alt="" height="282" src="https://images2.imgbox.com/8c/18/YVlTdDLQ_o.png" width="459"></p> 
<p><img alt="" height="329" src="https://images2.imgbox.com/1d/cc/WdNQSRM3_o.png" width="464"></p> 
<p><img alt="" height="280" src="https://images2.imgbox.com/41/b2/SI9B1gWc_o.png" width="376"></p> 
<p><img alt="" height="268" src="https://images2.imgbox.com/a7/81/lAKHpnJZ_o.png" width="353"></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5c2aa1e358ca10715ec7397042bb206f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">登录状态保持</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8078a63367b25ba0084b45caafe299a8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">v-if v-else闪烁问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>