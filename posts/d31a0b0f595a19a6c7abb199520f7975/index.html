<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Spring源码】CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition()详解 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Spring源码】CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition()详解" />
<meta property="og:description" content="【Spring源码系列- IOC】
1
【Spring源码】0.安装Gradle环境
2
【Spring源码】1.下载与编译_pom relocation to an other version number is not f
3
【Spring源码】2.试个水先～Debug找到传说中的三级缓存(图解向，堆图预警)
4
【Spring源码】3. xml文件如何转换成BeanDefinition(主要涉及prepareRefresh()&#43; obtainFreshBeanFactory()两个函数，图解向，堆图预警)_spring xml转bean
5
【Spring源码】4. 自己搞个标签?~自定义标签保姆级全过程(图解向，堆图预警)
6
【Spring源码】5.spring的bean工厂准备工作（prepareBeanFactory(beanFactory)
7
【Spring源码】6. Spring扩展自定义属性编辑器保姆级教程
8
【Spring源码】7. 如何添加自定义的BeanFactoryPostProcessor
9
【Spring源码】8. 捋下invokeBeanFactoryPostProcessors()主要处理流程
10
【Spring源码】9. 超级重要的ConfigurationClassPostProcessor
11
【Spring源码】10. 递归调用的processConfigurationClass()方法
12
【Spring源码】11. 我是注解类不？checkConfigurationClassCandidate()注解类判断方法详解
13
【Spring源码】12. 注册bean处理器registerBeanPostProcessors()
14
【Spring源码】13. 国际化处理initMessageSource()源码解析
【补充内容】【保姆级】SpringBoot项目中的i18n国际化
15
【Spring源码】14. 消息多播器（观察者模式）
【补充内容】【保姆级示例向】观察者模式
16
【Spring源码】15. Bean的创建过程（1.概述篇）
17
【Spring源码】16. Bean的创建过程（2）
18
【Spring源码】17.创建Bean这篇认真的@(・●・)@
【补充内容】
【保姆级·创建对象】如何通过Supplier创建对象
【保姆级·创建对象】如何通过factory-method创建对象
【保姆级·创建对象】如何利用resolveBeforeInstantiation()在预处理阶段返回一个Bean的实例对象
19" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/d31a0b0f595a19a6c7abb199520f7975/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-16T12:06:51+08:00" />
<meta property="article:modified_time" content="2023-04-16T12:06:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Spring源码】CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition()详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <p style="text-align:left;"> 【Spring源码系列- IOC】</p> 
 <div style=""> 
  <table class="kdocs-table" border="1" cellpadding="1" cellspacing="1" style=""><tbody><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">1</p></td><td class="kdocs-tableCell" colspan="2" style="width:768px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/124325005" target="_blank" rel="noopener noreferrer">【Spring源码】0.安装Gradle环境</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">2</p></td><td class="kdocs-tableCell" colspan="2" style="width:768px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/124295132" target="_blank" rel="noopener noreferrer">【Spring源码】1.下载与编译_pom relocation to an other version number is not f</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">3</p></td><td class="kdocs-tableCell" colspan="2" style="width:768px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/124494757" target="_blank" rel="noopener noreferrer">【Spring源码】2.试个水先～Debug找到传说中的三级缓存(图解向，堆图预警)</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">4</p></td><td class="kdocs-tableCell" colspan="2" style="width:768px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/124494175" target="_blank" rel="noopener noreferrer">【Spring源码】3. xml文件如何转换成BeanDefinition(主要涉及prepareRefresh()+ obtainFreshBeanFactory()两个函数，图解向，堆图预警)_spring xml转bean</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">5</p></td><td class="kdocs-tableCell" colspan="2" style="width:768px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/124967341" target="_blank" rel="noopener noreferrer">【Spring源码】4. 自己搞个标签?~自定义标签保姆级全过程(图解向，堆图预警)</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">6</p></td><td class="kdocs-tableCell" colspan="2" style="width:768px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/125099022" target="_blank" rel="noopener noreferrer">【Spring源码】5.spring的bean工厂准备工作（prepareBeanFactory(beanFactory)</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">7</p></td><td class="kdocs-tableCell" colspan="2" style="width:768px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/125099608" target="_blank" rel="noopener noreferrer">【Spring源码】6. Spring扩展自定义属性编辑器保姆级教程</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">8</p></td><td class="kdocs-tableCell" colspan="2" style="width:768px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/125189197" target="_blank" rel="noopener noreferrer">【Spring源码】7. 如何添加自定义的BeanFactoryPostProcessor</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">9</p></td><td class="kdocs-tableCell" colspan="2" style="width:768px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/125913768" target="_blank" rel="noopener noreferrer">【Spring源码】8. 捋下invokeBeanFactoryPostProcessors()主要处理流程</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">10</p></td><td class="kdocs-tableCell" colspan="2" style="width:768px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/126053792" target="_blank" rel="noopener noreferrer">【Spring源码】9. 超级重要的ConfigurationClassPostProcessor</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">11</p></td><td class="kdocs-tableCell" colspan="2" style="width:768px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/126107551" target="_blank" rel="noopener noreferrer">【Spring源码】10. 递归调用的processConfigurationClass()方法</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">12</p></td><td class="kdocs-tableCell" colspan="2" style="width:768px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/126107412" target="_blank" rel="noopener noreferrer">【Spring源码】11. 我是注解类不？checkConfigurationClassCandidate()注解类判断方法详解</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">13</p></td><td class="kdocs-tableCell" colspan="2" style="width:768px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/126136230" target="_blank" rel="noopener noreferrer">【Spring源码】12. 注册bean处理器registerBeanPostProcessors()</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">14</p></td><td class="kdocs-tableCell" style="width:313px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/126303691" target="_blank" rel="noopener noreferrer">【Spring源码】13. 国际化处理initMessageSource()源码解析</a></p></td><td class="kdocs-tableCell" style="width:455px;vertical-align:middle;height:52px;"><p style="text-align:left;">【补充内容】<a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/127171568" target="_blank" rel="noopener noreferrer">【保姆级】SpringBoot项目中的i18n国际化</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">15</p></td><td class="kdocs-tableCell" style="width:313px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/126644051" target="_blank" rel="noopener noreferrer">【Spring源码】14. 消息多播器（观察者模式）</a></p></td><td class="kdocs-tableCell" style="width:455px;vertical-align:middle;height:52px;"><p style="text-align:left;">【补充内容】<a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/126127883" target="_blank" rel="noopener noreferrer">【保姆级示例向】观察者模式</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">16</p></td><td class="kdocs-tableCell" colspan="2" style="width:768px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/127362286" target="_blank" rel="noopener noreferrer">【Spring源码】15. Bean的创建过程（1.概述篇）</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">17</p></td><td class="kdocs-tableCell" colspan="2" style="width:768px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/127432109" target="_blank" rel="noopener noreferrer">【Spring源码】16. Bean的创建过程（2）</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">18</p></td><td class="kdocs-tableCell" style="width:313px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/127472470" target="_blank" rel="noopener noreferrer">【Spring源码】17.创建Bean这篇认真的@(・●・)@</a></p></td><td class="kdocs-tableCell" style="width:455px;vertical-align:middle;height:52px;"><p style="text-align:left;">【补充内容】</p><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/128188799" target="_blank" rel="noopener noreferrer">【保姆级·创建对象】如何通过Supplier创建对象</a></p><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/128204883" target="_blank" rel="noopener noreferrer">【保姆级·创建对象】如何通过factory-method创建对象</a></p><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/127865881" target="_blank" rel="noopener noreferrer">【保姆级·创建对象】如何利用resolveBeforeInstantiation()在预处理阶段返回一个Bean的实例对象</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">19</p></td><td class="kdocs-tableCell" colspan="2" style="width:768px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/128002786" target="_blank" rel="noopener noreferrer">【Spring源码】18. factory-method创建对象关键函数详解：instantiateUsingFactoryMethod()</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">20</p></td><td class="kdocs-tableCell" colspan="2" style="width:768px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/128632696" target="_blank" rel="noopener noreferrer">【Spring源码】19. 没合适的构造器？找determineCandidateConstructors()！</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">21</p></td><td class="kdocs-tableCell" style="width:313px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/128633664" target="_blank" rel="noopener noreferrer">【Spring源码】20. MergedBeanDefinitionPostProcessor修改/合并bean定义</a></p></td><td class="kdocs-tableCell" style="width:455px;vertical-align:middle;height:52px;"><p style="text-align:left;">【补充内容】</p><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/128633923" target="_blank" rel="noopener noreferrer">【保姆级】@PostConstruct &amp; @PreDestroy使用示例</a></p><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/128644949" target="_blank" rel="noopener noreferrer">【Spring源码】AutowiredAnnotationBeanPostProcessor.postProcessMergedBeanDefinition()详解</a></p><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/128644909" target="_blank" rel="noopener noreferrer">【Spring源码】CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition()详解</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:49px;"><p style="text-align:left;">22</p></td><td class="kdocs-tableCell" style="width:313px;vertical-align:middle;height:49px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/128656295" target="_blank" rel="noopener noreferrer">【Spring源码】21. 初探循环依赖</a></p></td><td class="kdocs-tableCell" style="width:455px;vertical-align:middle;height:49px;"><p style="text-align:left;">【补充内容】</p><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/128702039" target="_blank" rel="noopener noreferrer">【保姆级】手把手Debug循环依赖的整体流程</a></p><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/128715562" target="_blank" rel="noopener noreferrer">【实践向】当移除了三级缓存……</a></p><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/128775251" target="_blank" rel="noopener noreferrer">【分析向】没有三级缓存会导致什么？</a></p><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/128785050" target="_blank" rel="noopener noreferrer">【Spring源码】插播一个创建代理对象的wrapIfNecessary()方法</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">23</p></td><td class="kdocs-tableCell" style="width:313px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/128800736" target="_blank" rel="noopener noreferrer">【Spring源码】22. 属性填充populateBean()详解</a></p></td><td class="kdocs-tableCell" style="width:455px;vertical-align:middle;height:52px;"><p style="text-align:left;">【补充内容】</p><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/128812119" target="_blank" rel="noopener noreferrer">【Spring源码】自动注入·名称：autowireByName()详解</a></p><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/128905209" target="_blank" rel="noopener noreferrer">【Spring源码】自动注入·类型：autowireByType()详解</a></p><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/128922136" target="_blank" rel="noopener noreferrer">【Spring源码】属性值的解析与赋值：populateBean().applyPropertyValues()</a></p><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/128938759" target="_blank" rel="noopener noreferrer">【保姆级】超超超简单的自定义注解实现@Autowired同款功能</a></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:60px;vertical-align:middle;height:52px;"><p style="text-align:left;">24</p></td><td class="kdocs-tableCell" colspan="2" style="width:768px;vertical-align:middle;height:52px;"><p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://blog.csdn.net/aqin1012/article/details/128949267" target="_blank" rel="noopener noreferrer">【Spring源码】23. 执行初始化逻辑：initializeBean()</a></p></td></tr></tbody></table> 
 </div> 
 <p style=""></p> 
 <p style="">CommonAnnotationBeanPostProcessor的postProcessMergedBeanDefinition()中一共包含3个方法，上篇文章我们介绍了的第一个方法，它一个父类调用（如下图），其实就是处理@PostConstruct和@PreDestroy这两个注解的</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:25.81081%;height:0;"> 
    <img src="https://images2.imgbox.com/35/22/Uubgg7sO_o.png" style="margin-left:;display:block;width:740px;margin-top:-25.81081%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">这篇我们继续介绍后面两个方法(￣∇￣)</p> 
 <h3 style="text-align:left;">findResourceMetadata()</h3> 
 <p style="">在这个方法中会找出beanType所有被@Resource注解标记的字段/方法，并将它们封装到对象InjectionMetadata中</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:64.72973%;height:0;"> 
    <img src="https://images2.imgbox.com/77/16/uCWQgGrN_o.png" style="margin-left:;display:block;width:740px;margin-top:-64.72973%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">方法中先获取对应的beanName来作为缓存的key，然后尝试从缓存中获取注入的元数据对象，对获取到的对象进行判断，如果不需要更新则直接返回；如果需要更新则进行更新，并将返回的metadata对象放入injectionMetadataCache缓存中，缓存的key为beanName，以便后续操作从缓存中取出</p> 
 <h4 style="text-align:left;"> buildResourceMetadata()、构建元数据对象</h4> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:41.89189%;height:0;"> 
    <img src="https://images2.imgbox.com/32/57/SqKX80Yj_o.png" style="margin-left:;display:block;width:740px;margin-top:-41.89189%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">方法的一开始先判断当前clazz是否是候选class，然后创建InjectedElement集合对象，之后进入了一个do while循环♻️，这个循环会不断获取父类进行注解的识别（仅识别，不会进行属性的注入，具体解析位置同@Autowired），直到当前类为null或者父类为Object.java</p> 
 <p style="">循环内主要有两大部分：</p> 
 <h5 style="text-align:left;">第一部分</h5> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:78.10811%;height:0;"> 
    <img src="https://images2.imgbox.com/41/ad/BPm3pAK5_o.png" style="margin-left:;display:block;width:740px;margin-top:-78.10811%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">通过doWithLocalFields()方法查询是否<span class="kdocs-bold" style="font-weight:bold;">属性字段</span>上有webService、ejb、Resource的属性注解，进行了如下一系列判断：</p> 
 <h6 style="text-align:left;">webService</h6> 
 <p style="">webServiceRefClass != null &amp;&amp; field.isAnnotationPresent(webServiceRefClass)是对是否加载了"javax.xml.ws.WebServiceRef"进行判断（具体赋值位置如下图）</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:46.216213%;height:0;"> 
    <img src="https://images2.imgbox.com/69/dd/2wToYolN_o.png" style="margin-left:;display:block;width:740px;margin-top:-46.216213%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">（在注解为Resource时需要注意⚠️：1. 不支持静态属性；2. 如果不想注入某一类型对象，可以将其加入ignoredResourceType中，字段会封装到ResourceElement中）</p> 
 <h6 style="text-align:left;">ejb</h6> 
 <p style="">接着是对ejbClass != null &amp;&amp; field.isAnnotationPresent(ejbClass)的判断（具体赋值位置如下图）</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:54.45946%;height:0;"> 
    <img src="https://images2.imgbox.com/bf/e4/duhmuZnS_o.png" style="margin-left:;display:block;width:740px;margin-top:-54.45946%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h6 style="text-align:left;">Resource</h6> 
 <p style="">最后是对于field.isAnnotationPresent(Resource.class)的判断，Resource注解一般用在类属性或者setter()方法上声明属性需要<span class="kdocs-bold" style="font-weight:bold;">自动装配</span>，默认byName的形式，找不到则尝试byType的形式（@Autowired则默认byType的形式注入）</p> 
 <h5 style="text-align:left;">第二部分</h5> 
 <p style="">通过doWithLocalMethod<span class="kdocs-italic" style="font-style:italic;">s</span>()方法查询是否有<span class="kdocs-bold" style="font-weight:bold;">方法</span>上有webService、ejb、Resource的属性注解</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:75.54054%;height:0;"> 
    <img src="https://images2.imgbox.com/7c/2f/TnHxtcJV_o.png" style="margin-left:;display:block;width:740px;margin-top:-75.54054%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""> 最终会获取一个集合elements完成buildResourceMetadata()的逻辑</p> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:54.864864%;height:0;"> 
    <img src="https://images2.imgbox.com/bb/ef/PfEoOd1e_o.png" style="margin-left:;display:block;width:740px;margin-top:-54.864864%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/92b7a77b270232b03dc48439d0f42df3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">局域网组网 实验7 MPLS VNP</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6e814a3831afa0fbf407c2350fb23827/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【Spring源码】17.创建Bean这篇认真的@(・●・)@</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>