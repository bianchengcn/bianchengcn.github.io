<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C&#43;&#43;中结构体与类到底有什么区别 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C&#43;&#43;中结构体与类到底有什么区别" />
<meta property="og:description" content="#include&lt;iostream&gt; using namespace std; typedef struct DemoS{ private: char c; char x; int y; public: DemoS(){} DemoS(char c,char x,int y):c(c),x(x),y(y) { //cout&lt;&lt;this&lt;&lt;&#34;有参构造&#34;&lt;&lt;endl; } inline void setX(char x) { this-&gt;x=x; } inline void printX(){ cout&lt;&lt;this-&gt;x&lt;&lt;endl; } ~DemoS() { //cout&lt;&lt;this&lt;&lt;&#34;析构函数&#34;&lt;&lt;endl; } }DemoS; class DemoC{ private : char c; char x; int y; public: DemoC(){} DemoC(char c,char x,int y):c(c),x(x),y(y) { //cout&lt;&lt;this&lt;&lt;&#34;有参构造&#34;&lt;&lt;endl; } inline void setX(char x){ this-&gt;x=x; } inline void printX() { cout&lt;&lt;this-&gt;x&lt;&lt;endl; } ~DemoC(){ // cout&lt;&lt;this&lt;&lt;&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/394b7a84353653d54c7dd891deb51856/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-06-25T21:12:02+08:00" />
<meta property="article:modified_time" content="2018-06-25T21:12:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C&#43;&#43;中结构体与类到底有什么区别</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <pre><code class="language-cpp">#include&lt;iostream&gt;
using namespace std;
typedef struct DemoS{
    private:
      char c;
      char x;
      int y;
    public:
    DemoS(){}
    DemoS(char c,char x,int y):c(c),x(x),y(y)
       {
           //cout&lt;&lt;this&lt;&lt;"有参构造"&lt;&lt;endl;
       }
      inline void setX(char x)
      {
           this-&gt;x=x;
      }
      inline void printX(){
          cout&lt;&lt;this-&gt;x&lt;&lt;endl;
      }
      ~DemoS()
      {
          //cout&lt;&lt;this&lt;&lt;"析构函数"&lt;&lt;endl;
      }

}DemoS;



class DemoC{
   private :
       char c;
       char x;
       int y;
   public:
       DemoC(){}
       DemoC(char c,char x,int y):c(c),x(x),y(y)
       {
           //cout&lt;&lt;this&lt;&lt;"有参构造"&lt;&lt;endl;
       }
       inline void setX(char x){
          this-&gt;x=x;
       }
       inline void printX()
       {
            cout&lt;&lt;this-&gt;x&lt;&lt;endl;
       }
       ~DemoC(){
         // cout&lt;&lt;this&lt;&lt;"析构函数"&lt;&lt;endl;
       }
};
int main(void)
{
    DemoC *c1= new DemoC('a','b',1);
    DemoC *c2=c1;
    cout&lt;&lt;"c1堆上的地址:"&lt;&lt;c1&lt;&lt;" c2堆上的地址:"&lt;&lt;c2&lt;&lt;endl;
    cout&lt;&lt;"c1指针地址:"&lt;&lt;&amp;c1&lt;&lt;" c2指针地址:"&lt;&lt;&amp;c2&lt;&lt;endl;
    DemoC c3= DemoC('a','b',1);
    DemoC c4=c3;
    cout&lt;&lt;"c3:"&lt;&lt;&amp;c3&lt;&lt;" c4:"&lt;&lt;&amp;c4&lt;&lt;endl;
    DemoC c5=DemoC('a','b',1);
    DemoC *c6=&amp;c5;
    cout&lt;&lt;"c5:"&lt;&lt;&amp;c5&lt;&lt;" c6:"&lt;&lt;c6&lt;&lt;endl;


    DemoS *s1=new DemoS('a','b',1);
    DemoS *s2=s1;
    cout&lt;&lt;"s1堆上的地址:"&lt;&lt;s1&lt;&lt;" s2堆上的地址:"&lt;&lt;s2&lt;&lt;endl;
    cout&lt;&lt;"s1指针地址:"&lt;&lt;&amp;s1&lt;&lt;"  s2指针地址:"&lt;&lt;&amp;s2&lt;&lt;endl;
    DemoS s3=DemoS('a','b',1);
    DemoS s4=s3;
     cout&lt;&lt;"s3:"&lt;&lt;&amp;s3&lt;&lt;" s4:"&lt;&lt;&amp;s4&lt;&lt;endl;
    DemoS s5=DemoS('a','b',1);
    DemoS *s6=&amp;s5;

    cout&lt;&lt;"s5:"&lt;&lt;&amp;s5&lt;&lt;" s6:"&lt;&lt;s6&lt;&lt;endl;

    return 0；

}</code></pre> 
<p>以上程序运行结果如下图所示:</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/23/80/53zaTnao_o.png"></p> 
<p>从上述代码可以看出Struct与Class好像根本没有区别，网上说类是引用类型，结构体是值类型，但是发现一个问题不管是结构体和类的实例化对象都可以随意存在堆上或者栈上，变量名和指针一定是存在栈上的，但是具体的内容存在堆或者栈就看具体操作<span style="color:#ffcc00;">，比如int* t=new int(1)这个简单的代码段，因为new返回的地址所以接受它的变量必须也是指针，指针内存地址存在的是栈上的，指向的内存地址是堆上的</span>。<span style="color:#ff0000;"><strong>而且类也存在着字节对齐的问题</strong></span>，<span style="color:#ff0000;"><strong>并且Struct也有权限访问的设置（public private protected）和构造函数、析构函数。</strong></span><strong>有几个不同点就是1.默认的访问权限的不一样，2.还有类的对象之间赋值是浅拷贝（需要注意内存的释放时出现的问题），结构体之间赋值是深度拷贝结构体3.结构体不能继承，类可以继承。</strong></p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9acd5801af0731a012f09b1d5578c361/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">jQuery的$(document).ready() 与$(window).load 区别</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f0d80f85aa72a33c67a4f070718d753b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java8 stream流操作的flatMap（流的扁平化）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>