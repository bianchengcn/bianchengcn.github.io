<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【SpringBoot】springboot整合mongoDB - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【SpringBoot】springboot整合mongoDB" />
<meta property="og:description" content="目录
1.配置
2.使用
创建实体类
创建MongoDB仓库接口
创建一个控制器
1.配置 创建好springboot工程后
引入mongoDB依赖
&lt;dependency&gt;
&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;
&lt;/dependency&gt;
在application.properties中配置MongoDB的连接信息
格式如下：
spring.data.mongodb.uri=mongodb://user:password@localhost:27017/mydatabase
application.yml格式如下
spring:
data:
mongodb:
uri: mongodb://username:password@localhost:27017/myDatabase 2.使用 创建实体类 @Document(collection = &#34;users&#34;) public class User { @Id private String id; private String name; private int age; public User(String id, String name, int age) { this.id = id; this.name = name; this.age = age; } public String getId() { return id; } public void setId(String id) { this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/bc9160d72b5145a2650be4dca680ad8b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-30T16:03:53+08:00" />
<meta property="article:modified_time" content="2024-01-30T16:03:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【SpringBoot】springboot整合mongoDB</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="-toc" style="margin-left:0px;"></p> 
<p id="1.%E9%85%8D%E7%BD%AE-toc" style="margin-left:0px;"><a href="#1.%E9%85%8D%E7%BD%AE" rel="nofollow">1.配置</a></p> 
<p id="2.%E4%BD%BF%E7%94%A8-toc" style="margin-left:0px;"><a href="#2.%E4%BD%BF%E7%94%A8" rel="nofollow">2.使用</a></p> 
<p id="%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BD%93%E7%B1%BB-toc" style="margin-left:40px;"><a href="#%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BD%93%E7%B1%BB" rel="nofollow">创建实体类</a></p> 
<p id="%E5%88%9B%E5%BB%BAMongoDB%E4%BB%93%E5%BA%93%E6%8E%A5%E5%8F%A3-toc" style="margin-left:40px;"><a href="#%E5%88%9B%E5%BB%BAMongoDB%E4%BB%93%E5%BA%93%E6%8E%A5%E5%8F%A3" rel="nofollow">创建MongoDB仓库接口</a></p> 
<p id="%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%8E%A7%E5%88%B6%E5%99%A8-toc" style="margin-left:40px;"><a href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%8E%A7%E5%88%B6%E5%99%A8" rel="nofollow">创建一个控制器</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="1.%E9%85%8D%E7%BD%AE" style="background-color:transparent;">1.配置</h2> 
<p>创建好springboot工程后</p> 
<p>引入mongoDB依赖</p> 
<blockquote> 
 <p>&lt;dependency&gt;<br>         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br>         &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;<br>     &lt;/dependency&gt;</p> 
</blockquote> 
<p><img alt="" height="234" src="https://images2.imgbox.com/c8/91/4s3uzEtU_o.png" width="853"> 在<code>application.properties中配置</code>MongoDB的连接信息</p> 
<p>格式如下：</p> 
<blockquote> 
 <p>spring.data.mongodb.uri=mongodb://user:password@localhost:27017/mydatabase</p> 
</blockquote> 
<p><img alt="" height="105" src="https://images2.imgbox.com/8c/68/jvGGL5aa_o.png" width="798"> <code>application.yml格式如下</code></p> 
<blockquote> 
 <p>spring:</p> 
 <p>   data:</p> 
 <p>mongodb:</p> 
 <p>uri: mongodb://username:password@localhost:27017/myDatabase </p> 
</blockquote> 
<h2 id="2.%E4%BD%BF%E7%94%A8">2.使用</h2> 
<h3 id="%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BD%93%E7%B1%BB">创建实体类</h3> 
<pre><code class="language-java">@Document(collection = "users")
public class User {
    @Id
    private String id;
    private String name;
    private int age;


    public User(String id, String name, int age) {
        this.id = id;
        this.name = name;
        this.age = age;
    }

    public String getId() {
        return id;
    }

    public void setId(String id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }
}</code></pre> 
<p>@Document 注解用于标注实体类，表示一个实体类映射为MongoDB 中的一个文档</p> 
<p>@Id 注解用于标注实体类中的主键</p> 
<h3 id="%E5%88%9B%E5%BB%BAMongoDB%E4%BB%93%E5%BA%93%E6%8E%A5%E5%8F%A3"><strong>创建MongoDB仓库接口</strong></h3> 
<p>为每个实体创建一个仓库接口，并使用<code>@Repository</code>注解标记接口</p> 
<pre><code class="language-java">package com.example.demo.repository;

import com.example.demo.po.User;
import org.springframework.data.mongodb.repository.MongoRepository;
import org.springframework.stereotype.Repository;

@Repository
public interface UserRepository extends MongoRepository&lt;User,String&gt; {

}
</code></pre> 
<h3 id="%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%8E%A7%E5%88%B6%E5%99%A8">创建一个控制器</h3> 
<p>例如</p> 
<pre><code class="language-java">package com.example.demo.controller;


import com.example.demo.po.User;
import com.example.demo.repository.UserRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;

import java.util.List;
import java.util.Optional;

@RestController
@RequestMapping("/users")
public class UserController {
    @Autowired
    private UserRepository userRepository;

    @GetMapping
    public List&lt;User&gt; getAllUsers() {
        return userRepository.findAll();
    }

    @GetMapping("/{id}")
    public Optional&lt;User&gt; getUserById(@PathVariable String id) {
        return userRepository.findById(id);
    }

    @PostMapping
    public User createUser(@RequestBody User user) {
        return userRepository.save(user);
    }



    @DeleteMapping("/{id}")
    public void deleteUser(@PathVariable String id) {
        userRepository.deleteById(id);
    }
}</code></pre> 
<p>然后编写相关的服务</p> 
<p>类似于mysql </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1448d79c314bf058e482eb3a634ec087/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">第十二章 软件工程（上午题）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e9baa543b26fbacf6c674d12f2df1156/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">15年IT经验结晶：Spring Boot分布式系统实践文档，深入浅出</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>