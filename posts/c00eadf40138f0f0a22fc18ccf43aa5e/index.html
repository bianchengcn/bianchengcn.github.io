<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ECharts（三）：柱状图柱体颜色渐变（每个柱体不同渐变色） - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ECharts（三）：柱状图柱体颜色渐变（每个柱体不同渐变色）" />
<meta property="og:description" content="前提：
会简单的绘制柱状图
主要内容：
渐变的主要使用在https://efe.baidu.com/blog/echarts-3.2.0/中有介绍到：
itemStyle: {
normal: {
// 线性渐变，前四个参数分别是 x0, y0, x2, y2, 范围从 0 - 1，分别表示右,下,左,上。例如（0，0，0，1）表示从正上开始向下渐变；如果是（1，0，0，0），则是从正右开始向左渐变。
// 相当于在图形包围盒中的百分比，如果最后一个参数传 true，则该四个值是绝对的像素位置
color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
offset: 0, color: &#39;red&#39; //指0%处的颜色
}, {
offset: 1, color: &#39;blue&#39; //指100%处的颜色
}], false)
}
}
设计图：
应用：
（一）首先编写简单的html如下：
&lt;!DOCTYPE html&gt; &lt;html lang=&#34;en&#34; dir=&#34;ltr&#34;&gt; &lt;head&gt; &lt;meta charset=&#34;utf-8&#34;&gt; &lt;title&gt;柱状图柱体颜色渐变（每个柱体不同渐变色）&lt;/title&gt; &lt;/head&gt; &lt;style type=&#34;text/css&#34;&gt; *{ padding: 0; margin:0 auto; } .wrapper{ width: 1100px; height: auto; background: #262A36FF; } #container{ width: 960px; height:500px; margin-top:5%; /* background:red; */ } &lt;/style&gt; &lt;body&gt; &lt;div class=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/c00eadf40138f0f0a22fc18ccf43aa5e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-08-28T16:25:54+08:00" />
<meta property="article:modified_time" content="2019-08-28T16:25:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ECharts（三）：柱状图柱体颜色渐变（每个柱体不同渐变色）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>前提：</strong></p> 
<p>    会简单的<a href="https://blog.csdn.net/baidu_41327283/article/details/97397763">绘制柱状图</a></p> 
<p><strong>主要内容：</strong></p> 
<p>    渐变的主要使用在<a href="https://efe.baidu.com/blog/echarts-3.2.0/" rel="nofollow">https://efe.baidu.com/blog/echarts-3.2.0/</a>中有介绍到：</p> 
<blockquote> 
 <p>itemStyle: {<!-- --><br>     normal: {<!-- --><br>         // 线性渐变，前四个参数分别是 x0, y0, x2, y2, 范围从 0 - 1，分别表示右,下,左,上。例如（0，0，0，1）表示从正上开始向下渐变；如果是（1，0，0，0），则是从正右开始向左渐变。<br>         // 相当于在图形包围盒中的百分比，如果最后一个参数传 true，则该四个值是绝对的像素位置<br>         color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{<!-- --><br>             offset: 0, color: 'red'                   //指0%处的颜色<br>         }, {<!-- --><br>             offset: 1, color: 'blue'                 //指100%处的颜色<br>         }], false)<br>     }<br> }</p> 
</blockquote> 
<p><strong>设计图：</strong></p> 
<p><img alt="" class="has" height="217" src="https://images2.imgbox.com/c0/28/XiOTaEyr_o.png" width="493"></p> 
<p><strong>应用：</strong></p> 
<p>（一）首先编写简单的html如下：</p> 
<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en" dir="ltr"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;柱状图柱体颜色渐变（每个柱体不同渐变色）&lt;/title&gt;
  &lt;/head&gt;
  &lt;style type="text/css"&gt;
    *{
      padding: 0;
      margin:0 auto;
    }
    .wrapper{
      width: 1100px;
      height: auto;
      background: #262A36FF;
    }
    #container{
      width: 960px;
      height:500px;
      margin-top:5%;
      /* background:red; */
    }
  &lt;/style&gt;
  &lt;body&gt;
    &lt;div class="wrapper"&gt;
      &lt;div id="container"&gt; &lt;/div&gt;
    &lt;/div&gt;
  &lt;/body&gt;

  &lt;script type = "text/javascript" src="./js/jquery.js"&gt;&lt;/script&gt;
  &lt;script type = "text/javascript" src="./js/echarts.js"&gt;&lt;/script&gt;
  &lt;script type = "text/javascript"&gt;
  $(document).ready(function(){
    
  }
  &lt;/script&gt;
&lt;/html&gt;
</code></pre> 
<p> </p> 
<p>（二）这里将直接介绍图表配置选项option的设置，文末会附上全部代码</p> 
<p>1、按照设计图绘制x、y轴</p> 
<pre class="has"><code class="language-javascript">   xAxis:{
            //是否显示x轴
            show:true,
            //类型：类目轴
            type:'category',
            //坐标轴刻度设置
            axisTick:{
                //隐藏刻度线
				show:false,
                //设置刻度线与标签对齐
                alignWithLabel:true
                },
            axisLabel:{
           		//x轴刻度标签字体颜色大小
	           	textStyle:{
	           		fontSize: 20,
	           		color:'#F0F0F0'
	           	    }
	            },
            axisLine:{
                show:true,
	            lineStyle:{
	                //轴线颜色
	                color: '#6A7594',
	                //线型
	                type:'dashed'
	                }
                },
            data:['目标职责','制度建设','教育培训','风险管理','职业安全','应急管理','现场管理'] 
            },
        yAxis:{
            type:'value',
            //是否显示y轴
            show:true,
            //隐藏y轴轴线
            axisLine:{
                show:false
                },
            axisTick:{
                //隐藏刻度线
                show:false
                },
            splitLine:{
                //隐藏网格线
                show:false
                },
            //刻度轴标签
            axisLabel:{
                textStyle:{
                    fontSize: 20,
                    color: '#F0F0F0'
                    }
                }
            },</code></pre> 
<p> </p> 
<p><img alt="" class="has" height="502" src="https://images2.imgbox.com/e6/55/8CsewszL_o.png" width="1094"></p> 
<p>2、设置柱体，先设置统一柱体颜色渐变</p> 
<pre class="has"><code class="language-javascript">//系列列表
    series:[
            {
                name:'test',
                //类型：折线图
                type:'bar',
                //柱体的样式
                itemStyle:{
                    normal:{
                        //柱体的颜色
                        //右，下，左，上（1，0，0，0）表示从正右开始向左渐变
                        color: new echarts.graphic.LinearGradient(1,0,0,0,[
                            {
                                offset:0,
                                color:"#0F5C7F"
                            },
                            {
                                offset:1,
                                color:"#99DFFF"
                            }
                            ],false)
                        }
                    },
                data: [14,16,19,22,25,30,45]
                }
        ]</code></pre> 
<p><img alt="" class="has" height="323" src="https://images2.imgbox.com/29/e8/JmIr74D9_o.png" width="563"></p> 
<p>对代码稍微调整一下：</p> 
<pre class="has"><code class="language-javascript">itemStyle:{
    normal:{
        //柱体的颜色
        //右，下，左，上（1，0，0，0）表示从正右开始向左渐变
        color: function(params){
            console.log(params);
                           
            return new echarts.graphic.LinearGradient(1,0,0,0,[
                        {
                            offset:0,
                            color:'#0F5C7F'
                        },
                        {
                            offset:1,
                            color:'#99DFFF'
                        }
                        ],false);
            }
        }
                        
}</code></pre> 
<p><img alt="" class="has" height="544" src="https://images2.imgbox.com/1a/44/4J2MePmN_o.png" width="1200"></p> 
<p><img alt="" class="has" height="657" src="https://images2.imgbox.com/ff/fa/rCnfyunB_o.png" width="1200"></p> 
<p>通过params.dataIndex得到柱体对应的序号，从0开始，第一个柱体为0，第二个柱体为1。要实现每一个柱体渐变色不一样，可以通过二维数组。</p> 
<pre class="has"><code class="language-javascript">var colorList = [
	['#0F5C7F','#99DFFF'],
	['#8D3510','#FFA783'],
	['#651180','#D099FF'],
	['#4B8D10','#83FFC0'],
	['#8D104B','#FF83D8'],
	['#7F610F','#FFE899'],
	['#108D89','#83FFE9']
];</code></pre> 
<p>七行二列的二维数组，每一行中右两个颜色，第一个是开始渐变时的颜色，第二个时结束渐变时的颜色。这个二维数组的每一行存储的是每个柱体的渐变颜色，一行对应一个柱体。通过params.dataIndex取二维数组colorList每个柱体的颜色，再填入echarts.graphic.LinearGradient中</p> 
<pre class="has"><code class="language-javascript">var colorItem = colorList[params.dataIndex];
return new echarts.graphic.LinearGradient(1,0,0,0,[
       {
        offset:0,
        color:colorItem[0]
        },
        {
        offset:1,
        color:colorItem[1]
        }
      ],false);
 </code></pre> 
<p><img alt="" class="has" height="302" src="https://images2.imgbox.com/0a/ac/bwuYX5vp_o.png" width="564"></p> 
<p>全部代码：</p> 
<pre class="has"><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en" dir="ltr"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;柱状图柱体颜色渐变（每个柱体不同渐变色）&lt;/title&gt;
  &lt;/head&gt;
  &lt;style type="text/css"&gt;
    *{
      padding: 0;
      margin:0 auto;
    }
    .wrapper{
      width: 1100px;
      height: auto;
      background: #262A36FF;
    }
    #container{
      width: 960px;
      height:500px;
      margin-top:5%;
      /* background:red; */
    }
  &lt;/style&gt;
  &lt;body&gt;
    &lt;div class="wrapper"&gt;
      &lt;div id="container"&gt; &lt;/div&gt;
    &lt;/div&gt;
  &lt;/body&gt;
 
  &lt;script type = "text/javascript" src="./js/jquery.js"&gt;&lt;/script&gt;
  &lt;script type = "text/javascript" src="./js/echarts.js"&gt;&lt;/script&gt;
  &lt;script type = "text/javascript"&gt;
  $(document).ready(function(){
    //实例化echarts对象
    var myEcharts = echarts.init(document.getElementById("container"));
    //自定义图表配置选项
    var option = {
      //提示框组件
      tooltip:{
            //触发类型：坐标轴触发
            trigger:'axis',
            //坐标轴指示器：指示坐标轴当前刻度的工具。
            axisPointer: {
                type: 'shadow',
                //可指定显示哪个轴的axisPointer，这里指定x轴
                axis:'x'
            }

            },
      xAxis:{
            //是否显示x轴
            show:true,
            //类型：类目轴
            type:'category',
            //坐标轴刻度设置
            axisTick:{
                //隐藏刻度线
				show:false,
                //设置刻度线与标签对齐
                alignWithLabel:true
                },
            axisLabel:{
           		//x轴刻度标签字体颜色大小
	           	textStyle:{
	           		fontSize: 20,
	           		color:'#F0F0F0'
	           	    }
	            },
            axisLine:{
                show:true,
	            lineStyle:{
	                //轴线颜色
	                color: '#6A7594',
	                //线型
	                type:'dashed'
	                }
                },
            data:['目标职责','制度建设','教育培训','风险管理','职业安全','应急管理','现场管理'] 
            },
        yAxis:{
            type:'value',
            //是否显示y轴
            show:true,
            //隐藏y轴轴线
            axisLine:{
                show:false
                },
            axisTick:{
                //隐藏刻度线
                show:false
                },
            splitLine:{
                //隐藏网格线
                show:false
                },
            //刻度轴标签
            axisLabel:{
                textStyle:{
                    fontSize: 20,
                    color: '#F0F0F0'
                    }
                }
            },
    //系列列表
    series:[
            {
                name:'test',
                //类型：折线图
                type:'bar',
                //柱体的样式
                itemStyle:{
                    normal:{
                        //柱体的颜色
                        //右，下，左，上（1，0，0，0）表示从正右开始向左渐变
                        color: function(params){
                            console.log(params);
                            var colorList = [
	          						['#0F5C7F','#99DFFF'],
	          						['#8D3510','#FFA783'],
	          						['#651180','#D099FF'],
	          						['#4B8D10','#83FFC0'],
	          						['#8D104B','#FF83D8'],
	          						['#7F610F','#FFE899'],
	          						['#108D89','#83FFE9']
			          			];
                            var colorItem = colorList[params.dataIndex];
                            return new echarts.graphic.LinearGradient(1,0,0,0,[
                                        {
                                            offset:0,
                                            color: colorItem[0]
                                        },
                                        {
                                            offset:1,
                                            color: colorItem[1]
                                        }
                                        ],false);
                            }
                        }
                        
                    },
                data: [14,16,19,22,25,30,45]
                }
        ]
 
    };
    //echarts对象绑定配置选项
    myEcharts.setOption(option);
  });
 
  &lt;/script&gt;
&lt;/html&gt;</code></pre> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ea6f50ef00bd0c7d718ae3b730dd5dc4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">架构：网站架构的伸缩性设计。</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/536415c96697745f3b809ecaeca6b97e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vagrant up报错There was an error while executing `VBoxManage`, a CLI used by Vagrant  for controlling</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>