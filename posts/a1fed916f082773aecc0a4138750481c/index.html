<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【SDN】最新！手把手零基础在Ubuntu 20.04搭建SDN环境（全网最详细）/Floodlight/Mininet/sFlow - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【SDN】最新！手把手零基础在Ubuntu 20.04搭建SDN环境（全网最详细）/Floodlight/Mininet/sFlow" />
<meta property="og:description" content="想在Linux下搭建SDN环境，几乎把中文互联网所有相关教程都看了，用了一周时间才弄好，写下这篇文章帮助大家排坑。包括搭建Floodlight和Mininet，sFlow。
1.安装ubuntu 20.04 网上教程很多，就不展开了。
2.安装JDK8 参考了
Unbuntu下Java环境搭建-CSDN博客 Linux之Ubuntu20.04安装Java JDK8的两种方式-CSDN博客
一 更新软件包列表
sudo apt-get update 二 安装 OpenJDK 8
sudo apt-get install openjdk-8-jdk 三 检查 Java 版本
java -version 如果发现不对，必须要手动到官网下载 Java Downloads | Oracle
一 创建jvm目录
sudo mkdir /usr/lib/jvm 二 解压 JDK 压缩文件到 jvm 目录（注意文件名）
sudo tar -zxvf jdk-8u391-linux-x64.tar.gz -C /usr/lib/jvm 三 (无法解压需要切换到 root 用户)
sudo passwd root su root 四 创建 Java 目录并移动压缩文件
cd /opt sudo mkdir java mv jdk-8u391-linux-x64." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/a1fed916f082773aecc0a4138750481c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-22T12:58:01+08:00" />
<meta property="article:modified_time" content="2023-11-22T12:58:01+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【SDN】最新！手把手零基础在Ubuntu 20.04搭建SDN环境（全网最详细）/Floodlight/Mininet/sFlow</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>想在Linux下搭建SDN环境，几乎把中文互联网所有相关教程都看了，用了一周时间才弄好，写下这篇文章帮助大家排坑。包括搭建<strong>Floodlight</strong>和<strong>Mininet</strong>，<strong>sFlow。</strong></p> 
<h2>1.安装ubuntu 20.04</h2> 
<p>网上教程很多，就不展开了。</p> 
<h2>2.安装JDK8</h2> 
<blockquote> 
 <p>参考了</p> 
 <p><a href="https://blog.csdn.net/Snowy_2012/article/details/78628012" title="Unbuntu下Java环境搭建-CSDN博客 ">Unbuntu下Java环境搭建-CSDN博客 </a><a href="https://blog.csdn.net/Deadly_97/article/details/111657908" title="Linux之Ubuntu20.04安装Java JDK8的两种方式-CSDN博客">Linux之Ubuntu20.04安装Java JDK8的两种方式-CSDN博客</a></p> 
</blockquote> 
<p><strong>一 更新软件包列表</strong></p> 
<pre><code>sudo apt-get update</code></pre> 
<p><strong> 二 安装 OpenJDK 8</strong></p> 
<pre><code>sudo apt-get install openjdk-8-jdk</code></pre> 
<p><strong>三  检查 Java 版本</strong></p> 
<pre><code>java -version</code></pre> 
<h5><strong>如果发现不对，必须要手动到官网下载</strong></h5> 
<p><a href="https://www.oracle.com/java/technologies/downloads/#java8?msgid=bugsview8" rel="nofollow" title="Java Downloads | Oracle">Java Downloads | Oracle</a></p> 
<p><strong>一 创建jvm目录</strong></p> 
<pre><code>sudo mkdir /usr/lib/jvm</code></pre> 
<p><strong>二 解压 JDK 压缩文件到 jvm 目录（注意文件名）</strong></p> 
<pre><code>sudo tar -zxvf jdk-8u391-linux-x64.tar.gz -C /usr/lib/jvm
</code></pre> 
<p><strong>三 (无法解压需要切换到 root 用户)</strong></p> 
<pre><code>sudo passwd root
su root
</code></pre> 
<p><strong>四 创建 Java 目录并移动压缩文件</strong></p> 
<pre><code>cd /opt
sudo mkdir java
mv jdk-8u391-linux-x64.tar.gz /opt/java
tar -zxvf jdk-8u391-linux-x64.tar.gz
rm jdk-8u391-linux-x64.tar.gz
</code></pre> 
<p><strong>五 配置环境变量</strong></p> 
<p><strong>        安装文本编辑器，Vim </strong></p> 
<pre><code>sudo apt update
sudo apt install vim
</code></pre> 
<p><strong>        或 Nano</strong></p> 
<pre><code>sudo apt-get install nano
</code></pre> 
<p><strong>编辑 <code>~/.bashrc</code> 文件，在文件末尾加入以下内容（ 替换为你的 JDK 目录）</strong></p> 
<pre><code>export JAVA_HOME=/usr/lib/jvm/jdk1.8.0_391
export JRE_HOME=${JAVA_HOME}/jre
export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib
export PATH=${JAVA_HOME}/bin:$PATH
</code></pre> 
<p><strong>应用更改</strong></p> 
<pre><code>source ~/.bashrc
</code></pre> 
<p><strong> 设置 Java 选择项</strong></p> 
<pre><code>sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/jdk1.8.0_391/bin/java 300
</code></pre> 
<p><strong>六 验证 Java 版本</strong></p> 
<pre><code>java -version
</code></pre> 
<p class="img-center"><img alt="" height="114" src="https://images2.imgbox.com/f2/ae/CXC9LNIU_o.png" width="611"></p> 
<h2>3.安装ant1.10.7</h2> 
<blockquote> 
 <p>参考了<a href="https://blog.csdn.net/m0_37039484/article/details/80798139" title="Linux之ant安装部署_linux ant-CSDN博客">Linux之ant安装部署_linux ant-CSDN博客</a></p> 
</blockquote> 
<p>一 安装 Maven</p> 
<pre><code>sudo apt-get install maven
</code></pre> 
<p><strong>二 解压 Apache Ant 压缩文件</strong></p> 
<pre><code>tar -zxvf apache-ant-1.10.7.tar.gz
</code></pre> 
<p><strong>三 赋予权限</strong></p> 
<pre><code>chmod 777 apache-ant-1.10.7
</code></pre> 
<p><strong>四 配置环境变量</strong></p> 
<p><strong>编辑 <code>/etc/profile</code> 文件</strong></p> 
<pre><code>sudo vi /etc/profile
</code></pre> 
<p><strong>在文件末尾加入（用你的路径）</strong></p> 
<pre><code>export ANT_HOME=/path/to/apache-ant-1.10.7
export PATH=$PATH:$ANT_HOME/bin
</code></pre> 
<p><strong>应用</strong></p> 
<pre><code>source /etc/profile
</code></pre> 
<p>五 验证</p> 
<pre><code>ant -version
</code></pre> 
<p class="img-center"><img alt="" height="60" src="https://images2.imgbox.com/77/ef/epEdJZnr_o.png" width="573"></p> 
<p></p> 
<h2>4.安装Eclipse IDE</h2> 
<p><strong>一 下载 Eclipse</strong></p> 
<pre><code>wget -P /opt https://archive.eclipse.org/technology/epp/downloads/release/luna/SR2/eclipse-java-luna-SR2-linux-gtk-x86_64.tar.gz
</code></pre> 
<p><strong>二  解压</strong></p> 
<pre><code>cd /opt
tar -zxvf eclipse-java-luna-SR2-linux-gtk-x86_64.tar.gz
</code></pre> 
<p><strong>三 启动</strong></p> 
<pre><code>cd /opt/eclipse
./eclipse
</code></pre> 
<h2><strong>5.</strong>安装floodlight</h2> 
<blockquote> 
 <p>参考了</p> 
 <p><a href="https://blog.csdn.net/qq_43604520/article/details/106275462?spm=1001.2014.3001.5502" title="floodlight安装教程-CSDN博客">floodlight安装教程-CSDN博客</a></p> 
 <p style="margin-left:0;text-align:justify;"><a href="https://blog.csdn.net/weixin_42369828/article/details/128973133" title="安装floodlight时候ant编译报错。Compile failed； see the compiler error output for……-CSDN博客">安装floodlight时候ant编译报错。Compile failed； see the compiler error output for……-CSDN博客</a></p> 
 <p style="margin-left:0;text-align:justify;"><a href="https://blog.csdn.net/Teachmepatiently/article/details/123609584" title="【精选】Linux下的floodlight安装指南（排坑版）-CSDN博客">【精选】Linux下的floodlight安装指南（排坑版）-CSDN博客</a></p> 
</blockquote> 
<p><strong>一 安装依赖</strong></p> 
<pre><code>sudo apt-get install build-essential
sudo apt-get install git
</code></pre> 
<p><strong>二 下载网盘文件（</strong>不要用直接在github上下载的源码，在这里感谢<a class="link-info" href="https://blog.csdn.net/qq_43604520/article/details/106275462?spm=1001.2014.3001.5502" title="@不再彷徨 ">@不再彷徨 </a>的分享。<strong>）</strong></p> 
<pre><code>链接：https://pan.baidu.com/s/1ZIAhPwestOeG-ThPLBBppg?pwd=safd 
提取码：safd 
--来自百度网盘超级会员V6的分享</code></pre> 
<p><strong>三 到相应文件夹</strong></p> 
<pre><code>cd floodlight</code></pre> 
<p><strong>四 获取子模块</strong></p> 
<pre><code>git pull origin master
git submodule init
git submodule update</code></pre> 
<p>这一步可能会不成功</p> 
<p><strong>五 构建</strong></p> 
<pre><code>ant</code></pre> 
<p><strong>如果报错就需要</strong></p> 
<p>下载0.14.1的<code>libthrift.jar</code>，以及<code>netty-all-4.1.50.Final.jar</code>。且将两个jar包放在<code>floodlight/lib</code>下。且在<code>floodlight</code>文件夹中的<code>build.xml</code>中修改相对于版本。两个jar包放在下面链接中。参考<a class="link-info" href="https://blog.csdn.net/weixin_42369828/article/details/128973133" title="@西工大-大黄">@西工大-大黄</a></p> 
<p><strong>我把相应的文件也放在网盘里了。</strong></p> 
<pre><code>链接：https://pan.baidu.com/s/1ZIAhPwestOeG-ThPLBBppg?pwd=safd 
提取码：safd 
--来自百度网盘超级会员V6的分享</code></pre> 
<p class="img-center"><img alt="" height="500" src="https://images2.imgbox.com/47/ee/hFkQDjR1_o.png" width="664"></p> 
<p><strong>六 之后再构建，运行</strong></p> 
<pre><code>java -jar target/floodlight.jar
</code></pre> 
<p class="img-center"><img alt="" height="345" src="https://images2.imgbox.com/0d/ee/ciWbk6e9_o.png" width="733"></p> 
<p><strong>在浏览器中打开</strong></p> 
<p><strong><a href="http://localhost:8080/ui/index.html" rel="nofollow" title="http://localhost:8080/ui/index.html">http://localhost:8080/ui/index.html</a></strong></p> 
<p><strong>显示</strong></p> 
<p class="img-center"><img alt="" height="850" src="https://images2.imgbox.com/8c/6d/kUpY1xiA_o.png" width="1197"></p> 
<h2>6.安装 Mininet</h2> 
<blockquote> 
 <p>参考<a href="https://blog.csdn.net/yyj3900636/article/details/129035119?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522169910009616800197097417%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=169910009616800197097417&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-129035119-null-null.142%5Ev96%5Epc_search_result_base8&amp;utm_term=ubuntu20.04%E5%AE%89%E8%A3%85mininet%E6%95%99%E7%A8%8B" title="【SDN】最快速安装mininet仿真器+ryu控制器(Ubuntu18.04 or 20.04)_Jerry_丶的博客-CSDN博客">【SDN】最快速安装mininet仿真器+ryu控制器(Ubuntu18.04 or 20.04)_Jerry_丶的博客-CSDN博客</a></p> 
</blockquote> 
<p><strong>一 安装 Python 3 和 Pip</strong></p> 
<pre><code>sudo apt install python3-pip
echo alias python=python3 &gt;&gt; ~/.bashrc
echo alias pip=pip3 &gt;&gt; ~/.bashrc
source ~/.bashrc
</code></pre> 
<p><strong>二 配置 Pip 使用国内镜像源</strong></p> 
<pre><code>pip3 config set global.index-url https://mirrors.aliyun.com/pypi/simple/
</code></pre> 
<p><strong>三 安装 Git</strong></p> 
<pre><code>sudo apt install git
</code></pre> 
<p><strong>四 克隆 Mininet 仓库</strong></p> 
<pre><code>git clone https://github.com/mininet/mininet.git/
</code></pre> 
<p><strong>五 修改安装脚本</strong></p> 
<p>打开 <code>mininet/util/install.sh</code> 文件</p> 
<pre><code>sudo nano -c ~/mininet/util/install.sh
</code></pre> 
<p> 找到第 106 行，并将 <code>PYTHON=${PYTHON:-python}</code> 修改为</p> 
<pre><code>PYTHON=${PYTHON:-python3}</code></pre> 
<p><strong>六 </strong><strong>运行安装脚本</strong></p> 
<pre><code>sudo chmod 777 mininet/util/install.sh
sudo mininet/util/install.sh -n3V 2.5.0
</code></pre> 
<p><strong>七</strong> <strong>验证安装</strong></p> 
<p></p> 
<pre><code>mn
</code></pre> 
<p><strong>显示</strong></p> 
<pre><code>*** No default OpenFlow controller found for default switch!
*** Falling back to OVS Bridge
*** Mininet must run as root.
</code></pre> 
<p><strong>表明安装成功</strong></p> 
<h2>7.安装sFlow</h2> 
<p style="margin-left:0;text-align:justify;"><strong>一 安装 Open vSwitch</strong></p> 
<pre><code>sudo apt-get install openvswitch-switch
</code></pre> 
<p><strong>二 下载 sFlow-RT</strong></p> 
<pre><code>wget http://www.inmon.com/products/sFlow-RT/sflow-rt.tar.gz
tar -xvzf sflow-rt.tar.gz
</code></pre> 
<p>三 <strong>安装 sFlow</strong></p> 
<pre><code>./sflow-rt/get-app.sh sflow-rt flow-trend
./sflow-rt/get-app.sh sflow-rt browse-metrics
cd sflow-rt
./start.sh
</code></pre> 
<p><strong>四 创建应用目录并运行</strong></p> 
<pre><code>mkdir app
docker run -v $PWD/app:/sflow-rt/app --entrypoint /sflow-rt/get-app.sh sflow/sflow-rt sflow-rt flow-trend
docker run -v $PWD/app:/sflow-rt/app --entrypoint /sflow-rt/get-app.sh sflow/sflow-rt sflow-rt browse-metrics
docker run -v $PWD/app:/sflow-rt/app -p 6343:6343/udp -p 8008:8008 sflow/sflow-rt
</code></pre> 
<p><strong>五 一些额外的 安装 Curl</strong></p> 
<pre><code>sudo apt update
sudo apt install curl
</code></pre> 
<p><strong>六 启动</strong></p> 
<pre><code>cd sflow-rt
./start.sh
</code></pre> 
<p class="img-center"><img alt="" height="533" src="https://images2.imgbox.com/3d/cc/tBbcD8w3_o.png" width="786"></p> 
<p><strong>配置 sFlow Agent</strong></p> 
<pre><code>sudo ovs-vsctl -- --id=@sflow create sflow agent=eth0 target="127.0.0.1:6343" sampling=10 polling=20 -- set bridge s1 sflow=@sflow
</code></pre> 
<p><strong>打开</strong></p> 
<pre><code> http://127.0.0.1:8008</code></pre> 
<p><img alt="" height="831" src="https://images2.imgbox.com/c0/49/aHsFwCMq_o.png" width="1093"></p> 
<p></p> 
<p>至此结束</p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2b2db907e7bedef91bd322570936729e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Laravel/Lumen 任务调度简易入门说明</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7a094e470efcb57a9036e85c07fe6ddc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【前端】实际开发案例</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>