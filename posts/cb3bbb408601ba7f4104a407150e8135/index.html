<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PyQt5桌面应用开发（4）：界面设计 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="PyQt5桌面应用开发（4）：界面设计" />
<meta property="og:description" content="本文目录 PyQt5桌面应用系列前言为什么又是需求分析？PyQt5的界面设计元素界面设计元素分类 编译为Python代码使用转换命令行组合使用继承使用方式直接使用ui文件的方法 总结 PyQt5桌面应用系列 PyQt5桌面应用开发（1）：需求分析 PyQt5桌面应用开发（2）：事件循环 PyQt5桌面应用开发（3）：并行设计 PyQt5桌面应用开发（4）：界面设计 PyQt5桌面应用开发（5）：对话框 PyQt5桌面应用开发（6）：文件对话框 PyQt5桌面应用开发（7）：文本编辑&#43;语法高亮与行号 PyQt5桌面应用开发（8）：从QInputDialog转进到函数参数传递 PyQt5桌面应用开发（9）：经典布局QMainWindow PyQt5桌面应用开发（10）：界面布局基本支持 PyQt5桌面应用开发（11）：摸鱼也要讲基本法，两个字，16 PyQt5桌面应用开发（12）：QFile与线程安全 PyQt5桌面应用开发（13）：QGraphicsView框架 PyQt5桌面应用开发（14）：数据库&#43;ModelView&#43;QCharts PyQt5桌面应用开发（15）：界面动画 PyQt5桌面应用开发（16）：定制化控件-QPainter绘图 PyQt5桌面应用开发（17）：类结构&#43;QWebEngineView 前言 经过需求分析、事件循环和并行设计的介绍，终于还是要写一篇界面设计的内容。很不情愿，因为我这个部分很不擅长，设计的界面很丑很丑。
其实丑并不可怕，关了灯都一样……
首先，我们再回到需求分析的话题。
为什么又是需求分析？ 需求分析，这条内裤，始终是要穿上的。
那么界面设计的内裤大概是什么样的呢，有很多人是从美观的角度出发设计出漂亮的界面。我们搬砖的找了一堆支持的理论，还是只能设计出巨丑的界面。一般而言，我们是从用户体验的角度出发，结合软件需求分析的过程来确定界面。
从用户需求这里，基本上就能确定数据报表，从功能需求分析这里，就能确定用户交互。这两个部分最终构成用户界面的开发需求。
报表界面；交互界面。 等到报表界面和交互界面确定后，就是利用PyQt5提供的工具来实现。
PyQt5的界面设计元素 在采用PyQt5设计界面时，我们常用和标准的工具就是Designer。如何安装和使用Designer，我实在不耐烦讲。网上教程（视频）和参考貌似比较多。就只是在CSDN上，就一大堆，CSDN搜索pyqt5 designer即可。如果英语好，也有更多参考内容，随便举个栗子。我就大概拉一拉界面设计元素，以作参考。
界面设计元素分类 在Designer里面，PyQt5的界面设计元素分为8个大类：
Layouts：界面布局Spacers：空间间隔Buttons：动作按钮Item Views：数据视图Item Widgets：数据控件Containers：空间容器Input Widgets：输入控件Display Widgets：显示控件 直接使用的话，就大概是按照这这八类来布置。这个分类，基本上是按照控件的功能来分的。使用的时候，我们还应该根据前面所讲的开发需求来进行进一步的分类。
所以我们的分类是这样的：
a.报表功能类（共18个控件）
b.输入功能类（共22个控件）
c.布局功能类（共16个控件）
各个具体的控件功能，已经一些教程进行详细的指导。
编译为Python代码使用 转换命令行 我们很随意的假设要展示三组数据（报表1：树表列），然后用Designer画了一个控件。
然后很随意的存成文件tree_data_view.ui，用下面的命令，就可以把界面文件转化成Python文件。这里增加一个参数-x，就给输出的文件增加一个运行的例子。
pyuic5 .\tree_data_view.ui -o .\tree_data_view.py -x 接下来就能运行，显示界面示例。
python .\tree_data_view.ui -o .\tree_data_view.py -x 跟我们在Designer里面画的界面一模一样。ui文件的源代码也很简单，很容易看懂。
&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt; &lt;ui version=&#34;4.0&#34;&gt; &lt;class&gt;Form&lt;/class&gt; &lt;widget class=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/cb3bbb408601ba7f4104a407150e8135/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-23T17:58:43+08:00" />
<meta property="article:modified_time" content="2023-05-23T17:58:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">PyQt5桌面应用开发（4）：界面设计</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>本文目录</h4> 
 <ul><li><a href="#PyQt5_1" rel="nofollow">PyQt5桌面应用系列</a></li><li><a href="#_20" rel="nofollow">前言</a></li><li><a href="#_26" rel="nofollow">为什么又是需求分析？</a></li><li><a href="#PyQt5_37" rel="nofollow">PyQt5的界面设计元素</a></li><li><ul><li><a href="#_40" rel="nofollow">界面设计元素分类</a></li></ul> 
  </li><li><a href="#Python_62" rel="nofollow">编译为Python代码使用</a></li><li><ul><li><a href="#_64" rel="nofollow">转换命令行</a></li><li><a href="#_177" rel="nofollow">组合使用</a></li><li><a href="#_289" rel="nofollow">继承使用方式</a></li><li><a href="#ui_304" rel="nofollow">直接使用ui文件的方法</a></li></ul> 
  </li><li><a href="#_320" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<h2><a id="PyQt5_1"></a>PyQt5桌面应用系列</h2> 
<ul><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="https://withstand.blog.csdn.net/article/details/129193413" rel="nofollow">PyQt5桌面应用开发（1）：需求分析</a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="https://withstand.blog.csdn.net/article/details/129260360" rel="nofollow">PyQt5桌面应用开发（2）：事件循环</a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="https://withstand.blog.csdn.net/article/details/129332040" rel="nofollow">PyQt5桌面应用开发（3）：并行设计</a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> <a href="https://withstand.blog.csdn.net/article/details/129736172" rel="nofollow">PyQt5桌面应用开发（4）：界面设计</a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="https://withstand.blog.csdn.net/article/details/130462338" rel="nofollow">PyQt5桌面应用开发（5）：对话框</a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="https://withstand.blog.csdn.net/article/details/130465003" rel="nofollow">PyQt5桌面应用开发（6）：文件对话框</a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="https://withstand.blog.csdn.net/article/details/130486145" rel="nofollow">PyQt5桌面应用开发（7）：文本编辑+语法高亮与行号</a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="https://withstand.blog.csdn.net/article/details/130511572" rel="nofollow">PyQt5桌面应用开发（8）：从QInputDialog转进到函数参数传递</a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="https://withstand.blog.csdn.net/article/details/130533692" rel="nofollow">PyQt5桌面应用开发（9）：经典布局QMainWindow</a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="https://withstand.blog.csdn.net/article/details/130549354" rel="nofollow">PyQt5桌面应用开发（10）：界面布局基本支持</a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="https://withstand.blog.csdn.net/article/details/130567363" rel="nofollow">PyQt5桌面应用开发（11）：摸鱼也要讲基本法，两个字，16</a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="https://withstand.blog.csdn.net/article/details/130577172" rel="nofollow">PyQt5桌面应用开发（12）：QFile与线程安全</a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="https://withstand.blog.csdn.net/article/details/130646002" rel="nofollow">PyQt5桌面应用开发（13）：QGraphicsView框架</a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="https://withstand.blog.csdn.net/article/details/130663965" rel="nofollow">PyQt5桌面应用开发（14）：数据库+ModelView+QCharts</a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="https://withstand.blog.csdn.net/article/details/130744774" rel="nofollow">PyQt5桌面应用开发（15）：界面动画</a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="https://withstand.blog.csdn.net/article/details/130783809" rel="nofollow">PyQt5桌面应用开发（16）：定制化控件-QPainter绘图</a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="https://withstand.blog.csdn.net/article/details/130806025" rel="nofollow">PyQt5桌面应用开发（17）：类结构+QWebEngineView</a></li></ul> 
<h2><a id="_20"></a>前言</h2> 
<p>经过需求分析、事件循环和并行设计的介绍，终于还是要写一篇界面设计的内容。很不情愿，因为我这个部分很不擅长，设计的界面很丑很丑。</p> 
<p>其实丑并不可怕，关了灯都一样……</p> 
<p>首先，我们再回到需求分析的话题。</p> 
<h2><a id="_26"></a>为什么又是需求分析？</h2> 
<p>需求分析，这条内裤，始终是要穿上的。</p> 
<p>那么界面设计的内裤大概是什么样的呢，有很多人是从美观的角度出发设计出漂亮的界面。我们搬砖的找了一堆支持的理论，还是只能设计出巨丑的界面。一般而言，我们是从用户体验的角度出发，结合软件需求分析的过程来确定界面。<br> <img src="https://images2.imgbox.com/0c/d3/eKqqkozI_o.png" alt="用户体验设计的蜂巢模型" width="300"><br> 从用户需求这里，基本上就能确定数据报表，从功能需求分析这里，就能确定用户交互。这两个部分最终构成用户界面的开发需求。</p> 
<ol><li>报表界面；</li><li>交互界面。</li></ol> 
<p><img src="https://images2.imgbox.com/2e/1f/NKZYIV3d_o.png" alt="软件用户界面设计的分析过程" width="500"><br> 等到报表界面和交互界面确定后，就是利用PyQt5提供的工具来实现。</p> 
<h2><a id="PyQt5_37"></a>PyQt5的界面设计元素</h2> 
<p>在采用PyQt5设计界面时，我们常用和标准的工具就是Designer。如何安装和使用Designer，我实在不耐烦讲。网上教程（视频）和参考貌似比较多。就只是在CSDN上，就一大堆，<a href="https://so.csdn.net/so/search?spm=1001.2100.3001.4498&amp;q=pyqt5%20designer&amp;t=&amp;u=">CSDN搜索pyqt5 designer</a>即可。如果英语好，也有更多参考内容，随便举个<a href="https://realpython.com/qt-designer-python/" rel="nofollow">栗子</a>。我就大概拉一拉界面设计元素，以作参考。</p> 
<h3><a id="_40"></a>界面设计元素分类</h3> 
<p>在Designer里面，PyQt5的界面设计元素分为8个大类：</p> 
<ol><li>Layouts：界面布局</li><li>Spacers：空间间隔</li><li>Buttons：动作按钮</li><li>Item Views：数据视图</li><li>Item Widgets：数据控件</li><li>Containers：空间容器</li><li>Input Widgets：输入控件</li><li>Display Widgets：显示控件</li></ol> 
<p>直接使用的话，就大概是按照这这八类来布置。这个分类，基本上是按照控件的功能来分的。使用的时候，我们还应该根据前面所讲的开发需求来进行进一步的分类。<br> <img src="https://images2.imgbox.com/17/55/irGFmZnr_o.png" alt="PyQt的UI设计元素" width="500"><br> 所以我们的分类是这样的：<br> a.报表功能类（共18个控件）<br> b.输入功能类（共22个控件）<br> c.布局功能类（共16个控件）</p> 
<p><img src="https://images2.imgbox.com/5f/a5/hsqfr333_o.png" alt="控件功能分类" width="500"><br> 各个具体的控件功能，已经一些教程进行详细的指导。</p> 
<h2><a id="Python_62"></a>编译为Python代码使用</h2> 
<h3><a id="_64"></a>转换命令行</h3> 
<p>我们很随意的假设要展示三组数据（报表1：树表列），然后用Designer画了一个控件。</p> 
<p><img src="https://images2.imgbox.com/62/8a/Qnec6qIS_o.png" alt="在这里插入图片描述" width="500"><br> 然后很随意的存成文件<code>tree_data_view.ui</code>，用下面的命令，就可以把界面文件转化成Python文件。这里增加一个参数<code>-x</code>，就给输出的文件增加一个运行的例子。</p> 
<pre><code class="prism language-powershell">pyuic5 <span class="token punctuation">.</span>\tree_data_view<span class="token punctuation">.</span>ui <span class="token operator">-</span>o <span class="token punctuation">.</span>\tree_data_view<span class="token punctuation">.</span>py <span class="token operator">-</span>x
</code></pre> 
<p>接下来就能运行，显示界面示例。</p> 
<pre><code class="prism language-powershell">python <span class="token punctuation">.</span>\tree_data_view<span class="token punctuation">.</span>ui <span class="token operator">-</span>o <span class="token punctuation">.</span>\tree_data_view<span class="token punctuation">.</span>py <span class="token operator">-</span>x
</code></pre> 
<p><img src="https://images2.imgbox.com/5a/b0/34EvRStQ_o.png" alt="在这里插入图片描述" width="400"><br> 跟我们在Designer里面画的界面一模一样。ui文件的源代码也很简单，很容易看懂。</p> 
<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ui</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>class</span><span class="token punctuation">&gt;</span></span>Form<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>class</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>widget</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>QWidget<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Form<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>geometry<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rect</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>x</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>x</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>y</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>y</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>width</span><span class="token punctuation">&gt;</span></span>1106<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>width</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>height</span><span class="token punctuation">&gt;</span></span>584<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>height</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rect</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>windowTitle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>Item Widgets Demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>QHBoxLayout<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>horizontalLayout<span class="token punctuation">"</span></span> <span class="token attr-name">stretch</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0,0,0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>widget</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>QTreeWidget<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>treeWidget<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>column</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span> <span class="token attr-name">notr</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>column</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>widget</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>widget</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>QTableWidget<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tableWidget<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>widget</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>QListWidget<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>listWidget<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>widget</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">/&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>connections</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ui</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>当然转换得到的Python文件更容易读懂。</p> 
<pre><code class="prism language-python"><span class="token comment"># -*- coding: utf-8 -*-</span>

<span class="token comment"># Form implementation generated from reading ui file '.\tree_data_view.ui'</span>
<span class="token comment">#</span>
<span class="token comment"># Created by: PyQt5 UI code generator 5.15.7</span>
<span class="token comment">#</span>
<span class="token comment"># WARNING: Any manual changes made to this file will be lost when pyuic5 is</span>
<span class="token comment"># run again.  Do not edit this file unless you know what you are doing.</span>


<span class="token keyword">from</span> PyQt5 <span class="token keyword">import</span> QtCore<span class="token punctuation">,</span> QtGui<span class="token punctuation">,</span> QtWidgets


<span class="token keyword">class</span> <span class="token class-name">Ui_Form</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">setupUi</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> Form<span class="token punctuation">)</span><span class="token punctuation">:</span>
        Form<span class="token punctuation">.</span>setObjectName<span class="token punctuation">(</span><span class="token string">"Form"</span><span class="token punctuation">)</span>
        Form<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">1106</span><span class="token punctuation">,</span> <span class="token number">584</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>horizontalLayout <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QHBoxLayout<span class="token punctuation">(</span>Form<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>horizontalLayout<span class="token punctuation">.</span>setObjectName<span class="token punctuation">(</span><span class="token string">"horizontalLayout"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>treeWidget <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QTreeWidget<span class="token punctuation">(</span>Form<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>treeWidget<span class="token punctuation">.</span>setObjectName<span class="token punctuation">(</span><span class="token string">"treeWidget"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>treeWidget<span class="token punctuation">.</span>headerItem<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"1"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>horizontalLayout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>treeWidget<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>tableWidget <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QTableWidget<span class="token punctuation">(</span>Form<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setObjectName<span class="token punctuation">(</span><span class="token string">"tableWidget"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setColumnCount<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setRowCount<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>horizontalLayout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>listWidget <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QListWidget<span class="token punctuation">(</span>Form<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>listWidget<span class="token punctuation">.</span>setObjectName<span class="token punctuation">(</span><span class="token string">"listWidget"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>horizontalLayout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>listWidget<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>retranslateUi<span class="token punctuation">(</span>Form<span class="token punctuation">)</span>
        QtCore<span class="token punctuation">.</span>QMetaObject<span class="token punctuation">.</span>connectSlotsByName<span class="token punctuation">(</span>Form<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">retranslateUi</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> Form<span class="token punctuation">)</span><span class="token punctuation">:</span>
        _translate <span class="token operator">=</span> QtCore<span class="token punctuation">.</span>QCoreApplication<span class="token punctuation">.</span>translate
        Form<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span>_translate<span class="token punctuation">(</span><span class="token string">"Form"</span><span class="token punctuation">,</span> <span class="token string">"Item Widgets Demo"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    <span class="token keyword">import</span> sys
    app <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    Form <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
    ui <span class="token operator">=</span> Ui_Form<span class="token punctuation">(</span><span class="token punctuation">)</span>
    ui<span class="token punctuation">.</span>setupUi<span class="token punctuation">(</span>Form<span class="token punctuation">)</span>
    Form<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>一般而言，我们使用这个代码时，有一个原则：不更改由pyuic5生成的代码。</p> 
<blockquote> 
 <p>界面设计信息唯一保存于ui文件中。</p> 
</blockquote> 
<p>大概见到的使用这个报表的方法有3种。</p> 
<h3><a id="_177"></a>组合使用</h3> 
<p>我们先看pyuic5 -x定义的使用方法，声明一个<code>Ui_Form</code>，默认的名字总是这个；把一个<code>QWidget</code>作为参数调用<code>Ui_Form.setupUi</code>。</p> 
<pre><code class="prism language-python"><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    <span class="token keyword">import</span> sys
    app <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    Form <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
    ui <span class="token operator">=</span> Ui_Form<span class="token punctuation">(</span><span class="token punctuation">)</span>
    ui<span class="token punctuation">.</span>setupUi<span class="token punctuation">(</span>Form<span class="token punctuation">)</span>
    Form<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>要正经的使用我们的报表，可以设计一个按钮，按按钮就显示报表。</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> tree_data_view <span class="token keyword">import</span> Ui_Form
<span class="token keyword">from</span> PyQt5 <span class="token keyword">import</span> QtWidgets<span class="token punctuation">,</span> QtCore

<span class="token keyword">class</span> <span class="token class-name">TreeData_View</span><span class="token punctuation">(</span>QtWidgets<span class="token punctuation">.</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>TreeData_View<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
        <span class="token comment"># 设置界面</span>
        self<span class="token punctuation">.</span>ui <span class="token operator">=</span> Ui_Form<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>setupUi<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
		
		<span class="token comment"># 重新定义变量，为了更好地获得IDE的支持，更容易编写程序</span>
        self<span class="token punctuation">.</span>treeWidget<span class="token punctuation">:</span> QtWidgets<span class="token punctuation">.</span>QTreeWidget <span class="token operator">=</span> self<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>treeWidget
        self<span class="token punctuation">.</span>listWidget<span class="token punctuation">:</span> QtWidgets<span class="token punctuation">.</span>QListWidget <span class="token operator">=</span> self<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>listWidget
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">:</span> QtWidgets<span class="token punctuation">.</span>QTableWidget <span class="token operator">=</span> self<span class="token punctuation">.</span>ui<span class="token punctuation">.</span>tableWidget
		
		<span class="token comment"># fake data</span>
        self<span class="token punctuation">.</span>_init_tree<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>_init_table<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>_init_list<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">_init_tree</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># prepare data for QTreeWidget</span>
        self<span class="token punctuation">.</span>treeWidget<span class="token punctuation">.</span>setHeaderLabels<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"Name"</span><span class="token punctuation">,</span> <span class="token string">"Value"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>treeWidget<span class="token punctuation">.</span>setColumnCount<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>treeWidget<span class="token punctuation">.</span>setColumnWidth<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>treeWidget<span class="token punctuation">.</span>setColumnWidth<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>treeWidget<span class="token punctuation">.</span>setSortingEnabled<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>treeWidget<span class="token punctuation">.</span>setAlternatingRowColors<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>treeWidget<span class="token punctuation">.</span>setSelectionBehavior<span class="token punctuation">(</span>QtWidgets<span class="token punctuation">.</span>QAbstractItemView<span class="token punctuation">.</span>SelectRows<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>treeWidget<span class="token punctuation">.</span>setSelectionMode<span class="token punctuation">(</span>QtWidgets<span class="token punctuation">.</span>QAbstractItemView<span class="token punctuation">.</span>SingleSelection<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>treeWidget<span class="token punctuation">.</span>setEditTriggers<span class="token punctuation">(</span>QtWidgets<span class="token punctuation">.</span>QAbstractItemView<span class="token punctuation">.</span>NoEditTriggers<span class="token punctuation">)</span>

        root <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QTreeWidgetItem<span class="token punctuation">(</span>self<span class="token punctuation">.</span>treeWidget<span class="token punctuation">)</span>
        root<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"Root"</span><span class="token punctuation">)</span>
        root<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"Root Value"</span><span class="token punctuation">)</span>
        child1 <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QTreeWidgetItem<span class="token punctuation">(</span>root<span class="token punctuation">)</span>
        child1<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"Child 1"</span><span class="token punctuation">)</span>
        child1<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"Child 1 Value"</span><span class="token punctuation">)</span>
        child2 <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QTreeWidgetItem<span class="token punctuation">(</span>root<span class="token punctuation">)</span>
        child2<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"Child 2"</span><span class="token punctuation">)</span>
        child2<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"Child 2 Value"</span><span class="token punctuation">)</span>

        grandchild1 <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QTreeWidgetItem<span class="token punctuation">(</span>child1<span class="token punctuation">)</span>
        grandchild1<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"Grandchild 1"</span><span class="token punctuation">)</span>
        grandchild1<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"Grandchild 1 Value"</span><span class="token punctuation">)</span>
        grandchild2 <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QTreeWidgetItem<span class="token punctuation">(</span>child1<span class="token punctuation">)</span>
        grandchild2<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"Grandchild 2"</span><span class="token punctuation">)</span>
        grandchild2<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"Grandchild 2 Value"</span><span class="token punctuation">)</span>
        
        self<span class="token punctuation">.</span>treeWidget<span class="token punctuation">.</span>addTopLevelItem<span class="token punctuation">(</span>root<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>treeWidget<span class="token punctuation">.</span>expandAll<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">_init_table</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># prepare data for QTableWidget</span>
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setColumnCount<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setRowCount<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setHorizontalHeaderLabels<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"Name"</span><span class="token punctuation">,</span> <span class="token string">"Value"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setColumnWidth<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setColumnWidth<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setSortingEnabled<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setAlternatingRowColors<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setSelectionBehavior<span class="token punctuation">(</span>QtWidgets<span class="token punctuation">.</span>QAbstractItemView<span class="token punctuation">.</span>SelectRows<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setSelectionMode<span class="token punctuation">(</span>QtWidgets<span class="token punctuation">.</span>QAbstractItemView<span class="token punctuation">.</span>SingleSelection<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setEditTriggers<span class="token punctuation">(</span>QtWidgets<span class="token punctuation">.</span>QAbstractItemView<span class="token punctuation">.</span>NoEditTriggers<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setContextMenuPolicy<span class="token punctuation">(</span>QtCore<span class="token punctuation">.</span>Qt<span class="token punctuation">.</span>CustomContextMenu<span class="token punctuation">)</span>

        <span class="token keyword">for</span> row <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> col <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                item <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QTableWidgetItem<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Item </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>row<span class="token punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>col<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
                self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">.</span>setItem<span class="token punctuation">(</span>row<span class="token punctuation">,</span> col<span class="token punctuation">,</span> item<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">_init_list</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># prepare data for QListWidget</span>
        self<span class="token punctuation">.</span>listWidget<span class="token punctuation">.</span>setSortingEnabled<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>listWidget<span class="token punctuation">.</span>setAlternatingRowColors<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>listWidget<span class="token punctuation">.</span>setSelectionBehavior<span class="token punctuation">(</span>QtWidgets<span class="token punctuation">.</span>QAbstractItemView<span class="token punctuation">.</span>SelectRows<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>listWidget<span class="token punctuation">.</span>setSelectionMode<span class="token punctuation">(</span>QtWidgets<span class="token punctuation">.</span>QAbstractItemView<span class="token punctuation">.</span>SingleSelection<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>listWidget<span class="token punctuation">.</span>addItems<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string-interpolation"><span class="token string">f"Item </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>i<span class="token punctuation">}</span></span><span class="token string">"</span></span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    <span class="token keyword">import</span> sys
    app <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    win <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QMainWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    Form <span class="token operator">=</span> TreeData_View<span class="token punctuation">(</span><span class="token punctuation">)</span>

    button <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QPushButton<span class="token punctuation">(</span><span class="token string">"Show TreeData_View"</span><span class="token punctuation">)</span>
    button<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> Form<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    win<span class="token punctuation">.</span>setCentralWidget<span class="token punctuation">(</span>button<span class="token punctuation">)</span>

    win<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span>exec_<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>这个也是相当直观的。</p> 
<h3><a id="_289"></a>继承使用方式</h3> 
<p>我们还可以采用继承的方式，仅有小小的不同。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">TreeData_View</span><span class="token punctuation">(</span>QtWidgets<span class="token punctuation">.</span>QWidget<span class="token punctuation">,</span> Ui_Form<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>TreeData_View<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setupUi<span class="token punctuation">(</span>self<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>treeWidget<span class="token punctuation">:</span> QtWidgets<span class="token punctuation">.</span>QTreeWidget
        self<span class="token punctuation">.</span>listWidget<span class="token punctuation">:</span> QtWidgets<span class="token punctuation">.</span>QListWidget
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">:</span> QtWidgets<span class="token punctuation">.</span>QTableWidget
</code></pre> 
<p>此时，代码稍微简单一点点，可读性也没有变差。</p> 
<h3><a id="ui_304"></a>直接使用ui文件的方法</h3> 
<p>直接使用ui的方法也很简单，也只要更改一点点代码。</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> PyQt5 <span class="token keyword">import</span> QtWidgets<span class="token punctuation">,</span> QtCore<span class="token punctuation">,</span> uic

<span class="token keyword">class</span> <span class="token class-name">TreeData_View</span><span class="token punctuation">(</span>QtWidgets<span class="token punctuation">.</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>TreeData_View<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
        uic<span class="token punctuation">.</span>loadUi<span class="token punctuation">(</span><span class="token string">"tree_data_view.ui"</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>treeWidget<span class="token punctuation">:</span> QtWidgets<span class="token punctuation">.</span>QTreeWidget
        self<span class="token punctuation">.</span>listWidget<span class="token punctuation">:</span> QtWidgets<span class="token punctuation">.</span>QListWidget
        self<span class="token punctuation">.</span>tableWidget<span class="token punctuation">:</span> QtWidgets<span class="token punctuation">.</span>QTableWidget
</code></pre> 
<p>这里的<code>loadUi</code>函数的第二个参数是一个QWidget对象，如果不输入这个参数，就直接新建一个QWidget。这里值得注意的是，ui文件中定义的控件，直接就赋给了QWidget对象，与组合方式中略有不同，更类似与多继承的方式。</p> 
<h2><a id="_320"></a>总结</h2> 
<ol><li>8类控件可以分为3大类；</li><li>三种使用ui文件的方式；</li><li>每种方式都差不多，为了IDE支持代码，可以把控件的类型都声明一遍。</li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/91ba10d2c3109287d06ad001be0affcf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">无法访问此网站</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f5d28c98685e8e905c8b8ab345e0ee16/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python QT5设计UI界面教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>