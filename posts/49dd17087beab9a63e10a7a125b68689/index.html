<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>c# cad PromptSelectionResult批量选择 PromptEntityOptions选择单个实体介绍 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="c# cad PromptSelectionResult批量选择 PromptEntityOptions选择单个实体介绍" />
<meta property="og:description" content="一、PromptSelectionResult ： 是 AutoCAD .NET API 中的一个类，位于 Autodesk.AutoCAD.EditorInput 命名空间下。它代表了用户在 AutoCAD 编辑器中进行图形对象选择操作的结果。
当你通过 Editor 类的 GetSelection() 方法（或者其他类似的方法）请求用户在绘图区选择一个或多个实体时，AutoCAD 会返回一个 PromptSelectionResult 对象。这个结果对象包含了以下关键信息：
Status：表示选择操作的状态，可以是 PromptStatus.OK（用户成功选择了对象）、PromptStatus.Cancel（用户取消了选择操作）或其他状态。
Value：如果 Status 为 PromptStatus.OK，那么 Value 属性将是一个 SelectedObjectCollection 对象，包含了用户所选的所有实体的信息。每一个 SelectedObject 都包含了被选中实体的 ObjectId 和其他可能的相关数据。
Keywords：在某些特定的选择提示中，可能会涉及到关键词匹配。此属性包含了一组用户输入的关键词。
使用 PromptSelectionResult 可以根据用户的选择来执行相应的后续处理，如获取选定实体的详细信息、修改实体属性或者执行与所选实体相关的其他操作。例如：
using Autodesk.AutoCAD.ApplicationServices; using Autodesk.AutoCAD.DatabaseServices; using Autodesk.AutoCAD.EditorInput; // 初始化AutoCAD应用和编辑器 Document doc = Application.DocumentManager.MdiActiveDocument; Database db = doc.Database; Editor ed = doc.Editor; // 创建选择过滤器并获取用户选择结果 PromptSelectionFilter filter = new PromptSelectionFilter(new TypedValue[] { /* 过滤条件 */ }); PromptSelectionResult selRes = ed." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/49dd17087beab9a63e10a7a125b68689/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-26T13:49:32+08:00" />
<meta property="article:modified_time" content="2024-01-26T13:49:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">c# cad PromptSelectionResult批量选择 PromptEntityOptions选择单个实体介绍</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4><code>一、PromptSelectionResult</code> ：</h4> 
<p>是 AutoCAD .NET API 中的一个类，位于 <code>Autodesk.AutoCAD.EditorInput</code> 命名空间下。它代表了用户在 AutoCAD 编辑器中进行图形对象选择操作的结果。</p> 
<p>当你通过 <code>Editor</code> 类的 <code>GetSelection()</code> 方法（或者其他类似的方法）请求用户在绘图区选择一个或多个实体时，AutoCAD 会返回一个 <code>PromptSelectionResult</code> 对象。这个结果对象包含了以下关键信息：</p> 
<ol><li> <p><strong>Status</strong>：表示选择操作的状态，可以是 <code>PromptStatus.OK</code>（用户成功选择了对象）、<code>PromptStatus.Cancel</code>（用户取消了选择操作）或其他状态。</p> </li><li> <p><strong>Value</strong>：如果 <code>Status</code> 为 <code>PromptStatus.OK</code>，那么 <code>Value</code> 属性将是一个 <code>SelectedObjectCollection</code> 对象，包含了用户所选的所有实体的信息。每一个 <code>SelectedObject</code> 都包含了被选中实体的 <code>ObjectId</code> 和其他可能的相关数据。</p> </li><li> <p><strong>Keywords</strong>：在某些特定的选择提示中，可能会涉及到关键词匹配。此属性包含了一组用户输入的关键词。</p> </li></ol> 
<p>使用 <code>PromptSelectionResult</code> 可以根据用户的选择来执行相应的后续处理，如获取选定实体的详细信息、修改实体属性或者执行与所选实体相关的其他操作。例如：</p> 
<pre><code class="language-cs">using Autodesk.AutoCAD.ApplicationServices;
using Autodesk.AutoCAD.DatabaseServices;
using Autodesk.AutoCAD.EditorInput;

// 初始化AutoCAD应用和编辑器
Document doc = Application.DocumentManager.MdiActiveDocument;
Database db = doc.Database;
Editor ed = doc.Editor;

// 创建选择过滤器并获取用户选择结果
PromptSelectionFilter filter = new PromptSelectionFilter(new TypedValue[] { /* 过滤条件 */ });
PromptSelectionResult selRes = ed.GetSelection(filter, "\n请选择图形对象：");

if (selRes.Status == PromptStatus.OK)
{
    foreach (SelectedObject so in selRes.Value)
    {
        ObjectId id = so.ObjectId;
        // 使用id获取实体并进行进一步操作...
    }
}</code></pre> 
<h4><code>二、PromptEntityOptions</code> ：</h4> 
<p>是 AutoCAD .NET API 中的一个类，位于 <code>Autodesk.AutoCAD.EditorInput</code> 命名空间下，用于在编程中自定义实体选择提示的行为。当你需要从用户那里获取特定类型的AutoCAD实体时，可以使用这个类来配置和执行实体选择操作。</p> 
<p>该类主要用来创建一个实体选择对话框的参数集，包括：</p> 
<ol><li><strong>Message</strong>：显示给用户的提示信息，告诉用户需要做什么或选择什么类型的实体。</li><li><strong>Keywords</strong>：可选的关键字列表，与对象类型、图层或其他属性关联，帮助用户通过输入关键词快速筛选并选择实体。</li><li><strong>AllowNone</strong>：布尔值，表示是否允许用户不选择任何实体而直接取消。</li><li><strong>Multiple</strong>：布尔值，决定用户是否可以一次性选择多个实体。</li><li><strong>CustomObjectFilter</strong> 或 <strong>ObjectType</strong>：指定要选择的实体类型过滤器，可以是一个具体的对象类型（如线、圆、块等），也可以是一个自定义的对象过滤器，用于更复杂的实体类型筛选条件。</li><li><strong>UsePickBox</strong>：是否启用拾取框，让用户可以通过矩形区域来选择一组连续或相邻的实体。</li></ol> 
<p>通过实例化并配置 <code>PromptEntityOptions</code> 对象后，您可以将其传递给 <code>Editor</code> 类的 <code>GetEntity()</code> 方法，从而启动实体选择过程，并根据用户的选择返回一个 <code>PromptEntityResult</code> 对象，其中包含了用户选择的实体信息。</p> 
<p>例如：</p> 
<pre><code class="language-cs">using Autodesk.AutoCAD.ApplicationServices;
using Autodesk.AutoCAD.DatabaseServices;
using Autodesk.AutoCAD.EditorInput;

// 获取当前编辑器和文档
Document doc = Application.DocumentManager.MdiActiveDocument;
Database db = doc.Database;
Editor ed = doc.Editor;

// 创建实体选择选项
PromptEntityOptions opts = new PromptEntityOptions("\n请选择一个线段:");
opts.ObjectType = ObjectType.Line;

// 执行实体选择操作
PromptEntityResult result = ed.GetEntity(opts);

if (result.Status == PromptStatus.OK)
{
    ObjectId selectedId = result.ObjectId;
    // 使用选择的实体ID进行后续处理...
}
else if (result.Status == PromptStatus.Cancel)
{
    ed.WriteMessage("用户取消了选择操作。\n");
}</code></pre> 
<h4><br> 三、总结：</h4> 
<p><br> - `PromptSelectionResult` 通常用于批量选择多种可能的对象，通过筛选器控制可选对象类型。<br> - `PromptEntityOptions` 则用于精确选择单个实体，并可以设定提示信息，但更具体的选择条件（如闭合多段线）需要在获取实体后额外处理。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/df69d6ecb2179086bf1d494a0156c624/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java8 映射方法（map，flatMap）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5278cf752e7b8fab31afb4200316577d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Vite&#43;Electron快速构建一个VUE3桌面应用(三)——打包</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>