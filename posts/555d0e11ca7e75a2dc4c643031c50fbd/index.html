<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Qt】自定义标题栏添加最小化、最大化(还原)和关闭按钮 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Qt】自定义标题栏添加最小化、最大化(还原)和关闭按钮" />
<meta property="og:description" content="创建界面时系统会自带一个标题栏，如果我们需要设计一个好看的界面，这个标题栏就会显得很突兀，所以我们需要自定义标题栏，隐藏原来的标题栏。
自定义标题栏，这些图标我们都可以自己设置，位置可以调整
具体步骤如下：
1.隐藏系统自带的标题栏 this-&gt;setWindowFlags(Qt::FramelessWindowHint);//隐藏边框 去掉标题栏会存在几个问题：
①界面会因为失去边框丢失调整大小的能力
②去除边框后，界面内容将无法移动
③原本自带的最小化、最大化、关闭按钮随着标题栏一起被隐藏了，所以接下来的步骤我们进行添加最小化、最大化、关闭按钮
2.创建最小化、最大化、关闭按钮 3.获取并设置按钮图标 4.设置按钮在界面的位置 5.设置提示信息，样式和信号槽 具体代码
//窗口标题栏设置 this-&gt;setWindowFlags(Qt::FramelessWindowHint);//隐藏边框 //构建最小化、最大化、关闭按钮 minButton = new QToolButton(this); closeButton= new QToolButton(this); maxButton= new QToolButton(this); //获取最小化、关闭按钮图标 QPixmap minPix = style()-&gt;standardPixmap(QStyle::SP_TitleBarMinButton); QPixmap closePix = style()-&gt;standardPixmap(QStyle::SP_TitleBarCloseButton); maxPix = style()-&gt;standardPixmap(QStyle::SP_TitleBarMaxButton);//最大化需要在事件中进行判断更换图标所以设置成数据成员 //设置最小化、关闭按钮图标 minButton-&gt;setIcon(minPix); closeButton-&gt;setIcon(closePix); maxButton-&gt;setIcon(maxPix); //设置最小化、关闭按钮在界面的位置 int wide = width();//获取界面的宽度 minButton-&gt;setGeometry(wide-65,5,20,20); closeButton-&gt;setGeometry(wide-25,5,20,20); maxButton-&gt;setGeometry(wide-45,5,20,20); //设置鼠标移至按钮上的提示信息 minButton-&gt;setToolTip(tr(&#34;最小化&#34;)); closeButton-&gt;setToolTip(tr(&#34;关闭&#34;)); maxButton-&gt;setToolTip(tr(&#34;最大化&#34;)); //设置最小化、关闭按钮的样式 minButton-&gt;setStyleSheet(&#34;background-color:transparent;&#34;); closeButton-&gt;setStyleSheet(&#34;background-color:transparent;&#34;); maxButton-&gt;setStyleSheet(&#34;background-color:transparent;&#34;); //每个按钮对应的信号槽 connect(closeButton, SIGNAL(clicked()), this, SLOT(windowclosed())); connect(minButton, SIGNAL(clicked()), this, SLOT(windowmin())); connect(maxButton, SIGNAL(clicked()), this, SLOT(winmax())); 槽函数" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/555d0e11ca7e75a2dc4c643031c50fbd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-02T17:35:45+08:00" />
<meta property="article:modified_time" content="2022-10-02T17:35:45+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Qt】自定义标题栏添加最小化、最大化(还原)和关闭按钮</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>创建界面时系统会自带一个标题栏，如果我们需要设计一个好看的界面，这个标题栏就会显得很突兀，所以我们需要自定义标题栏，隐藏原来的标题栏。</p> 
<p>自定义标题栏，这些图标我们都可以自己设置，位置可以调整</p> 
<p><img alt="" height="50" src="https://images2.imgbox.com/79/31/3rZMVV7T_o.png" width="416"></p> 
<p>具体步骤如下：</p> 
<h3>1.隐藏系统自带的标题栏</h3> 
<pre><code class="hljs">this-&gt;setWindowFlags(Qt::FramelessWindowHint);//隐藏边框</code></pre> 
<p>去掉标题栏会存在几个问题：</p> 
<p>①界面会因为失去边框丢失调整大小的能力<br> ②去除边框后，界面内容将无法移动</p> 
<p>③原本自带的最小化、最大化、关闭按钮随着标题栏一起被隐藏了，所以接下来的步骤我们进行添加最小化、最大化、关闭按钮</p> 
<h3>2.创建最小化、最大化、关闭按钮</h3> 
<p><img alt="" height="125" src="https://images2.imgbox.com/53/4d/lTUQyu04_o.png" width="506"></p> 
<h3>3.获取并设置按钮图标</h3> 
<p><img alt="" height="255" src="https://images2.imgbox.com/78/03/jkUvmSke_o.png" width="1200"></p> 
<h3>4.设置按钮在界面的位置</h3> 
<p><img alt="" height="123" src="https://images2.imgbox.com/99/52/JCYfX5F3_o.png" width="550"></p> 
<h3> 5.设置提示信息，样式和信号槽</h3> 
<p><img alt="" height="365" src="https://images2.imgbox.com/79/16/YTxwwwyr_o.png" width="866"></p> 
<p>具体代码</p> 
<pre><code class="hljs">    //窗口标题栏设置
    this-&gt;setWindowFlags(Qt::FramelessWindowHint);//隐藏边框
    //构建最小化、最大化、关闭按钮
    minButton = new QToolButton(this);
    closeButton= new QToolButton(this);
    maxButton= new QToolButton(this);

    //获取最小化、关闭按钮图标
    QPixmap minPix  = style()-&gt;standardPixmap(QStyle::SP_TitleBarMinButton);
    QPixmap closePix = style()-&gt;standardPixmap(QStyle::SP_TitleBarCloseButton);
    maxPix = style()-&gt;standardPixmap(QStyle::SP_TitleBarMaxButton);//最大化需要在事件中进行判断更换图标所以设置成数据成员

    //设置最小化、关闭按钮图标
    minButton-&gt;setIcon(minPix);
    closeButton-&gt;setIcon(closePix);
    maxButton-&gt;setIcon(maxPix);

    //设置最小化、关闭按钮在界面的位置
    int wide = width();//获取界面的宽度
    minButton-&gt;setGeometry(wide-65,5,20,20);
    closeButton-&gt;setGeometry(wide-25,5,20,20);
    maxButton-&gt;setGeometry(wide-45,5,20,20);

    //设置鼠标移至按钮上的提示信息
    minButton-&gt;setToolTip(tr("最小化"));
    closeButton-&gt;setToolTip(tr("关闭"));
    maxButton-&gt;setToolTip(tr("最大化"));

    //设置最小化、关闭按钮的样式
    minButton-&gt;setStyleSheet("background-color:transparent;");
    closeButton-&gt;setStyleSheet("background-color:transparent;");
    maxButton-&gt;setStyleSheet("background-color:transparent;");
    //每个按钮对应的信号槽
    connect(closeButton, SIGNAL(clicked()), this, SLOT(windowclosed()));
    connect(minButton, SIGNAL(clicked()), this, SLOT(windowmin()));
    connect(maxButton, SIGNAL(clicked()), this, SLOT(winmax()));</code></pre> 
<p> 槽函数</p> 
<pre><code class="hljs">public slots:
    void windowclosed();//最小化 关闭
    void windowmin();
    void winmax();



//槽函数实现
void Logwin::windowclosed()
{
    this-&gt;close();
}
void Logwin::windowmin()
{
    this-&gt;showMinimized();//最小化
}
void Logwin::winmax()
{
    if (this-&gt;isMaximized())
    {
        this-&gt;showNormal();//还原事件
        maxPix = style()-&gt;standardPixmap(QStyle::SP_TitleBarMaxButton);
        maxButton-&gt;setIcon(maxPix);
        maxButton-&gt;setToolTip(tr("最大化"));
    }
    else
    {
        this-&gt;showMaximized();//最大化事件
        restore = style()-&gt;standardPixmap(QStyle::SP_TitleBarNormalButton);
        maxButton-&gt;setIcon(restore);
        maxButton-&gt;setToolTip(tr("最大化还原"));
    }
}</code></pre> 
<p>实现的效果</p> 
<p>未放大时，鼠标移到最大化按钮上</p> 
<p><img alt="" height="54" src="https://images2.imgbox.com/0d/78/evP2aGNM_o.png" width="435"></p> 
<p> 放大时，鼠标移到上面，图标不同，内容也不同</p> 
<p><img alt="" height="60" src="https://images2.imgbox.com/70/cc/306yhyLV_o.png" width="363"></p> 
<p> </p> 
<h3>QStyle::StandardPixmap枚举</h3> 
<p>获取的图标信息，如果觉得系统给的不好看，可以自己添加</p> 
<p><img alt="" height="221" src="https://images2.imgbox.com/fd/0f/jPO3hXj6_o.png" width="860"></p> 
<p> 参考<a href="https://blog.csdn.net/hyongilfmmm/article/details/83247685" title="QStyle(4)：StandardPixmap和StyleHint枚举_hyongilfmmm的博客-CSDN博客">QStyle(4)：StandardPixmap和StyleHint枚举_hyongilfmmm的博客-CSDN博客</a></p> 
<p></p> 
<p>感谢观看！！！！</p> 
<p>以上就是全部内容，如果对您有帮助，欢迎点赞评论，或者发现有哪里写错的，欢迎指正！</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/82a414df1f208c49d42073e1de3829d1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">CNN经典网络模型（三）：VGGNet简介及代码实现（PyTorch超详细注释版）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d64c0509f9808996dee11a192b47aae8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">765. 情侣牵手</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>