<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>jQuery 指定区域的内容循环滚动 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="jQuery 指定区域的内容循环滚动" />
<meta property="og:description" content="需求：页面指定区域内的内容循环滚动，但是内容形式、高度都不固定，是接口从编辑器提取出来的内容。
代码：
&lt;div id=&#34;container5&#34;&gt; &lt;div class=&#34;content&#34; id=&#34;f12red1&#34;&gt; 自2023年9月20日24时起，国内汽、&lt;br&gt;柴油价格（标准品，下同）每吨分别提高70元。&lt;br&gt; 自2023年9月21日凌晨起，&lt;br&gt;全国加油站统一上调零售价格，&lt;br&gt;调价金额为：汽柴油、分别提高385元和370元，&lt;br&gt;从全国平均来看。&lt;br&gt; 92#汽油 上调 0.30元/升&lt;br&gt; 95号汽油 上调 0.32元/升&lt;br&gt; 0#柴油 上调 0.31元/升&lt;br&gt; 按照此上调幅度计算，&lt;br&gt;加满一箱容量在50L的92号汽油，&lt;br&gt;车主可以要多花15元左右。&lt;br&gt; 国家通知：&lt;br&gt;根据近期国际市场油价变化情况，&lt;br&gt;按照现行成品油价格形成机制，&lt;br&gt;自2023年9月20日24时起，&lt;br&gt;国内汽、柴油价格（标准品，下同）每吨分别提高385元、370元。&lt;br&gt;调整后，&lt;br&gt;各省（区、市a）和中心城市汽、柴油最高零售价格见附表。&lt;br&gt;相关价格联动及补贴政策按现行规定执行。&lt;br&gt; 中石油、中石化、中海油三大公司要组织好成品油生产和调运，&lt;br&gt;确保市场稳定供应，严格执行国家价格政策。&lt;br&gt;各地相关部门要加大市场监督检查力度，&lt;br&gt;严厉查处不执行国家价格政策的行为，&lt;br&gt;维护正常市场秩序。&lt;br&gt;消费者可通过12315平台举报价格违法行为。&lt;br&gt; &lt;img src=&#34;https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0921%2F0a2dd1c2j00s1b9y400e4d200u0016gg00it00ql.jpg&amp;thumbnail=660x2147483647&amp;quality=80&amp;type=jpg&#34;&gt; &lt;/div&gt; &lt;/div&gt; css：
#container5{ border: 1px yellow solid; width: 1000px; height: 800px; font-size: 32px; line-height:50px; overflow: hidden; padding:20px; } js:
$(document).ready(function() { // 获取页面高度 var pageHeight = $(&#34;#f12red1&#34;).height(); // 设置滚动的初始位置 var scrollPosition = 0; // 设置滚动的速度 var scrollSpeed = 1; // 每50毫秒滚动一次 // 定义滚动函数 function autoScroll() { // 计算下一次滚动的位置 scrollPosition &#43;= 1; // 如果滚动到页面底部，将滚动位置重置为0，重新开始滚动 if (scrollPosition &gt;= pageHeight) { scrollPosition = 0; } // 使用animate函数实现滚动效果 // $(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/bc1fae68f6663300b5ab1b7eb9050856/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-21T11:18:04+08:00" />
<meta property="article:modified_time" content="2023-09-21T11:18:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">jQuery 指定区域的内容循环滚动</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>需求：页面指定区域内的内容循环滚动，但是内容形式、高度都不固定，是接口从编辑器提取出来的内容。</p> 
<p>代码：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container5<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>content<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>f12red1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            自2023年9月20日24时起，国内汽、<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>柴油价格（标准品，下同）每吨分别提高70元。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
            自2023年9月21日凌晨起，<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>全国加油站统一上调零售价格，<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>调价金额为：汽柴油、分别提高385元和370元，<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>从全国平均来看。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
            92#汽油 上调 0.30元/升<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
            95号汽油 上调 0.32元/升<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
            0#柴油 上调 0.31元/升<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
            按照此上调幅度计算，<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>加满一箱容量在50L的92号汽油，<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>车主可以要多花15元左右。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
            国家通知：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>根据近期国际市场油价变化情况，<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>按照现行成品油价格形成机制，<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>自2023年9月20日24时起，<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>国内汽、柴油价格（标准品，下同）每吨分别提高385元、370元。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>调整后，<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>各省（区、市a）和中心城市汽、柴油最高零售价格见附表。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>相关价格联动及补贴政策按现行规定执行。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
            中石油、中石化、中海油三大公司要组织好成品油生产和调运，<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>确保市场稳定供应，严格执行国家价格政策。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>各地相关部门要加大市场监督检查力度，<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>严厉查处不执行国家价格政策的行为，<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>维护正常市场秩序。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>消费者可通过12315平台举报价格违法行为。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0921%2F0a2dd1c2j00s1b9y400e4d200u0016gg00it00ql.jpg&amp;thumbnail=660x2147483647&amp;quality=80&amp;type=jpg<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>css：</p> 
<pre><code class="prism language-css"><span class="token selector">#container5</span><span class="token punctuation">{<!-- --></span>
            <span class="token property">border</span><span class="token punctuation">:</span> 1px yellow solid<span class="token punctuation">;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> 1000px<span class="token punctuation">;</span>
            <span class="token property">height</span><span class="token punctuation">:</span> 800px<span class="token punctuation">;</span>
            <span class="token property">font-size</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>
            <span class="token property">line-height</span><span class="token punctuation">:</span>50px<span class="token punctuation">;</span>
            <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
            <span class="token property">padding</span><span class="token punctuation">:</span>20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>js:</p> 
<pre><code class="prism language-js"><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 获取页面高度</span>
  <span class="token keyword">var</span> pageHeight <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#f12red1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token comment">// 设置滚动的初始位置</span>
  <span class="token keyword">var</span> scrollPosition <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  
  <span class="token comment">// 设置滚动的速度</span>
  <span class="token keyword">var</span> scrollSpeed <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 每50毫秒滚动一次</span>
  
  <span class="token comment">// 定义滚动函数</span>
  <span class="token keyword">function</span> <span class="token function">autoScroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 计算下一次滚动的位置</span>
    scrollPosition <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 如果滚动到页面底部，将滚动位置重置为0，重新开始滚动</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>scrollPosition <span class="token operator">&gt;=</span> pageHeight<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      scrollPosition <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 使用animate函数实现滚动效果</span>
    <span class="token comment">// $("#container5").animate({scrollTop: scrollPosition}, scrollSpeed );</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#container5"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">scrollTop</span><span class="token operator">:</span> scrollPosition <span class="token punctuation">}</span><span class="token punctuation">,</span> scrollSpeed<span class="token punctuation">,</span> <span class="token string">'linear'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>scrollPosition <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">autoScroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// 设置定时器，每50毫秒触发一次滚动函数</span>
  <span class="token function">setInterval</span><span class="token punctuation">(</span>autoScroll<span class="token punctuation">,</span> scrollSpeed<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/33d791c5acde9754ee935b43cb17278f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Blender 学习笔记（一）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c6344074571f7a01cf17f03701958992/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">微信小程序 - 调用后台api接口方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>