<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CKeditor配置大全 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CKeditor配置大全" />
<meta property="og:description" content="第一步：基本配置 CKEditor &#43; CKFinder 配置流水账： CKEditor： 1.解压CKEditor到webRoot目录，在应用页面加载其ckeditor.js ; 2.页面textarea： [html]&lt;textarea cols=”80″; name=”editor1″ rows=”10″&gt;&lt;/textarea&gt;;[/html] CKFinder： 3.解压CKFinder到webRoot目录（最好与CKEditor同级），在应用页面加载其ckfinder.js ; 4.页面script：（最好textarea之后） [javascript] if (typeof CKEDITOR == ‘undefined’) { document.write(’加载CKEditor失败’); } else { var editor = CKEDITOR.replace(’editor1′); CKFinder.SetupCKEditor(editor, ‘../ckeditor/ckfinder/’); //ckfinder总目录的相对路径. } [/javascript] 整合： （把俩js加载到同一文件其实就已经基本整合好了，还需要修改的配置如下） 5.打开\ckfinder\config.php，修改$baseUrl = ‘（上传附件的存放路径）’; //以webRoot为起始的绝对路径，其目录下会自动生成images、flash等子目录；默认是在webRoot的根目录下，注意修改。 至此配置完毕，如果需要自定义界面，可进行以下的高级修改： 6.在ckeditor\config.js中的CKEDITOR.editorConfig里加入以下需要自定义的配置代码： [css] //字体. config.font_names = ‘宋体;楷体_GB2312;新宋体;黑体;隶书;幼圆;微软雅黑;Arial; Comic Sans MS;Courier New;Tahoma;Times New Roman;Verdana;’ ; //工具按钮. config.toolbar= [ [&#39;Source&#39;,&#39;-&#39;,&#39;Save&#39;,&#39;NewPage&#39;,&#39;Preview&#39;,&#39;-&#39;,&#39;Templates&#39;], [&#39;Cut&#39;,&#39;Copy&#39;,&#39;Paste&#39;,&#39;PasteText&#39;,&#39;PasteFromWord&#39;,&#39;-&#39;,&#39;Print&#39;,&#39;SpellChecker&#39;,&#39;Scayt&#39;], [&#39;Undo&#39;,&#39;Redo&#39;,&#39;-&#39;,&#39;Find&#39;,&#39;Replace&#39;,&#39;-&#39;,&#39;SelectAll&#39;,&#39;RemoveFormat&#39;], [&#39;Form&#39;,&#39;Checkbox&#39;,&#39;Radio&#39;,&#39;TextField&#39;,&#39;Textarea&#39;,&#39;Select&#39;,&#39;Button&#39;, &#39;ImageButton&#39;,&#39;HiddenField&#39;], ‘/’, [&#39;Bold&#39;,&#39;Italic&#39;,&#39;Underline&#39;,&#39;Strike&#39;,&#39;-&#39;,&#39;Subscript&#39;,&#39;Superscript&#39;], [&#39;NumberedList&#39;,&#39;BulletedList&#39;,&#39;-&#39;,&#39;Outdent&#39;,&#39;Indent&#39;,&#39;Blockquote&#39;], [&#39;JustifyLeft&#39;,&#39;JustifyCenter&#39;,&#39;JustifyRight&#39;,&#39;JustifyBlock&#39;], [&#39;Link&#39;,&#39;Unlink&#39;,&#39;Anchor&#39;], [&#39;Image&#39;,&#39;Flash&#39;,&#39;Table&#39;,&#39;HorizontalRule&#39;,&#39;Smiley&#39;,&#39;SpecialChar&#39;, &#39;PageBreak&#39;], ‘/’, [&#39;Styles&#39;,&#39;Format&#39;,&#39;Font&#39;,&#39;FontSize&#39;], [&#39;TextColor&#39;,&#39;BGColor&#39;], [&#39;Maximize&#39;,&#39;ShowBlocks&#39;,&#39;-&#39;,&#39;About&#39;] ]; //宽度 config." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/d132e3c00ffa479f37bf0c259a5c5861/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2010-01-19T12:12:45+08:00" />
<meta property="article:modified_time" content="2010-01-19T12:12:45+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CKeditor配置大全</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    第一步：基本配置 
<br> 
<br> 
<br>CKEditor + CKFinder 配置流水账： 
<br> 
<br>CKEditor： 
<br>1.解压CKEditor到webRoot目录，在应用页面加载其ckeditor.js ; 
<br>2.页面textarea： 
<br> 
<br>[html]&lt;textarea cols=”80″; name=”editor1″ rows=”10″&gt;&lt;/textarea&gt;;[/html] 
<br> 
<br>CKFinder： 
<br>3.解压CKFinder到webRoot目录（最好与CKEditor同级），在应用页面加载其ckfinder.js ; 
<br>4.页面script：（最好textarea之后） 
<br> 
<br>[javascript] 
<br>if (typeof CKEDITOR == ‘undefined’) { 
<br>document.write(’加载CKEditor失败’); 
<br>} 
<br>else { 
<br>var editor = CKEDITOR.replace(’editor1′); 
<br>CKFinder.SetupCKEditor(editor, ‘../ckeditor/ckfinder/’); //ckfinder总目录的相对路径. 
<br>} 
<br>[/javascript] 
<br> 
<br>整合： 
<br>（把俩js加载到同一文件其实就已经基本整合好了，还需要修改的配置如下） 
<br>5.打开\ckfinder\config.php，修改$baseUrl = ‘（上传附件的存放路径）’; //以webRoot为起始的绝对路径，其目录下会自动生成images、flash等子目录；默认是在webRoot的根目录下，注意修改。 
<br> 
<br>至此配置完毕，如果需要自定义界面，可进行以下的高级修改： 
<br> 
<br>6.在ckeditor\config.js中的CKEDITOR.editorConfig里加入以下需要自定义的配置代码： 
<br> 
<br>[css] 
<br>//字体. 
<br> 
<br>config.font_names = ‘宋体;楷体_GB2312;新宋体;黑体;隶书;幼圆;微软雅黑;Arial; 
<br> 
<br>Comic Sans MS;Courier New;Tahoma;Times New Roman;Verdana;’ ; 
<br> 
<br>//工具按钮. 
<br> 
<br>config.toolbar= 
<br> 
<br>[ 
<br> 
<br>['Source','-','Save','NewPage','Preview','-','Templates'], 
<br> 
<br>['Cut','Copy','Paste','PasteText','PasteFromWord','-','Print','SpellChecker','Scayt'], 
<br> 
<br>['Undo','Redo','-','Find','Replace','-','SelectAll','RemoveFormat'], 
<br> 
<br>['Form','Checkbox','Radio','TextField','Textarea','Select','Button', 
<br> 
<br>'ImageButton','HiddenField'], 
<br> 
<br>‘/’, 
<br> 
<br>['Bold','Italic','Underline','Strike','-','Subscript','Superscript'], 
<br> 
<br>['NumberedList','BulletedList','-','Outdent','Indent','Blockquote'], 
<br> 
<br>['JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock'], 
<br> 
<br>['Link','Unlink','Anchor'], 
<br> 
<br>['Image','Flash','Table','HorizontalRule','Smiley','SpecialChar', 
<br> 
<br>'PageBreak'], 
<br> 
<br>‘/’, 
<br> 
<br>['Styles','Format','Font','FontSize'], 
<br> 
<br>['TextColor','BGColor'], 
<br> 
<br>['Maximize','ShowBlocks','-','About'] 
<br> 
<br>]; 
<br> 
<br>//宽度 
<br> 
<br>config.width = 500; 
<br> 
<br>//高度 
<br> 
<br>config.height = 400; 
<br> 
<br>//皮肤 
<br> 
<br>config.skin=’v2′; 
<br> 
<br>//等等… … 
<br>[/css] 
<br> 
<br>安装CKFinder后才能有上传功能: 
<br> 
<br> 
<br>第二步：设置CKFinder的上传功能 
<br> 
<br> 
<br>由于本次CKEditor全新改版，没有提供文件上传功能，所以选择整合CKFinder是个不错的选择 
<br>需要修改一下CKEditor插件文件夹下的JS源码，以image插件为例（Flash及Files同理）： 
<br>Code 
<br> 
<br>//将下边的代码做一些修改 
<br>//{type:'button',id:'browse',align:'center',label:m.lang.common.browseServer,hidden:false,filebrowser:'info:txtUrl'}]}]}, 
<br>//2009-07-13 将浏览服务器按钮置为显示状态 （hidden: false）,增加onClick函数，用于打开ckfinder页面,紧接着上面的代码添加 
<br>{ type: 'button', id: 'browse', align: 'center', label: m.lang.common.browseServer, hidden: false, filebrowser: 'info:txtUrl', onClick: function() { var finder = new CKFinder(); finder.BasePath = '../ckfinder20090716/'; finder.SelectFunction = SetFileField; finder.Popup(); } }]}]}, 
<br> 
<br> 
<br>在方法体外增加下边的函数 
<br>//用于取回 ckfinder 返回的图片地址并对路径文本框和预览图片进行赋值 
<br>function SetFileField(fileUrl) 
<br>{ 
<br> //获取主Div下的所有文本框控件 
<br> var inputStr = document.getElementById("cke_txtContent_dialog").getElementsByTagName("Input"); 
<br> for(var i=0; i&lt;inputStr.length; i++) 
<br> { 
<br> if(inputStr[i].type=="text") 
<br> { 
<br> //第一个输入框控件是图像路径，得到ID，设置新的图片路径 
<br> CKEDITOR.document.getById(inputStr[i].id).setValue(fileUrl); 
<br> break ; 
<br> } 
<br> } 
<br> CKEDITOR.document.getById('previewImage').setAttribute('src', decodeURI(fileUrl)); 
<br>} 
<br> 
<br> 
<br>第三步：CKFINDER上传问题：出现“因为安全原因，文件不可浏览. 请联系系统管理员并检查CKFinder配置文件“ 
<br> 
<br> 
<br>整合后会出现“因为安全原因，文件不可浏览. 请联系系统管理员并检查CKFinder配置文件“ 
<br> 
<br>The Solution: 
<br> 
<br>1. There is no write access for the default upload folder $baseUrl = '/userfiles/'; in ckfinder/config.php. 
<br>对于目标文件夹$baseUrl = '/userfiles/';没有写入权限 
<br> 
<br>2. This is maybe because the Return value of Funcation CheckAuthentication() is always FALSE by default in ckfinder/config.php. Change the Validation Condition according to your condition, not recommend to set the return value to true directly. 
<br>因为出于安全考虑ckfinder/config.php文件中的CheckAuthentication()函数默认返回值是false, 需要手动修改验证条件, 不建议直接返回true 
<br> 
<br> 
<br>该文章出自《壁虎漫步网》,原文链接：http://www.hitsns.com/read.php?282 
<br> 
<br>转载时间是: 2010-01-19 11:21:46 请务必保留此链接，谢谢！
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/32e9db2ea9201a5db68d95e534d18eb3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux系统管理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/574389e2bd6189f2e0954660f699cb82/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C# 用VB.NET函数库 实现全角半角转换</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>