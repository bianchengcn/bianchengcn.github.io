<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>程序员面试题精选（31）：从尾到头遍历链表 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="程序员面试题精选（31）：从尾到头遍历链表" />
<meta property="og:description" content=" 题目：输入一个链表的头结点，从尾到头反过来输出每个结点的值。链表结点定义如下： struct ListNode { int m_nKey; ListNode* m_pNext; }; 分析：这是一道很有意思的面试题。该题以及它的变体经常出现在各大公司的面试、笔试题中。 看到这道题后，第一反应是从头到尾输出比较简单。于是很自然地想到把链表中链接结点的指针反转过来，改变链表的方向。然后就可以从头到尾输出了。反转链表的算法详见本人面试题精选系列的第19题，在此不再细述。但该方法需要额外的操作，应该还有更好的方法。 接下来的想法是从头到尾遍历链表，每经过一个结点的时候，把该结点放到一个栈中。当遍历完整个链表后，再从栈顶开始输出结点的值，此时输出的结点的顺序已经反转过来了。该方法需要维护一个额外的栈，实现起来比较麻烦。 既然想到了栈来实现这个函数，而递归本质上就是一个栈结构。于是很自然的又想到了用递归来实现。要实现反过来输出链表，我们每访问到一个结点的时候，先递归输出它后面的结点，再输出该结点自身，这样链表的输出结果就反过来了。 基于这样的思路，不难写出如下代码： /// // Print a list from end to beginning // Input: pListHead - the head of list /// void PrintListReversely(ListNode* pListHead) { if(pListHead != NULL) { // Print the next node first if (pListHead-&gt;m_pNext != NULL) { PrintListReversely(pListHead-&gt;m_pNext); } // Print this node printf(&#34;%d&#34;, pListHead-&gt;m_nKey); } } 扩展：该题还有两个常见的变体： 1. 从尾到头输出一个字符串； 2. 定义一个函数求字符串的长度，要求该函数体内不能声明任何变量。 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/eee60b0d4c39f515e749647369b9ea9c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2007-10-24T21:33:00+08:00" />
<meta property="article:modified_time" content="2007-10-24T21:33:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">程序员面试题精选（31）：从尾到头遍历链表</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="MARGIN: 0in 0in 10pt"> 
 <font size="3">题目：输入一个链表的头结点，从尾到头反过来输出每个结点的值。链表结点定义如下：</font> 
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"> 
 <span style="FONT-SIZE: 10pt; COLOR: blue">struct</span> 
 <span style="FONT-SIZE: 10pt"> ListNode</span> 
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"> 
 <span style="FONT-SIZE: 10pt">{<!-- --></span> 
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"> 
 <span style="FONT-SIZE: 10pt">      <span style="COLOR: blue">int</span>       m_nKey;</span> 
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"> 
 <span style="FONT-SIZE: 10pt">      ListNode* m_pNext;</span> 
</div> 
<div style="MARGIN: 0in 0in 10pt"> 
 <span style="FONT-SIZE: 10pt; LINE-HEIGHT: 115%">};</span> 
</div> 
<div style="MARGIN: 0in 0in 10pt"> 
 <font size="3">分析：这是一道很有意思的面试题。该题以及它的变体经常出现在各大公司的面试、笔试题中。</font> 
</div> 
<div style="MARGIN: 0in 0in 10pt"> 
 <font size="3">看到这道题后，第一反应是从头到尾输出比较简单。于是很自然地想到把链表中链接结点的指针反转过来，改变链表的方向。然后就可以从头到尾输出了。反转链表的算法详见本人<a target="_blank" href="http://zhedahht.blog.163.com/blog/static/2541117420073471124487/" rel="nofollow noopener noreferrer">面试题精选系列的第19题，在此不再细述。但该方法需要额外的操作，应该还有更好的方法。</a></font> 
</div> 
<div style="MARGIN: 0in 0in 10pt"> 
 <font size="3">接下来的想法是从头到尾遍历链表，每经过一个结点的时候，把该结点放到一个栈中。当遍历完整个链表后，再从栈顶开始输出结点的值，此时输出的结点的顺序已经反转过来了。该方法需要维护一个额外的栈，实现起来比较麻烦。</font> 
</div> 
<div style="MARGIN: 0in 0in 10pt"> 
 <font size="3">既然想到了栈来实现这个函数，而递归本质上就是一个栈结构。于是很自然的又想到了用递归来实现。要实现反过来输出链表，我们每访问到一个结点的时候，先递归输出它后面的结点，再输出该结点自身，这样链表的输出结果就反过来了。</font> 
</div> 
<div style="MARGIN: 0in 0in 10pt"> 
 <font size="3">基于这样的思路，不难写出如下代码：</font> 
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"> 
 <span style="FONT-SIZE: 10pt; COLOR: green">///</span> 
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"> 
 <span style="FONT-SIZE: 10pt; COLOR: green">// Print a list from end to beginning</span> 
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"> 
 <span style="FONT-SIZE: 10pt; COLOR: green">// Input: pListHead - the head of list</span> 
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"> 
 <span style="FONT-SIZE: 10pt; COLOR: green">///</span> 
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"> 
 <span style="FONT-SIZE: 10pt; COLOR: blue">void</span> 
 <span style="FONT-SIZE: 10pt"> <span style="COLOR: #010001">PrintListReversely</span>(<span style="COLOR: #010001">ListNode</span>* <span style="COLOR: #010001">pListHead</span>)</span> 
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"> 
 <span style="FONT-SIZE: 10pt">{<!-- --></span> 
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"> 
 <span style="FONT-SIZE: 10pt">      <span style="COLOR: blue">if</span>(<span style="COLOR: #010001">pListHead</span> != <span style="COLOR: #010001">NULL</span>)</span> 
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"> 
 <span style="FONT-SIZE: 10pt">      {<!-- --></span> 
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"> 
 <span style="FONT-SIZE: 10pt">            <span style="COLOR: green">// Print the next node first</span></span> 
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"> 
 <span style="FONT-SIZE: 10pt">            <span style="COLOR: blue">if</span> (<span style="COLOR: #010001">pListHead</span>-&gt;<span style="COLOR: #010001">m_pNext</span> != <span style="COLOR: #010001">NULL</span>)</span> 
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"> 
 <span style="FONT-SIZE: 10pt">            {<!-- --></span> 
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"> 
 <span style="FONT-SIZE: 10pt">                  <span style="COLOR: #010001">PrintListReversely</span>(<span style="COLOR: #010001">pListHead</span>-&gt;<span style="COLOR: #010001">m_pNext</span>);</span> 
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"> 
 <span style="FONT-SIZE: 10pt">            }</span> 
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal">
    
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"> 
 <span style="FONT-SIZE: 10pt">            <span style="COLOR: green">// Print this node</span></span> 
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"> 
 <span style="FONT-SIZE: 10pt">            <span style="COLOR: #010001">printf</span>(<span style="COLOR: #a31515">"%d"</span>, <span style="COLOR: #010001">pListHead</span>-&gt;<span style="COLOR: #010001">m_nKey</span>);</span> 
</div> 
<div style="MARGIN: 0in 0in 0pt; LINE-HEIGHT: normal"> 
 <span style="FONT-SIZE: 10pt">      }</span> 
</div> 
<div style="MARGIN: 0in 0in 10pt"> 
 <span style="FONT-SIZE: 10pt; LINE-HEIGHT: 115%">}</span> 
</div> 
<div style="MARGIN: 0in 0in 10pt"> 
 <font size="3">扩展：该题还有两个常见的变体：</font> 
</div> 
<div style="MARGIN: 0in 0in 0pt 0.5in; TEXT-INDENT: -0.25in"> 
 <font size="3">1.</font><span style="FONT: 7pt 'Times New Roman'">       </span> 
 <font size="3">从尾到头输出一个字符串；</font> 
</div> 
<div style="MARGIN: 0in 0in 10pt 0.5in; TEXT-INDENT: -0.25in"> 
 <font size="3">2.</font><span style="FONT: 7pt 'Times New Roman'">       </span> 
 <font size="3">定义一个函数求字符串的长度，要求该函数体内不能声明任何变量。</font> 
</div>  
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3871f3b53744dba02ee36348ca5350d2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">&lt;引&gt;Makefile教程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/dd440cd8300e9994e78bf0a25f72577d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ajaxtags的使用方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>