<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CentOS7.2 安装mysql - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CentOS7.2 安装mysql" />
<meta property="og:description" content="1.准备文件
官网下载mysql-5.7.23-1.el7.x86_64.rpm-bundle.tar， 安装的是5.7版本
2. 如果是第一次安装mysql需要卸载系统自带的mysql
yum remove mysql-libs
3. 解压和安装
tar -xvf mysql-5.7.23-1.el7.x86_64.rpm-bundle.tar
rpm -ivh mysql-community-common-5.7.23-1.el7.x86_64.rpm
rpm -ivh mysql-community-libs-5.7.23-1.el7.x86_64.rpm
rpm -ivh mysql-community-client-5.7.23-1.el7.x86_64.rpm
rpm -ivh mysql-community-server-5.7.23-1.el7.x86_64.rpm
注意这些是有安装顺序的
4.配置mysql
在vi /etc/my.cnf里 加入 skip-grant-tables
vim /etc/my.cnf
datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock
# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links=0
log-error=/var/log/mysqld.log
pid-file=/var/run/mysqld/mysqld.pid
skip-grant-tables
在配置文件中加入skip-grant-tables，就可以无密码登陆mysql
修改后保存，重启mysql服务
service mysqld restart
5. 修改密码
登陆之后，可以先使用 show databases 看下mysql是否安装正确
先修改密码：
update user set authentication_string=password(&#39;123456&#39;) where user=&#34;root&#34;;
退出，将之前的skip-grant-tables删掉 或 注释掉，再登陆:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/7d2144cb24ea1b02969b4bdf8fddd1ed/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-10-24T14:05:29+08:00" />
<meta property="article:modified_time" content="2018-10-24T14:05:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CentOS7.2 安装mysql</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>1.准备文件</strong></p> 
<p>   官网下载mysql-5.7.23-1.el7.x86_64.rpm-bundle.tar， 安装的是5.7版本</p> 
<p><strong>2. 如果是第一次安装mysql需要卸载系统自带的mysql</strong></p> 
<p style="margin-left:0cm;">    yum remove mysql-libs</p> 
<p style="margin-left:0cm;"><strong>3. 解压和安装</strong></p> 
<p style="margin-left:0cm;">    tar -xvf mysql-5.7.23-1.el7.x86_64.rpm-bundle.tar</p> 
<p style="margin-left:0cm;">    rpm -ivh mysql-community-common-5.7.23-1.el7.x86_64.rpm</p> 
<p style="margin-left:0cm;">   rpm -ivh mysql-community-libs-5.7.23-1.el7.x86_64.rpm</p> 
<p style="margin-left:0cm;">   rpm -ivh mysql-community-client-5.7.23-1.el7.x86_64.rpm</p> 
<p style="margin-left:0cm;">   rpm -ivh mysql-community-server-5.7.23-1.el7.x86_64.rpm</p> 
<p style="margin-left:0cm;"><strong>注意这些是有安装顺序的</strong></p> 
<p style="margin-left:0cm;"><strong>4.配置mysql</strong></p> 
<p style="margin-left:0cm;">在vi /etc/my.cnf里 加入 <span style="color:#ff0000;">skip-grant-tables</span></p> 
<p style="margin-left:0cm;"><strong>vim /etc/my.cnf</strong></p> 
<p style="margin-left:0cm;">datadir=/var/lib/mysql</p> 
<p style="margin-left:0cm;">socket=/var/lib/mysql/mysql.sock</p> 
<p style="margin-left:0cm;"># Disabling symbolic-links is recommended to prevent assorted security risks</p> 
<p style="margin-left:0cm;">symbolic-links=0</p> 
<p style="margin-left:0cm;">log-error=/var/log/mysqld.log</p> 
<p style="margin-left:0cm;">pid-file=/var/run/mysqld/mysqld.pid</p> 
<p style="margin-left:0cm;"><span style="color:#ff0000;">skip-grant-tables</span></p> 
<p style="margin-left:0cm;"><span style="color:#ff0000;">在配置文件中加入skip-grant-tables，就可以无密码登陆mysql</span></p> 
<p style="margin-left:0cm;"><span style="color:#ff0000;">修改后保存，重启mysql服务</span></p> 
<p style="margin-left:0cm;">service mysqld restart</p> 
<p style="margin-left:0cm;"><strong>5. 修改密码</strong></p> 
<p style="margin-left:0cm;">   登陆之后，可以先使用 show databases 看下mysql是否安装正确</p> 
<p style="margin-left:0cm;">  先修改密码：</p> 
<p style="margin-left:0cm;"><span style="color:#4f4f4f;">  update user set authentication_string=password('123456') where user="root";</span></p> 
<p style="margin-left:0cm;"><span style="color:#4f4f4f;">  退出，</span>将之前的skip-grant-tables删掉 或 注释掉，<span style="color:#4f4f4f;">再登陆:</span></p> 
<p style="margin-left:0cm;"><span style="color:#4f4f4f;">  mysql –u root –p   ---&gt;输入密码</span></p> 
<p style="margin-left:0cm;"><span style="color:#4f4f4f;">然后</span></p> 
<p style="margin-left:0cm;">   ALTER USER 'root'@'localhost' IDENTIFIED BY '密码';    本地登录密码设置</p> 
<p style="margin-left:0cm;">   use mysql;</p> 
<p style="margin-left:0cm;">   grant all privileges on *.*  to  'root'@'%' identified by  '密码';  远程登陆密码设置</p> 
<p style="margin-left:0cm;">   flush privileges;</p> 
<p style="margin-left:0cm;"><strong>6. 打开端口</strong></p> 
<pre style="margin-left:0cm;"><code class="language-html hljs">firewall-cmd --add-port=3306/tcp --permanent
firewall-cmd --reload
</code></pre> 
<p><strong>7. 添加字符集 </strong></p> 
<p style="margin-left:0cm;">在/etc/my.cnf 文件f 文件 [mysqld]下面添加：</p> 
<p style="margin-left:0cm;">character-set-server = utf8</p> 
<p style="margin-left:0cm;">collation-server = utf8_general_ci</p> 
<p style="margin-left:0cm;">重启</p> 
<p style="margin-left:0cm;">service mysqld restart</p> 
<p style="margin-left:0cm;"><strong>8. 测试是否成功</strong></p> 
<p style="margin-left:0cm;">mysql -u root -h -h 主机地址 -p  -p  密码 </p> 
<p style="margin-left:0cm;">show variables like 'character%'</p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cc8a625a76132a94368119e9d87fe0d9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">unity  实现轮盘方式的按钮滚动效果</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/070edf091495499152f15930e280a9ba/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[GAN学习系列] 初识GAN</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>