<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>numpy常用方法 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="numpy常用方法" />
<meta property="og:description" content="常用语句 pip install numpy import numpy as np 创建ndarray(多维数组对象) data1 = [6, 7.5, 8, 0.1] arr1 = np.array(data1) arr1 Out[40]: array([ 6. , 7.5, 8. , 0.1]) data2 = [[1, 2, 3 ,4], [5, 6, 7, 8]] arr2 = np.array(data2) arr2 Out[41]: array([[1, 2, 3, 4], [5, 6, 7, 8]]) np.zeros(10) # 创建全0对象 Out[51]: array([ 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.]) np.ones((3, 6)) # 创建全1对象 Out[52]: array([[ 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/553e47187cbaac23b8af52d5713fbf24/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-03-18T15:55:39+08:00" />
<meta property="article:modified_time" content="2017-03-18T15:55:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">numpy常用方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <ul><li>常用语句</li></ul> 
<pre class="prettyprint"><code class=" hljs haskell"><span class="hljs-title">pip</span> install numpy

<span class="hljs-import"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np</span></code></pre> 
<ul><li>创建ndarray(多维数组对象)</li></ul> 
<pre class="prettyprint"><code class=" hljs lua">data1 = [<span class="hljs-number">6</span>, <span class="hljs-number">7.5</span>, <span class="hljs-number">8</span>, <span class="hljs-number">0.1</span>]
arr1 = np.array(data1)
arr1
Out[<span class="hljs-number">40</span>]:
array([ <span class="hljs-number">6.</span> ,  <span class="hljs-number">7.5</span>,  <span class="hljs-number">8.</span> ,  <span class="hljs-number">0.1</span>])


data2 = <span class="hljs-string">[[1, 2, 3 ,4], 
         [5, 6, 7, 8]]</span>
arr2 = np.array(data2)
arr2
Out[<span class="hljs-number">41</span>]:
array(<span class="hljs-string">[[1, 2, 3, 4],
       [5, 6, 7, 8]]</span>)

np.zeros(<span class="hljs-number">10</span>) # 创建全<span class="hljs-number">0</span>对象
Out[<span class="hljs-number">51</span>]:
array([ <span class="hljs-number">0.</span>,  <span class="hljs-number">0.</span>,  <span class="hljs-number">0.</span>,  <span class="hljs-number">0.</span>,  <span class="hljs-number">0.</span>,  <span class="hljs-number">0.</span>,  <span class="hljs-number">0.</span>,  <span class="hljs-number">0.</span>,  <span class="hljs-number">0.</span>,  <span class="hljs-number">0.</span>])

np.ones((<span class="hljs-number">3</span>, <span class="hljs-number">6</span>))  # 创建全<span class="hljs-number">1</span>对象
Out[<span class="hljs-number">52</span>]:
array(<span class="hljs-string">[[ 1.,  1.,  1.,  1.,  1.,  1.],
       [ 1.,  1.,  1.,  1.,  1.,  1.],
       [ 1.,  1.,  1.,  1.,  1.,  1.]]</span>)


np.empty((<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>)) # 创建无具体数值对象
Out[<span class="hljs-number">54</span>]:
array(<span class="hljs-string">[[[  0.00000000e+000,   6.43320951e-314],
        [  6.72211726e-316,   1.27319747e-313],
        [  1.27319747e-313,   1.27319747e-313]]</span>,

       <span class="hljs-string">[[  2.96439388e-323,   1.90979621e-313],
        [  0.00000000e+000,   2.75859453e-313],
        [  0.00000000e+000,   7.90505033e-323]]</span>])       


np.zeros_like(arr2) # 已一个array对象为模板，创建一个全<span class="hljs-number">0</span>的array
Out[<span class="hljs-number">55</span>]:
array(<span class="hljs-string">[[0, 0, 0, 0],
       [0, 0, 0, 0]]</span>)

np.asarray(arr2)  # 将输入转换为一个ndarray，如果输入本身是一个ndarray则不进行转换
Out[<span class="hljs-number">57</span>]:
array(<span class="hljs-string">[[1, 2, 3, 4],
       [5, 6, 7, 8]]</span>)


np.arange(<span class="hljs-number">10</span>) # 类似于range，但是返回的是ndarray对象
Out[<span class="hljs-number">58</span>]:
array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>])
</code></pre> 
<pre class="prettyprint"><code class=" hljs delphi">arr2.ndim  # <span class="hljs-keyword">array</span>对象的规模
<span class="hljs-keyword">Out</span>[<span class="hljs-number">44</span>]:
<span class="hljs-number">2</span>

arr2.shape  # <span class="hljs-keyword">array</span>对象的各维度大小
<span class="hljs-keyword">Out</span>[<span class="hljs-number">45</span>]:
(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>)

arr2.dtype  # <span class="hljs-keyword">array</span>对象内存储的数据类型
<span class="hljs-keyword">Out</span>[<span class="hljs-number">49</span>]:
dtype(<span class="hljs-string">'int32'</span>)


np.<span class="hljs-keyword">array</span>(data1, dtype=np.int) # 创建<span class="hljs-keyword">array</span>时指定int类型
<span class="hljs-keyword">Out</span>[<span class="hljs-number">63</span>]:
<span class="hljs-keyword">array</span>([<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">0</span>])


np.<span class="hljs-keyword">array</span>(data1, dtype=np.float) # 创建<span class="hljs-keyword">array</span>时指定float类型
<span class="hljs-keyword">Out</span>[<span class="hljs-number">64</span>]:
<span class="hljs-keyword">array</span>([ <span class="hljs-number">6</span>. ,  <span class="hljs-number">7.5</span>,  <span class="hljs-number">8</span>. ,  <span class="hljs-number">0.1</span>])


np.<span class="hljs-keyword">array</span>([<span class="hljs-string">'1'</span>, <span class="hljs-string">'2'</span>], dtype=np.string_) # 创建<span class="hljs-keyword">array</span>时指定<span class="hljs-keyword">string</span>类型
<span class="hljs-keyword">Out</span>[<span class="hljs-number">72</span>]:
<span class="hljs-keyword">array</span>([b<span class="hljs-string">'1'</span>, b<span class="hljs-string">'2'</span>], 
      dtype=<span class="hljs-string">'|S1'</span>)


arr2.astype(np.int)  # 转换<span class="hljs-keyword">array</span>的数据类型
<span class="hljs-keyword">Out</span>[<span class="hljs-number">73</span>]:
<span class="hljs-keyword">array</span>([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>],
       [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]])

ndarray还有许多其他的数据类型，具体可去查阅资料</code></pre> 
<ul><li>数组运算</li></ul> 
<pre class="prettyprint"><code class=" hljs lua">大小相等的数组之间的运算都会应用到元素级
data2 = <span class="hljs-string">[[1, 2, 3 ,4], 
         [5, 6, 7, 8]]</span>
arr2 = np.array(data2)
arr2
Out[<span class="hljs-number">12</span>]:
array(<span class="hljs-string">[[1, 2, 3, 4],
       [5, 6, 7, 8]]</span>)

arr2 * arr2
Out[<span class="hljs-number">17</span>]:
array(<span class="hljs-string">[[ 1,  4,  9, 16],
       [25, 36, 49, 64]]</span>)

数组与标量之间的运算
arr2 * <span class="hljs-number">3</span>
Out[<span class="hljs-number">18</span>]:
array(<span class="hljs-string">[[ 3,  6,  9, 12],
       [15, 18, 21, 24]]</span>)</code></pre> 
<ul><li>索引和切片</li></ul> 
<pre class="prettyprint"><code class=" hljs lua"># 一维数组
In [<span class="hljs-number">2</span>]: arr = np.arange(<span class="hljs-number">10</span>)

In [<span class="hljs-number">3</span>]: arr
Out[<span class="hljs-number">3</span>]: array([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>])

In [<span class="hljs-number">4</span>]: arr[<span class="hljs-number">5</span>]
Out[<span class="hljs-number">4</span>]: <span class="hljs-number">5</span>

In [<span class="hljs-number">5</span>]: arr[<span class="hljs-number">5</span>:<span class="hljs-number">8</span>]
Out[<span class="hljs-number">5</span>]: array([<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>])

In [<span class="hljs-number">6</span>]: arr[<span class="hljs-number">5</span>:<span class="hljs-number">8</span>] = <span class="hljs-number">12</span>  

In [<span class="hljs-number">7</span>]: arr  # 将标量赋值给一个切片时，该值会自动传播到整个选区
Out[<span class="hljs-number">7</span>]: array([ <span class="hljs-number">0</span>,  <span class="hljs-number">1</span>,  <span class="hljs-number">2</span>,  <span class="hljs-number">3</span>,  <span class="hljs-number">4</span>, <span class="hljs-number">12</span>, <span class="hljs-number">12</span>, <span class="hljs-number">12</span>,  <span class="hljs-number">8</span>,  <span class="hljs-number">9</span>])

In [<span class="hljs-number">8</span>]: arr_slice = arr[<span class="hljs-number">5</span>:<span class="hljs-number">8</span>]

In [<span class="hljs-number">9</span>]: arr_slice[<span class="hljs-number">0</span>] = <span class="hljs-number">12345</span>

In [<span class="hljs-number">10</span>]: arr  # 数组切片是原始数组的视图，这意味着数据不会被复制，视图上的任何修改都会反映到源数组上
Out[<span class="hljs-number">10</span>]: array([    <span class="hljs-number">0</span>,     <span class="hljs-number">1</span>,     <span class="hljs-number">2</span>,     <span class="hljs-number">3</span>,     <span class="hljs-number">4</span>, <span class="hljs-number">12345</span>,    <span class="hljs-number">12</span>,    <span class="hljs-number">12</span>,     <span class="hljs-number">8</span>,     <span class="hljs-number">9</span>])

# 如果想要得到一份数组切片的副本而不是视图，需要进行显式的复制操作
arr[<span class="hljs-number">5</span>:<span class="hljs-number">8</span>].copy()

# 二维数组索引
In [<span class="hljs-number">11</span>]: arr2d = np.array(<span class="hljs-string">[[1, 2, 3], [4, 5, 6], [7, 8, 9]]</span>)

In [<span class="hljs-number">12</span>]: arr2d[<span class="hljs-number">2</span>]
Out[<span class="hljs-number">12</span>]: array([<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>])

In [<span class="hljs-number">13</span>]: arr2d[<span class="hljs-number">2</span>][<span class="hljs-number">0</span>]
Out[<span class="hljs-number">13</span>]: <span class="hljs-number">7</span>

In [<span class="hljs-number">14</span>]: arr2d[<span class="hljs-number">2</span>, <span class="hljs-number">0</span>]
Out[<span class="hljs-number">14</span>]: <span class="hljs-number">7</span>

# 二维数组切片
In [<span class="hljs-number">18</span>]: arr2d[:<span class="hljs-number">2</span>]
Out[<span class="hljs-number">18</span>]:
array(<span class="hljs-string">[[1, 2, 3],
       [4, 5, 6]]</span>)

In [<span class="hljs-number">19</span>]: arr2d[:<span class="hljs-number">2</span>, <span class="hljs-number">1</span>:]
Out[<span class="hljs-number">19</span>]:
array(<span class="hljs-string">[[2, 3],
       [5, 6]]</span>)

In [<span class="hljs-number">20</span>]: arr2d[:, <span class="hljs-number">1</span>:]
Out[<span class="hljs-number">20</span>]:
array(<span class="hljs-string">[[2, 3],
       [5, 6],
       [8, 9]]</span>)


# 布尔型索引
# numpy.random.randn() 返回符合标准正态分布的值，如果需要非标准正态分布比如 N(mu,sigma^<span class="hljs-number">2</span>)的值，需要 sigma * numpy.random.randn() + mu
In [<span class="hljs-number">28</span>]: name = np.array([<span class="hljs-string">'Bob'</span>, <span class="hljs-string">'Joe'</span>, <span class="hljs-string">'Will'</span>, <span class="hljs-string">'Bob'</span>, <span class="hljs-string">'Will'</span>, <span class="hljs-string">'Joe'</span>, <span class="hljs-string">'Joe'</span>])
In [<span class="hljs-number">29</span>]: data = np.random.randn(<span class="hljs-number">7</span>, <span class="hljs-number">4</span>)

In [<span class="hljs-number">30</span>]: name
Out[<span class="hljs-number">30</span>]:
array([<span class="hljs-string">'Bob'</span>, <span class="hljs-string">'Joe'</span>, <span class="hljs-string">'Will'</span>, <span class="hljs-string">'Bob'</span>, <span class="hljs-string">'Will'</span>, <span class="hljs-string">'Joe'</span>, <span class="hljs-string">'Joe'</span>],
      dtype=<span class="hljs-string">'&lt;U4'</span>)

In [<span class="hljs-number">31</span>]: data
Out[<span class="hljs-number">31</span>]:
array(<span class="hljs-string">[[ 0.59050028,  0.54262242,  0.56663473,  0.6554538 ],
       [-0.39923065, -0.82629973, -0.0873751 ,  1.21706942],
       [-0.11293517, -0.33242528,  1.14774193,  1.03433507],
       [ 1.25394817, -0.70304246, -2.65318794, -0.35763238],
       [-0.3970596 ,  1.72538518,  2.12466681, -0.86388814],
       [-0.67229806, -0.73844444,  0.37058963, -1.09828783],
       [ 0.60443438, -0.055577  ,  0.03728253,  2.28866888]]</span>)

In [<span class="hljs-number">32</span>]: name == <span class="hljs-string">'Bob'</span>  # 比较运算会产生一个布尔型数组
Out[<span class="hljs-number">32</span>]: array([ True, False, False,  True, False, False, False], dtype=bool)

In [<span class="hljs-number">33</span>]: data[name == <span class="hljs-string">'Bob'</span>]  # 布尔型数组可以用于索引，布尔型数组的长度必须和被索引的轴的长度一致
Out[<span class="hljs-number">33</span>]:
array(<span class="hljs-string">[[ 0.59050028,  0.54262242,  0.56663473,  0.6554538 ],
       [ 1.25394817, -0.70304246, -2.65318794, -0.35763238]]</span>)

In [<span class="hljs-number">34</span>]: data[name != <span class="hljs-string">'Bob'</span>]
Out[<span class="hljs-number">34</span>]:
array(<span class="hljs-string">[[-0.39923065, -0.82629973, -0.0873751 ,  1.21706942],
       [-0.11293517, -0.33242528,  1.14774193,  1.03433507],
       [-0.3970596 ,  1.72538518,  2.12466681, -0.86388814],
       [-0.67229806, -0.73844444,  0.37058963, -1.09828783],
       [ 0.60443438, -0.055577  ,  0.03728253,  2.28866888]]</span>)

In [<span class="hljs-number">36</span>]: data[~(name == <span class="hljs-string">'Bob'</span>)]
Out[<span class="hljs-number">36</span>]:
array(<span class="hljs-string">[[-0.39923065, -0.82629973, -0.0873751 ,  1.21706942],
       [-0.11293517, -0.33242528,  1.14774193,  1.03433507],
       [-0.3970596 ,  1.72538518,  2.12466681, -0.86388814],
       [-0.67229806, -0.73844444,  0.37058963, -1.09828783],
       [ 0.60443438, -0.055577  ,  0.03728253,  2.28866888]]</span>)

In [<span class="hljs-number">38</span>]: data[(name == <span class="hljs-string">'Bob'</span>) | (name == <span class="hljs-string">'Will'</span>)]
Out[<span class="hljs-number">38</span>]:
array(<span class="hljs-string">[[ 0.59050028,  0.54262242,  0.56663473,  0.6554538 ],
       [-0.11293517, -0.33242528,  1.14774193,  1.03433507],
       [ 1.25394817, -0.70304246, -2.65318794, -0.35763238],
       [-0.3970596 ,  1.72538518,  2.12466681, -0.86388814]]</span>)

In [<span class="hljs-number">39</span>]: data[(name == <span class="hljs-string">'Bob'</span>) | (name == <span class="hljs-string">'Will'</span>)] = <span class="hljs-number">0</span>

In [<span class="hljs-number">40</span>]: data
Out[<span class="hljs-number">40</span>]:
array(<span class="hljs-string">[[ 0.        ,  0.        ,  0.        ,  0.        ],
       [-0.39923065, -0.82629973, -0.0873751 ,  1.21706942],
       [ 0.        ,  0.        ,  0.        ,  0.        ],
       [ 0.        ,  0.        ,  0.        ,  0.        ],
       [ 0.        ,  0.        ,  0.        ,  0.        ],
       [-0.67229806, -0.73844444,  0.37058963, -1.09828783],
       [ 0.60443438, -0.055577  ,  0.03728253,  2.28866888]]</span>)

# 花式索引：利用整数数组进行索引
# 花式索引和布尔型索引总是创建数据的副本
In [<span class="hljs-number">41</span>]: arr = np.empty((<span class="hljs-number">8</span>, <span class="hljs-number">4</span>))

In [<span class="hljs-number">42</span>]: <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">8</span>): arr[i] = i

In [<span class="hljs-number">43</span>]: arr
Out[<span class="hljs-number">43</span>]:
array(<span class="hljs-string">[[ 0.,  0.,  0.,  0.],
       [ 1.,  1.,  1.,  1.],
       [ 2.,  2.,  2.,  2.],
       [ 3.,  3.,  3.,  3.],
       [ 4.,  4.,  4.,  4.],
       [ 5.,  5.,  5.,  5.],
       [ 6.,  6.,  6.,  6.],
       [ 7.,  7.,  7.,  7.]]</span>)

In [<span class="hljs-number">44</span>]: arr<span class="hljs-string">[[4, 3, 0, 6]]</span>  # 以特定顺序选取子集
Out[<span class="hljs-number">44</span>]:
array(<span class="hljs-string">[[ 4.,  4.,  4.,  4.],
       [ 3.,  3.,  3.,  3.],
       [ 0.,  0.,  0.,  0.],
       [ 6.,  6.,  6.,  6.]]</span>)

In [<span class="hljs-number">45</span>]: arr<span class="hljs-string">[[-1, -6]]</span>
Out[<span class="hljs-number">45</span>]:
array(<span class="hljs-string">[[ 7.,  7.,  7.,  7.],
       [ 2.,  2.,  2.,  2.]]</span>)

In [<span class="hljs-number">47</span>]: arr2 = np.arange(<span class="hljs-number">32</span>).reshape((<span class="hljs-number">8</span>, <span class="hljs-number">4</span>))

In [<span class="hljs-number">48</span>]: arr2
Out[<span class="hljs-number">48</span>]:
array(<span class="hljs-string">[[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11],
       [12, 13, 14, 15],
       [16, 17, 18, 19],
       [20, 21, 22, 23],
       [24, 25, 26, 27],
       [28, 29, 30, 31]]</span>)

In [<span class="hljs-number">49</span>]: arr2<span class="hljs-string">[[0, 1], [0, 1]]</span>  # 一次传入多个索引数组会返回一个一维数组
Out[<span class="hljs-number">49</span>]: array([<span class="hljs-number">0</span>, <span class="hljs-number">5</span>])

In [<span class="hljs-number">52</span>]: arr2[np.ix_([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>])]  # 选取一个方形区域(会把匹配的数字组成一个对角线)
Out[<span class="hljs-number">52</span>]:
array(<span class="hljs-string">[[0, 1],
       [4, 5]]</span>)

</code></pre> 
<ul><li>数组转置和轴对换</li></ul> 
<pre class="prettyprint"><code class=" hljs avrasm">arr = np<span class="hljs-preprocessor">.arange</span><span class="hljs-preprocessor">.reshape</span>((<span class="hljs-number">3</span>, <span class="hljs-number">5</span>))
arr<span class="hljs-preprocessor">.T</span>  <span class="hljs-preprocessor"># 转置，多维数组转置暂不涉及，没看懂</span></code></pre> 
<ul><li>通用函数(ufunc)：对ndarray中的元素执行元素级运算</li></ul> 
<pre class="prettyprint"><code class=" hljs avrasm">arr = np<span class="hljs-preprocessor">.arange</span>(<span class="hljs-number">10</span>)
np<span class="hljs-preprocessor">.sqrt</span>(arr)  <span class="hljs-preprocessor"># 开平方</span>
<span class="hljs-keyword">Out</span>[<span class="hljs-number">5</span>]:
array([ <span class="hljs-number">0.</span>        ,  <span class="hljs-number">1.</span>        ,  <span class="hljs-number">1.41421356</span>,  <span class="hljs-number">1.73205081</span>,  <span class="hljs-number">2.</span>        ,
        <span class="hljs-number">2.23606798</span>,  <span class="hljs-number">2.44948974</span>,  <span class="hljs-number">2.64575131</span>,  <span class="hljs-number">2.82842712</span>,  <span class="hljs-number">3.</span>        ])

from numpy<span class="hljs-preprocessor">.random</span> import randn
<span class="hljs-built_in">x</span> = randn(<span class="hljs-number">8</span>)
<span class="hljs-built_in">y</span> = randn(<span class="hljs-number">8</span>)

<span class="hljs-built_in">x</span>
<span class="hljs-keyword">Out</span>[<span class="hljs-number">11</span>]:
array([ <span class="hljs-number">0.19943087</span>, -<span class="hljs-number">0.43969755</span>,  <span class="hljs-number">0.47467068</span>, -<span class="hljs-number">0.69043646</span>, -<span class="hljs-number">1.584372</span>  ,
       -<span class="hljs-number">0.56508495</span>,  <span class="hljs-number">1.38790099</span>, -<span class="hljs-number">1.59400619</span>])

<span class="hljs-built_in">y</span>
<span class="hljs-keyword">Out</span>[<span class="hljs-number">12</span>]:
array([ <span class="hljs-number">0.45679909</span>, -<span class="hljs-number">0.27603361</span>, -<span class="hljs-number">0.20546445</span>, -<span class="hljs-number">0.3849307</span> ,  <span class="hljs-number">0.46480436</span>,
        <span class="hljs-number">0.67025896</span>, -<span class="hljs-number">1.1392202</span> , -<span class="hljs-number">0.20614324</span>])

np<span class="hljs-preprocessor">.maximum</span>(<span class="hljs-built_in">x</span>, <span class="hljs-built_in">y</span>)  <span class="hljs-preprocessor"># 元素级最大值</span>
<span class="hljs-keyword">Out</span>[<span class="hljs-number">13</span>]:
array([ <span class="hljs-number">0.45679909</span>, -<span class="hljs-number">0.27603361</span>,  <span class="hljs-number">0.47467068</span>, -<span class="hljs-number">0.3849307</span> ,  <span class="hljs-number">0.46480436</span>,
        <span class="hljs-number">0.67025896</span>,  <span class="hljs-number">1.38790099</span>, -<span class="hljs-number">0.20614324</span>])


其他函数自行查阅资料</code></pre> 
<ul><li>利用数组进行数据处理：可以代替循环，通常被称作矢量化，要比纯python循环要快一两个数量级</li></ul> 
<pre class="prettyprint"><code class=" hljs lua">计算一组值的平方根
points = np.arange(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>)

points
Out[<span class="hljs-number">18</span>]:
array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])

xs, ys = np.meshgrid(points, points)  # np.meshgrid接受两个一维数组，产生两个二维矩阵，对应于两个数组中的所有(x, y)对

xs
Out[<span class="hljs-number">24</span>]:
array(<span class="hljs-string">[[1, 2, 3],
       [1, 2, 3],
       [1, 2, 3]]</span>)

ys
Out[<span class="hljs-number">25</span>]:
array(<span class="hljs-string">[[1, 1, 1],
       [2, 2, 2],
       [3, 3, 3]]</span>)

np.sqrt(xs ** <span class="hljs-number">2</span> + ys ** <span class="hljs-number">2</span>)
Out[<span class="hljs-number">27</span>]:
array(<span class="hljs-string">[[ 1.41421356,  2.23606798,  3.16227766],
       [ 2.23606798,  2.82842712,  3.60555128],
       [ 3.16227766,  3.60555128,  4.24264069]]</span>)</code></pre> 
<pre class="prettyprint"><code class=" hljs lua">将条件逻辑表述为数组运算
numpy.where是三元表达式 x <span class="hljs-keyword">if</span> condition <span class="hljs-keyword">else</span> y的矢量化版本

xarr = np.array([<span class="hljs-number">1.1</span>, <span class="hljs-number">1.2</span>, <span class="hljs-number">1.3</span>, <span class="hljs-number">1.4</span>, <span class="hljs-number">1.5</span>])
yarr = np.array([<span class="hljs-number">2.1</span>, <span class="hljs-number">2.2</span>, <span class="hljs-number">2.3</span>, <span class="hljs-number">2.4</span>, <span class="hljs-number">2.5</span>])
cond = np.array([True, False, True, False, True])


np.where(cond, xarr, yarr)
Out[<span class="hljs-number">31</span>]:
array([ <span class="hljs-number">1.1</span>,  <span class="hljs-number">2.2</span>,  <span class="hljs-number">1.3</span>,  <span class="hljs-number">2.4</span>,  <span class="hljs-number">1.5</span>])


# np.where 的第二个或第三个数值可以使标量值
from numpy.random import randn
arr = randn(<span class="hljs-number">4</span>, <span class="hljs-number">4</span>)
arr
Out[<span class="hljs-number">32</span>]:
array(<span class="hljs-string">[[ 1.48935358,  0.16635899,  0.35877451,  0.11799083],
       [-0.78907086, -0.3152652 ,  0.65792422,  0.08701324],
       [ 0.11015433, -1.18763333, -0.67036253,  0.90152057],
       [ 0.99085688, -0.8010255 ,  0.64804849, -0.59125293]]</span>)

np.where(arr &gt; <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, -<span class="hljs-number">2</span>)
Out[<span class="hljs-number">33</span>]:
array(<span class="hljs-string">[[ 2,  2,  2,  2],
       [-2, -2,  2,  2],
       [ 2, -2, -2,  2],
       [ 2, -2,  2, -2]]</span>)

np.where(arr &gt; <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, arr)
Out[<span class="hljs-number">34</span>]:
array(<span class="hljs-string">[[ 2.        ,  2.        ,  2.        ,  2.        ],
       [-0.78907086, -0.3152652 ,  2.        ,  2.        ],
       [ 2.        , -1.18763333, -0.67036253,  2.        ],
       [ 2.        , -0.8010255 ,  2.        , -0.59125293]]</span>)</code></pre> 
<pre class="prettyprint"><code class=" hljs lua"># 数学和统计方法
# 可以通过数组上的一组数学函数对整个数组或者某个轴向上的数据进行统计运算

arr = np.array(<span class="hljs-string">[[1, 2, 3],
               [4, 5, 6],
               [7, 8, 9]]</span>)

arr.sum()
Out[<span class="hljs-number">49</span>]:
<span class="hljs-number">45</span>

np.sum(arr)
Out[<span class="hljs-number">50</span>]:
<span class="hljs-number">45</span>

arr.mean()
Out[<span class="hljs-number">51</span>]:
<span class="hljs-number">5.0</span>

arr.sum(axis=<span class="hljs-number">0</span>)  # axis用于计算该轴上的统计值，也可直接写arr.sum(<span class="hljs-number">0</span>)
Out[<span class="hljs-number">54</span>]:
array([<span class="hljs-number">12</span>, <span class="hljs-number">15</span>, <span class="hljs-number">18</span>])

arr.sum(<span class="hljs-number">1</span>)
Out[<span class="hljs-number">46</span>]:
array([ <span class="hljs-number">6</span>, <span class="hljs-number">15</span>, <span class="hljs-number">24</span>])

arr.cumsum(<span class="hljs-number">0</span>)  # cumsum 和 cumprod之类的方法不聚合，而是昌盛一个由中间结果组成的数组
Out[<span class="hljs-number">53</span>]:
array(<span class="hljs-string">[[ 1,  2,  3],
       [ 5,  7,  9],
       [12, 15, 18]]</span>, dtype=int32)

方法          说明
sum         对数组中全部或某轴向的元素求和
mean        算数平均数
std, var    标准差和方差，自由度默认为n
min, max    最大值， 最小值
argmin, argmax  最大和最小元素的索引
cumsum      所有元素累积和
cumprod     所有元素累积积</code></pre> 
<pre class="prettyprint"><code class=" hljs oxygene">用于布尔型数组的方法
<span class="hljs-keyword">from</span> numpy.random import randn
arr = randn(<span class="hljs-number">100</span>)
(arr &gt; <span class="hljs-number">0</span>).sum()  # 布尔值会被转换为<span class="hljs-number">0</span>和<span class="hljs-number">1</span>，所以sum可以用来统计布尔型数组中<span class="hljs-keyword">True</span>的个数
<span class="hljs-keyword">Out</span>[<span class="hljs-number">55</span>]:
<span class="hljs-number">38</span>

bools = np.<span class="hljs-keyword">array</span>([<span class="hljs-keyword">True</span>, <span class="hljs-keyword">False</span>, <span class="hljs-keyword">True</span>])
bools.any()  # any用来测试数组中是否存在一个或多个<span class="hljs-keyword">True</span>
<span class="hljs-keyword">Out</span>[<span class="hljs-number">56</span>]:
<span class="hljs-keyword">True</span>

bools.all()  # all用来检查数组中是否都是<span class="hljs-keyword">True</span>
<span class="hljs-keyword">Out</span>[<span class="hljs-number">57</span>]:
<span class="hljs-keyword">False</span></code></pre> 
<pre class="prettyprint"><code class=" hljs lua"># 排序
from numpy.random import randn
arr = randn(<span class="hljs-number">8</span>)
arr.sort()  # 可以通过sort方法就地排序，而np.sort()返回的是数组的已排序副本
arr
Out[<span class="hljs-number">62</span>]:
array([-<span class="hljs-number">2.17193055</span>, -<span class="hljs-number">1.0539244</span> , -<span class="hljs-number">0.86781328</span>, -<span class="hljs-number">0.35368566</span>, -<span class="hljs-number">0.01342987</span>,
        <span class="hljs-number">0.12809625</span>,  <span class="hljs-number">0.67388565</span>,  <span class="hljs-number">1.51157792</span>])

arr = randn(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)
arr
Out[<span class="hljs-number">69</span>]:
array(<span class="hljs-string">[[-0.04572744,  0.24189971],
       [-0.02663575, -0.61676388]]</span>)

arr.sort(<span class="hljs-number">1</span>)  # 按轴排序
arr
Out[<span class="hljs-number">70</span>]:
array(<span class="hljs-string">[[-0.04572744,  0.24189971],
       [-0.61676388, -0.02663575]]</span>)</code></pre> 
<pre class="prettyprint"><code class=" hljs php"><span class="hljs-comment"># 集合运算</span>
names = np.<span class="hljs-keyword">array</span>([<span class="hljs-string">'B'</span>, <span class="hljs-string">'A'</span>, <span class="hljs-string">'B'</span>, <span class="hljs-string">'C'</span>, <span class="hljs-string">'A'</span>])
np.unique(names)  <span class="hljs-comment"># 找出数组中的唯一值并返回排序结果</span>
Out[<span class="hljs-number">72</span>]:
<span class="hljs-keyword">array</span>([<span class="hljs-string">'A'</span>, <span class="hljs-string">'B'</span>, <span class="hljs-string">'C'</span>], 
      dtype=<span class="hljs-string">'&lt;U1'</span>)

方法                      说明
unique(x)                计算x中的唯一元素并返回排序结果
intersect1d(x, y)        计算x和y中的公共结果并返回排序结果
union1d(x, y)            计算x和y的并集并返回有序结果
in1d(x, y)               得到一个表示<span class="hljs-string">"x的元素是否包含于y"</span>的布尔型数组
setdiff1d(x, y)          集合的差，即元素在x中且不在y中
setxor1d(x, y)           得到存在于一个数组但不同时存在于两个数组中的元素</code></pre> 
<ul><li>用于数组的文件输入输出</li></ul> 
<pre class="prettyprint"><code class=" hljs ">略</code></pre> 
<ul><li>线性代数常用方法</li></ul> 
<pre class="prettyprint"><code class=" hljs ">略</code></pre> 
<ul><li>随机数生成</li></ul> 
<pre class="prettyprint"><code class=" hljs mel">numpy.random 下包含的常用随机数生成方法
函数              说明
<span class="hljs-keyword">seed</span>        确定随机数生成器的种子
permutation 返回一个序列的随机排列或返回一个随机排列的范围
shuffle     对一个序列就地随机排列
<span class="hljs-keyword">rand</span>        产生均匀分布的样本值
randit      从给定的上下限范围内随机选取整取
randn       产生正态分布的样本值
normal      产生正态分布的样本值
<span class="hljs-keyword">uniform</span>     产生[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)中均匀分布的样本值</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/81cf1a12a56103580b8739fbe1296552/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MATLAB实现图像灰度归一化</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4b65cfdadc25d71653f68a72fd148b45/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Spring配置文件没有自动提示解决</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>