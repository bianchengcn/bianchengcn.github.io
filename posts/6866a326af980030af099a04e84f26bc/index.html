<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【coderwhy前端笔记 - 阶段六 VUE 】(整理版)（更新中2023.7.16） - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【coderwhy前端笔记 - 阶段六 VUE 】(整理版)（更新中2023.7.16）" />
<meta property="og:description" content="coderwhy前端系统课 - 阶段六VUE (整理版)（更新中2023.10.23） 1. 前言 本文以coderwhy前端系统课 - 阶段六VUE为主。
一刷版本的笔记有些乱，目前还在二刷整理，同时参考了一部分其他的资料，并加上个人使用总结
暂时停更，在备考，考完分享《软考中级-软件评测师》的复习资源和笔记
-----2023-10-23
建议使用 资源绑定 或 链接 里的html文件进行阅读
直接下载
资源说明：
资源内有自定义的样式更便于阅读，这里的样式不做额外编写资源内点击侧边栏开关时文章阅读位置会偏移，点击目录定位即可资源内的图片无法像csdn的可以点击放大，但能看清的该文章有些定位点链接，资源内可点击，文章这点了没效果，不做额外修改该文章出现一些看不懂的符号拼接啥的，略过
（一些自定义语法，太多了，这回应该删完了，后面更新估计懒得删） ----2023.10.23 更新----
图片经停1秒会放大显示
（会有文章抖动现象，vscode的md目前没有像csdn的可以点击放大图片） 附上一张效果图：
2. vue2 vs vue3 放在开头为了方便对比，后面的内容以vue3为主
2.1. vue文件结构 /.wrap2 &lt;
/.box &lt;
vue2
&lt;template&gt; &lt;div&gt; &lt;h1&gt;{{ title }}&lt;/h1&gt; &lt;button @click=&#34;increment&#34;&gt;{{ count }}&lt;/button&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { data() { return { title: &#39;Hello, Vue2!&#39;, count: 0 } }, methods: { increment() { this.count&#43;&#43; } } } &lt;/script&gt; /-&gt;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/6866a326af980030af099a04e84f26bc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-23T16:48:17+08:00" />
<meta property="article:modified_time" content="2023-10-23T16:48:17+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【coderwhy前端笔记 - 阶段六 VUE 】(整理版)（更新中2023.7.16）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="coderwhy__VUE_20231023_0"></a>coderwhy前端系统课 - 阶段六VUE (整理版)（更新中2023.10.23）</h2> 
<h3><a id="1__1"></a>1. 前言</h3> 
<p>本文以coderwhy前端系统课 - 阶段六VUE为主。</p> 
<p>一刷版本的笔记有些乱，目前还在二刷整理，同时参考了一部分其他的资料，并加上个人使用总结</p> 
<blockquote> 
 <p>暂时停更，在备考，考完分享《软考中级-软件评测师》的复习资源和笔记<br> -----2023-10-23</p> 
</blockquote> 
<p><strong><font color="red">建议使用 <mark>资源绑定</mark> 或 <mark>链接</mark> 里的html文件进行阅读</font></strong></p> 
<p><a href="https://pan.baidu.com/s/1VpFriaP4aajnlnabsNhBYQ?pwd=0000" rel="nofollow">直接下载</a></p> 
<blockquote> 
 <p>资源说明：</p> 
 <ol><li>资源内有自定义的样式更便于阅读，这里的样式不做额外编写</li><li>资源内<font color="red">点击侧边栏开关时文章阅读位置会偏移，点击目录定位即可</font></li><li>资源内的图片无法像csdn的可以点击放大，但能看清的</li><li>该文章有些定位点链接，资源内可点击，文章这点了没效果，不做额外修改</li><li>该文章出现一些看不懂的符号拼接啥的，略过<br> （一些自定义语法，太多了，这回应该删完了，后面更新估计懒得删）</li></ol> 
 <p>----2023.10.23 更新----</p> 
 <ol><li><font color="red">图片经停1秒会放大显示</font><br> （会有文章抖动现象，vscode的md目前没有像csdn的可以点击放大图片）</li></ol> 
</blockquote> 
<p>附上一张效果图：<br> <img src="https://images2.imgbox.com/0c/af/ZoZMiomN_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_vue2_vs_vue3_31"></a>2. vue2 vs vue3</h3> 
<blockquote> 
 <p>放在开头为了方便对比，后面的内容以vue3为主</p> 
</blockquote> 
<h4><a id="21_vue_35"></a>2.1. vue文件结构</h4> 
<p>/.wrap2 &lt;<br> /.box &lt;</p> 
<p><em><strong>vue2</strong></em></p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>increment<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{<!-- -->{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Hello, Vue2!'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /.box &lt;</p> 
<p><em><strong>vue3</strong></em></p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>increment<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{<!-- -->{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 也可以在这定义data数据</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token string">'Hello, Vue3!'</span>
    <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token keyword">function</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      count<span class="token punctuation">.</span>value<span class="token operator">++</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      title<span class="token punctuation">,</span>
      count<span class="token punctuation">,</span>
      increment
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /-&gt;</p> 
<h4><a id="22__110"></a>2.2. 路由</h4> 
<p>– 来自chatgpt，两者都使用Vue Router来实现路由功能</p> 
<p>/.wrap2 &lt;<br> /.box &lt;</p> 
<p><em><strong>vue2</strong></em></p> 
<ol><li>引入Vue Router插件及其依赖</li></ol> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span>
</code></pre> 
<ol start="2"><li>配置路由映射关系</li></ol> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">component</span><span class="token operator">:</span> Home
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'about'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">component</span><span class="token operator">:</span> About
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>其中，<code>path</code>表示URL路径，<code>name</code>为路由名称，<code>component</code>指定该路由对应的组件。</p> 
<ol start="3"><li>将路由挂载到Vue实例上</li></ol> 
<pre><code class="prism language-javascript"><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  router<span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre> 
<p>在 Vue3 中，render 函数的写法有所不同，使用了新的 createApp API。</p> 
<p>/-&gt;<br> /.box &lt;</p> 
<p><em><strong>vue3</strong></em></p> 
<p>提供了一个基于函数式API的新特性：createRouter()</p> 
<ol><li>引入Vue Router插件及其依赖</li></ol> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> createRouter<span class="token punctuation">,</span> createWebHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
</code></pre> 
<ol start="2"><li>创建Router实例并配置路由映射关系</li></ol> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> Home
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'about'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> About
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">history</span><span class="token operator">:</span> <span class="token function">createWebHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  routes
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>与Vue2不同的是，在Vue3中，需要将<code>history</code>传递给 <code>createWebHistory</code> 来指定路由模式。</p> 
<p><code>routes</code> 数组中的每个对象包含<code>path</code>、<code>name</code>和<code>component</code>属性。</p> 
<ol start="3"><li>将路由挂载到Vue实例上</li></ol> 
<pre><code class="prism language-javascript"><span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre> 
<p>这里使用createApp()方法来创建Vue实例，并通过use()方法将router实例添加到Vue实例中。</p> 
<p>/-&gt;<br> /-&gt;</p> 
<p><em><strong>备注</strong></em></p> 
<p>vue2 中的 <code>render: h =&gt; h(App)</code></p> 
<p><img src="https://images2.imgbox.com/63/2e/4GgmkOVw_o.png" alt="20230503101058"></p> 
<h4><a id="23_JS_216"></a>2.3. JS函数</h4> 
<h3><a id="3__218"></a>3. 基础语法</h3> 
<h4><a id="31_%E3%80%80_220"></a>3.1. 插值语法　<code>{<!-- -->{}}</code></h4> 
<p>/.wrap2 &lt;<br> /.box &lt;</p> 
<p>html</p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- 1.基本使用 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>当前计数: {<!-- -->{ counter }} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 2.表达式 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>计数双倍: {<!-- -->{ counter * 2 }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>展示的信息: {<!-- -->{ info.split(" ") }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 3.三元运算符 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ age &gt;= 18? "成年人": "未成年人" }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 4.调用methods中函数 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ formatDate(time) }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /.box &lt;</p> 
<p>javascript</p> 
<pre><code class="prism language-javascript"> <span class="token comment">//data</span>
 <span class="token literal-property property">counter</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
 <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token string">"my name is why"</span><span class="token punctuation">,</span>
 <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span>
 <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token number">123</span>
 <span class="token comment">//method</span>
 <span class="token function-variable function">formatDate</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">date</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
   <span class="token keyword">return</span> <span class="token string">"2022-10-10-"</span> <span class="token operator">+</span> date
 <span class="token punctuation">}</span>
</code></pre> 
<p>/-&gt;/-&gt;</p> 
<h4><a id="32__262"></a>3.2. 内置指令</h4> 
<ul><li><code>v-for(item in list)</code>　遍历，内容：<code>{<!-- -->{item}}</code></li><li><code>v-text</code>　文本 ，等于直接用 <code>{<!-- -->{}}</code></li><li><code>v-html</code>　 HTML插入</li><li><code>v-pre</code>　 无需编译，如<code>{<!-- -->{m}}</code>，显示在浏览器还是 <code>{<!-- -->{m}}</code></li><li><code>v-once</code>　 只传入一次</li><li><code>v-cloak</code>　遮罩斗篷，先隐藏没有传入值的<code>{<!-- -->{m}}</code>，有传入值后显示，css加上 <code>[v-cloak]{display:none}</code></li></ul> 
<h5><a id="1_vmemo%E3%80%80_271"></a>（1） v-memo　某值改变才更新</h5> 
<p>某值改变时才更新内容，可查看<a href="https://www.cnblogs.com/IwishIcould/p/16344531.html" rel="nofollow">《vue3.2新增指令v-memo的使用 - 南风晚来晚相识》</a></p> 
<p>/.wrap2 &lt;<br> /.box &lt;</p> 
<p>html</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-memo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>[name]<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>姓名: {<!-- -->{ name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>年龄: {<!-- -->{ age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>身高: {<!-- -->{ height }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>updateInfo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>改变信息<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /.box &lt;</p> 
<p>javascript</p> 
<pre><code class="prism language-javascript"><span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"why"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">1.88</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function-variable function">updateInfo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"kobe"</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>/-&gt;/-&gt;</p> 
<h5><a id="2_vbind%E3%80%80%E3%80%80_315"></a>（2） v-bind　动态绑定　<code>:</code></h5> 
<table><thead><tr><th>原语句</th><th>语法糖</th></tr></thead><tbody><tr><td><code>v-bind:src=""</code></td><td><code>:src</code></td></tr><tr><td><code>v-bind:href=""</code></td><td><code>:href</code></td></tr><tr><td><code>v-bind:class=""</code></td><td><code>:class</code></td></tr></tbody></table> 
<p><em><strong>绑定方法参考</strong></em></p> 
<p>/.wrap2 &lt;<br> /.box lit3&lt;</p> 
<p>html</p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- 1.绑定img的src属性 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showImgUrl<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 语法糖: v-bind -&gt; : --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showImgUrl<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 2.绑定a的href属性 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>href<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>百度一下<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /.box lit7&lt;</p> 
<p>javascript</p> 
<pre><code class="prism language-javascript"><span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">imgUrl1</span><span class="token operator">:</span> <span class="token string">"http://p1.music.126.net/agGc1qkogHtJQzjjyS-kAA==/109951167643767467.jpg"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">imgUrl2</span><span class="token operator">:</span> <span class="token string">"http://p1.music.126.net/_Q2zGH5wNR9xmY1aY7VmUw==/109951167643791745.jpg"</span><span class="token punctuation">,</span>

    <span class="token literal-property property">showImgUrl</span><span class="token operator">:</span> <span class="token string">"http://p1.music.126.net/_Q2zGH5wNR9xmY1aY7VmUw==/109951167643791745.jpg"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">href</span><span class="token operator">:</span> <span class="token string">"http://www.baidu.com"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function-variable function">switchImage</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//  图片地址 =  现在的图片地址 ===  是图片1吗 ？     是：展示图片2  不是：显示图片1</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>showImgUrl <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>showImgUrl <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>imgUrl1 <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>imgUrl2<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>imgUrl1
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>/-&gt;/-&gt;</p> 
<h6><a id="_class_366"></a>❥ 绑定class</h6> 
<p>/.wrap2 &lt;<br> /.box lit3&lt;</p> 
<p>前提：</p> 
<pre><code class="prism language-javascript"> <span class="token comment">// css</span>
 <span class="token punctuation">.</span>active <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> red<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
 <span class="token comment">//data</span>
 <span class="token literal-property property">isActive</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
   <span class="token comment">// methods</span>
    <span class="token function-variable function">btnClick</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>isActive <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>isActive
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>/-&gt;<br> /.box lit7&lt;</p> 
<ol><li>三元：</li></ol> 
<pre><code class="prism language-html">  <span class="token comment">&lt;!--		=isActive吗？   	是：添加active样式   否：啥也不加			--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isActive ? 'active': ''<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btnClick<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>我是按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ol start="2"><li>单值 ⭐</li></ol> 
<pre><code class="prism language-html"><span class="token comment">&lt;!--	不会影响原有class	 active样式加不加呢？    =false 不加    =true 加		--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>haha<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ active: isActive }<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btnClick<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>我是按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ol start="3"><li>对象语法的多个键值对</li></ol> 
<pre><code class="prism language-html"><span class="token comment">&lt;!--								直接添加 why		--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ active: isActive, why: true, kobe: false }<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btnClick<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>我是按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ol start="4"><li>把 :class 的内容抽取出去</li></ol> 
<pre><code class="prism language-html"><span class="token comment">&lt;!--							抽取到方法里			--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>abc cba<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getDynamicClasses()<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btnClick<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>我是按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-javascript"> <span class="token comment">//method</span>
 <span class="token function-variable function">getDynamicClasses</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
   <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">active</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isActive<span class="token punctuation">,</span> <span class="token literal-property property">why</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">kobe</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre> 
<ol start="5"><li>数组</li></ol> 
<pre><code class="prism language-html">    <span class="token comment">&lt;!-- 3.动态class可以写数组语法(了解) --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>['abc', 'cba']<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Hello Array<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>['abc', className]<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Hello Array<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>['abc', className, isActive? 'active': '']<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Hello Array<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>['abc', className, { active: isActive }]<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Hello Array<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;/-&gt;</p> 
<h6><a id="_style_436"></a>❥ 绑定style</h6> 
<ol><li>绑定属性为对象，分隔符为<code>,</code></li></ol> 
<pre><code class="prism language-html"><span class="token comment">&lt;!--  普通的html写法 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span> <span class="token property">font-size</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>哈哈哈哈<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--  对象类型  --&gt;</span>
<span class="token comment">&lt;!--			调用data的fontColor		调用data的fontSize与px拼接	88px要连在一起，所以加''	--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ color: fontColor, fontSize: fontSize + 'px', height: '88px' }<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>哈哈哈哈<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-javascript"><span class="token comment">//data</span>
<span class="token literal-property property">fontColor</span><span class="token operator">:</span> <span class="token string">"blue"</span><span class="token punctuation">,</span>
</code></pre> 
<ol><li>绑定属性为数组 （很少用）</li></ol> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>objStyle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>呵呵呵呵<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>[objStyle, { backgroundColor: 'purple' }]<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>嘿嘿嘿嘿<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-javascript"><span class="token comment">//data</span>
<span class="token literal-property property">objStyle</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token string">'50px'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"green"</span>
<span class="token punctuation">}</span>
</code></pre> 
<h6><a id="__469"></a>❥ 绑定属性名</h6> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">:[name]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>aaaa'<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Hello World<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-javascript"><span class="token comment">//data</span>
<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"class"</span>
</code></pre> 
<h6><a id="__480"></a>❥ 绑定对象</h6> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>infos<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Hello Bind<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-javascript"><span class="token comment">// data</span>
<span class="token literal-property property">infos</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"why"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">1.88</span><span class="token punctuation">,</span> <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token string">"广州市"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h5><a id="3_von%E3%80%80%E3%80%80_491"></a>（3） v-on　事件绑定（事件监听）　<code>@</code></h5> 
<table><thead><tr><th>原语句</th><th>语法糖</th></tr></thead><tbody><tr><td><code>v-on:click=" "</code></td><td><code>@click=" "</code></td></tr></tbody></table> 
<p><em><strong>绑定方法参考</strong></em></p> 
<p>/.wrap2 &lt;<br> /.box lit7&lt;</p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- 1.基本的写法 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>divClick<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 2.语法糖写法(重点掌握) --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>divClick<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 4.绑定其他方法(掌握) --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span> <span class="token attr-name">@mousemove</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>divMousemove<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 5.元素绑定多个事件(掌握) --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>divClick<span class="token punctuation">"</span></span> <span class="token attr-name">@mousemove</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>divMousemove<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /.box lit3&lt;</p> 
<pre><code class="prism language-javascript"><span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">divClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"divClick"</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">divMousemove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"divMousemove"</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>/-&gt;/-&gt;</p> 
<h6><a id="__532"></a>❥ 参数传递</h6> 
<p>/.wrap2 &lt;<br> /.box &lt;</p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- 1.默认传递event对象 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn1Click<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>按钮1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 2.只有自己的参数 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn2Click('pyy', age)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>按钮2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 3.自己的参数和event对象
       在模板中想要明确的获取event对象: $event --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn3Click('pyy', age, $event)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>按钮3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /.box &lt;</p> 
<pre><code class="prism language-javascript"><span class="token comment">//data</span>
<span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
<span class="token comment">//方法 </span>
<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 1.默认参数: event对象</span>
  <span class="token comment">// 总结： 如果在绑定事件的时候, 没有传递任何的参数</span>
  <span class="token comment">//       那么event对象会被默认传递进来</span>
  <span class="token function">btn1Click</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"btn1Click:"</span><span class="token punctuation">,</span> event<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// 2.明确参数:</span>
  <span class="token function">btn2Click</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"btn2Click:"</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token comment">// pyy 18</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// 3.明确参数+event对象</span>
  <span class="token function">btn3Click</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> event</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"btn3Click:"</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> event<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>/-&gt;/-&gt;</p> 
<h6><a id="__578"></a>❥ 添加修饰符</h6> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click.stop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btnClick<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><em><strong>使用过</strong></em></p> 
<p>/.wrap2 &lt;<br> /.box lit3&lt;</p> 
<p>回车自动触发：<code>@keyup.enter.native</code><br> 阻止默认事件：<code>@submit.native.prevent</code></p> 
<p>/-&gt;<br> /.box lit7&lt;</p> 
<p>解决问题：<br> <img src="https://images2.imgbox.com/77/d5/3VIWzzWB_o.png" alt="20230509005949"></p> 
<p>/-&gt;/-&gt;</p> 
<p><em><strong>其他修饰符</strong></em></p> 
<ul><li><code>.stop</code> - 调用 event.stopPropagation()，这是阻止事件的冒泡方法，不让事件向document上蔓延，但是默认事件任然会执行，当你掉用这个方法的时候，如果点击一个连接，这个连接仍然会被打开，<a href="https://www.cnblogs.com/nongzihong/p/10683782.html" rel="nofollow">解释来源</a></li><li><code>.prevent</code> - 调用event.preventDefault()，这是阻止默认事件的方法，调用此方法是，连接不会被打开，但是会发生冒泡，冒泡会传递到上一层的父元素；</li><li><code>.capture</code> - 添加事件侦听器时使用 capture 模式，事件冒泡</li><li><code>.self</code> - 只当事件是从侦听器绑定的元素本身触发时才触发回调</li><li><code>.{keyAlias}</code> - 仅当事件是从特定键触发时才触发回调</li><li><code>.once</code> - 只触发一次回调</li><li><code>.left</code> - 只当点击鼠标左键时触发</li><li><code>.right</code> - 只当点击鼠标右键时触发</li><li><code>.middle</code> - 只当点击鼠标中键时触发passive -{ passive: true}模式添加侦听器</li></ul> 
<h5><a id="4_vif%E3%80%80_612"></a>（4） v-if　是否（条件渲染）</h5> 
<p><code>v-if="条件"</code>　　　　　条件成立，执行该段<br> <code>v-else</code>　　　　　　　条件不成立，执行该段</p> 
<h6><a id="__617"></a>❥ 数组</h6> 
<p>/.wrap2 &lt;<br> /.box &lt;</p> 
<pre><code class="prism language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>names.length &gt; 0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item in names<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{<!-- -->{item}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>当前names没有数据, 请求获取数据后展示<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><code>v-for(元素 in 列表)</code>　　遍历</p> 
<p>/-&gt;<br> /.box &lt;</p> 
<pre><code class="prism language-javascript"> <span class="token comment">//data</span>
 <span class="token literal-property property">names</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment">// 无数据</span>
 <span class="token literal-property property">names</span><span class="token operator">:</span><span class="token punctuation">[</span>ab<span class="token punctuation">,</span> ad<span class="token punctuation">,</span> ae<span class="token punctuation">]</span> <span class="token comment">// 有数据</span>
</code></pre> 
<p>/-&gt;/-&gt;</p> 
<h6><a id="__642"></a>❥ 对象</h6> 
<p>/.wrap2 &lt;<br> /.box &lt;</p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- v-if="条件" 	 	无值 &gt; false     有值 &gt; true		 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>info<span class="token punctuation">"</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Object.keys(info).length<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>个人信息<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>姓名: {<!-- -->{info.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>年龄: {<!-- -->{info.age}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- v-else --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>没有输入个人信息<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>请输入个人信息后, 再进行展示~<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /.box &lt;</p> 
<pre><code class="prism language-javascript"><span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"aa"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">11</span><span class="token punctuation">}</span>
</code></pre> 
<p>/-&gt;/-&gt;</p> 
<h6><a id="_if_else_if_673"></a>❥ if else if</h6> 
<pre><code class="prism language-html">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>score &gt; 90<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>优秀<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-else-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>score &gt; 80<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>良好<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">v-else-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>score &gt;= 60<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>及格<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>不及格<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h5><a id="5_vshow%E3%80%80__684"></a>（5） v-show　显示/隐藏 （条件渲染）</h5> 
<p>/.wrap2 &lt;<br> /.box &lt;</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>toggle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>切换<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShowCode<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://game.gtimg.cn/images/yxzj/web201706/images/comm/floatwindow/wzry_qrcode.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /.box &lt;</p> 
<pre><code class="prism language-javascript"><span class="token comment">// data</span>
<span class="token literal-property property">isShowCode</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token comment">//method</span>
<span class="token function">toggle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>isShowCode <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>isShowCode
<span class="token punctuation">}</span>
</code></pre> 
<p>/-&gt;<br> /-&gt;</p> 
<p>注意：<br> <code>v-if=true/false</code>也可以控制元素的隐藏显示，区别在于：</p> 
<ul><li>v-show <em>不支持</em> template （<a href="#7-template-%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93" rel="nofollow">见template详解</a>）</li><li>v-show <em>不可以</em>和 v-else 一起使用</li><li>v-show 不管是 true 还是 false ，内容的 <em>dom 都是存在的</em>，只是通过 css 的 display 属性来切换</li><li>v-if=flase 时，对应的<em>内容</em>不会渲染在 dom 中（<em>是不存在的！</em>）</li><li><strong>频繁的切换隐藏显示用v-show</strong></li></ul> 
<h5><a id="6_vfor%E3%80%80__723"></a>（6） v-for　遍历 （列表渲染）</h5> 
<p><code>v-for="(item,index) in 数组"</code></p> 
<p>也支持 <code>v-for="(item,index) of 数组"</code>，但平时一般<strong>直接用in</strong></p> 
<p><a href="https://blog.csdn.net/weixin_50339217/article/details/124316585">《v-for 循环中 in 与 of 区别，以及 ES5 for in 与 ES6 for of 区别 - 雁 南飞》:</a></p> 
<p><img src="https://images2.imgbox.com/02/50/DFXwOuCm_o.png" alt="20230520135035"></p> 
<h6><a id="__733"></a>❥ 数组和对象</h6> 
<p>/–遍历对象 <code>v-for="(value, key, index) in info"</code></p> 
<p>/–遍历字符串 <code>v-for="item in message"</code></p> 
<p>/–遍历数字 <code>v-for="item in 100"</code></p> 
<p>写在 li 标签，会产生多个 li，默认 item 为 value 值</p> 
<p>/.wrap2 &lt;<br> /.box lit4 &lt;</p> 
<p>html</p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!--  遍历 value  --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>movie in movies<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{<!-- -->{ movie }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 遍历 value, key, index --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(value, key, index) in info<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  {<!-- -->{value}}-{<!-- -->{key}}-{<!-- -->{index}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 有索引   0, 1, 2, 3...     --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(movie, index) in movies<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  {<!-- -->{index + 1}} - {<!-- -->{ movie }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 3.遍历数组复杂数据 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>商品列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item in products<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>商品: {<!-- -->{item.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>价格: {<!-- -->{item.price}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>秒杀: {<!-- -->{item.desc}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /.box lit6 &lt;</p> 
<p>javascript</p> 
<pre><code class="prism language-javascript"> <span class="token comment">// data</span>
 <span class="token comment">// 1.movies</span>
 <span class="token literal-property property">movies</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"星际穿越"</span><span class="token punctuation">,</span> <span class="token string">"少年派"</span><span class="token punctuation">,</span> <span class="token string">"大话西游"</span><span class="token punctuation">,</span> <span class="token string">"哆啦A梦"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
 
 <span class="token comment">// 2.数组: 存放的是对象</span>
 <span class="token literal-property property">products</span><span class="token operator">:</span> <span class="token punctuation">[</span>
   <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Macbook"</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">9.9</span><span class="token punctuation">,</span> <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">"9.9秒杀, 快来抢购!"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">111</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"iPhone"</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">8.8</span><span class="token punctuation">,</span> <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">"9.9秒杀, 快来抢购!"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">112</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"小米电脑"</span><span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">9.9</span><span class="token punctuation">,</span> <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">"9.9秒杀, 快来抢购!"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">]</span>
</code></pre> 
<p>/-&gt;<br> /-&gt;</p> 
<h6><a id="__793"></a>❥ 数组更新检测</h6> 
<pre><code class="prism language-javascript"> <span class="token function">changeArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
   <span class="token comment">// 1.直接将数组修改为一个新的数组</span>
   <span class="token comment">// this.names = ["why", "kobe"]</span>
 
   <span class="token comment">// 2.通过一些数组的方法, 修改数组中的元素</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>names<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"why"</span><span class="token punctuation">)</span>    <span class="token comment">// 加</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>names<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token comment">// 删除后面一个</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>names<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"why"</span><span class="token punctuation">)</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>names<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>names<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 
   <span class="token comment">// 3.不修改原数组的方法是不能侦听(watch)</span>
    <span class="token comment">// 因为this.names.map() 会产生一个新数组，而不是修改原数组，所以需要把值存入一个变量</span>
   <span class="token keyword">const</span> newNames <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>names<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">+</span> <span class="token string">"why"</span><span class="token punctuation">)</span>  <span class="token comment">//每个value后面拼接why    </span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>names <span class="token operator">=</span> newNames
 <span class="token punctuation">}</span>
</code></pre> 
<p>⭐ splice！可以添加、删除、替换</p> 
<pre><code class="prism language-javascript">names<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"pyy"</span><span class="token punctuation">,</span><span class="token string">"pyyyy"</span><span class="token punctuation">)</span> <span class="token comment">// 在位置3 删除1个 添加pyy和pyyyy</span>
</code></pre> 
<h6><a id="_key_820"></a>❥ key的作用</h6> 
<p>官方解释key:：<br> <img src="https://images2.imgbox.com/df/17/mAtT0mlt_o.png" alt="在这里插入图片描述"></p> 
<p>有key和没有key时执行的方法不一样<br> <img src="https://images2.imgbox.com/55/2b/XpAGtK69_o.png" alt="20230516144301"></p> 
<p>没key时，也会执行diff算法，对比遇到不一样的内容时，后面的全部替换：</p> 
<p>有key时，也使用diff算法，但会尽量的复用原有节点：<br> <img src="https://images2.imgbox.com/c8/1a/ONSjNn2j_o.png" alt="20230516144534"></p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- key要求是唯一: id --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item in letters<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{<!-- -->{item}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><em><strong>总结</strong></em><br> <img src="https://images2.imgbox.com/57/b4/iTsnkOhG_o.png" alt="20230520135653"></p> 
<p><a href="https://vue3js.cn/interview/vue/key.html#%E4%BA%8C%E3%80%81%E8%AE%BE%E7%BD%AEkey%E4%B8%8E%E4%B8%8D%E8%AE%BE%E7%BD%AEkey%E5%8C%BA%E5%88%AB" rel="nofollow">key的面试问答</a></p> 
<h5><a id="7_template__843"></a>（7） template （列表渲染）</h5> 
<p>当div没有意义，又使用了<code>v-xxx</code>，那就把 div 换成 template<br> 可以放id <code>&lt;template id=" "&gt;</code></p> 
<p><img src="https://images2.imgbox.com/46/20/ITauBuLV_o.png" alt="在这里插入图片描述"></p> 
<p>以下来自解释来自于<a href="https://blog.csdn.net/qq_42453562/article/details/103960120">《vue v-if与v-show的区别，template的使用 - 键盘上的那抹灰》</a></p> 
<ul><li>当两个以上的div被同一元素控制时，用 <code>template</code> 替换该元素</li><li>控制台template改良版将不会出现一个新的div，也不会出现template，<strong>减少空间</strong></li><li>template<strong>是没有实际东西的dom</strong>，所以v-show与template联合使用将失效</li></ul> 
<h4><a id="33_vmodel_856"></a>3.3. v-model</h4> 
<p><em><strong>原理和使用方法</strong></em></p> 
<p>原理：<br> <img src="https://images2.imgbox.com/07/1b/FvTWK3as_o.png" alt="在这里插入图片描述"></p> 
<p>写法：</p> 
<p>✗　手动绑定，先显示message值在input里，input输入其他值时，message同步改变</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>inputChange<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{message}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-javascript"> <span class="token comment">//data</span>
 <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"Hello Model"</span><span class="token punctuation">,</span>
 <span class="token comment">// methods</span>
 <span class="token function">inputChange</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>⭐　v-model，不用添加方法</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{message}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>案例：登录</p> 
<pre><code class="prism language-html">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>account<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      账号:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>account<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>account<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      密码:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loginClick<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>登录<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-javascript"><span class="token comment">// data </span>
<span class="token literal-property property">account</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
<span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">""</span>
<span class="token comment">// methods</span>
<span class="token function">loginClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>    <span class="token comment">// 获取值，发送出去</span>
  <span class="token keyword">const</span> account <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>account
  <span class="token keyword">const</span> password <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>password

  <span class="token comment">// url发送网络请求</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> password<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="1__textarea_914"></a>（1） 绑定到 textarea</h5> 
<p><img src="https://images2.imgbox.com/32/1e/cYMNvuQw_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="2__checkbox_918"></a>（2） 绑定到 checkbox</h5> 
<p><img src="https://images2.imgbox.com/e8/c8/AUuZzBwg_o.png" alt="在这里插入图片描述"></p> 
<p>lable 里的 for 为 html 内的知识点，点击文字也可以关联到 input</p> 
<h5><a id="3__redio_924"></a>（3） 绑定到 redio</h5> 
<p><img src="https://images2.imgbox.com/5b/d8/cdJYEBZ5_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="4__select_928"></a>（4） 绑定到 select</h5> 
<p><img src="https://images2.imgbox.com/1f/6e/EAIlIU8o_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="5__932"></a>（5） 值绑定</h5> 
<p>选项也来自服务器时。<br> <img src="https://images2.imgbox.com/7f/e9/t2tGDhbS_o.png" alt="请添加图片描述"></p> 
<h5><a id="6__937"></a>（6） 修饰符</h5> 
<p><code>v-model-lazy</code>　会将绑定的事件切换为 change 事件，只有在提交时(比如回车)才会触发</p> 
<p><code>v-model-number</code>　转为数字类型</p> 
<p><code>v-model-trim</code>　动过滤用户输入的空白字符</p> 
<p><em><strong>使用多个</strong></em></p> 
<p><code>v-model.lazy.trim=""</code> 可以组合使用</p> 
<h3><a id="4_Options_APIvue2_949"></a>4. Options API（vue2）</h3> 
<p>Options API 包含</p> 
<pre><code class="prism language-javascript"> <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
   <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">// 数据   </span>
   <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">]</span>               <span class="token comment">// 接收父组件传递过来的属性</span>
   methods：<span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token comment">// 方法</span>
   <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>              <span class="token comment">// 监听（数据变化）</span>
   <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>           <span class="token comment">// 复杂数据处理</span>
   <span class="token literal-property property">minxins</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token comment">// 混入（合并），vue2用的多</span>
   <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>         <span class="token comment">// 局部组件</span>
   <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>           <span class="token comment">// 监听（创建后）</span>
<span class="token operator">+</span>
  <span class="token comment">// lifecycle hooks 生命周期钩子函数，如</span>
  <span class="token comment">// created、mounted、updated、destroyed 等</span>

  <span class="token comment">// 以下不确定 </span>
   <span class="token literal-property property">provide</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">]</span>             <span class="token comment">// 提供数据给inject</span>
   <span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">]</span>              <span class="token comment">// 使用props这些数据</span>
 <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="41_%E3%80%80computed_973"></a>4.1. 复杂数据处理　⭐computed</h4> 
<h5><a id="1__975"></a>（1） 方案对比</h5> 
<ol><li>插值语法　<strong>✗</strong></li></ol> 
<pre><code class="prism language-html">    <span class="token comment">&lt;!-- 插值语法表达式直接进行拼接 --&gt;</span>
    <span class="token comment">&lt;!-- 1.拼接名字 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ firstName + " " + lastName }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 2.显示分数等级 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ score &gt;= 60 ? '及格': '不及格' }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 3.反转单词显示文本 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ message.split(" ").reverse().join(" ") }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/–split 将字符串转化为数组<br> /–reverse 反转<br> /–join 用xx拼接</p> 
<ol start="2"><li>method 方法　<strong>✗</strong></li></ol> 
<p>函数调用</p> 
<p>/.wrap2 &lt;<br> /.box &lt;</p> 
<pre><code class="prism language-html">    <span class="token comment">&lt;!-- 1.拼接名字 方便多次调用--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ getFullname() }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ getFullname() }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ getFullname() }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 2.显示分数等级 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ getScoreLevel() }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 3.反转单词显示文本 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ reverseMessage() }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /.box &lt;</p> 
<pre><code class="prism language-javascript"> <span class="token comment">// methods</span>
 <span class="token function">getFullname</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
   <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token function">getScoreLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
   <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">&gt;=</span> <span class="token number">60</span> <span class="token operator">?</span> <span class="token string">"及格"</span><span class="token operator">:</span> <span class="token string">"不及格"</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token function">reverseMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
   <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
</code></pre> 
<p>/-&gt;/-&gt;</p> 
<p><em>弊端</em>：所有的data使用过程都变成了方法的调用</p> 
<ol start="3"><li>⭐ <strong>computed</strong>　计算属性 ⭐</li></ol> 
<p>官方：任何包含响应式数据的复杂逻辑，<em>都应该使用计算属性</em>（案例里都算相应式数据的复杂逻辑）</p> 
<p>数据更新时会<em>自动处理</em></p> 
<p><em><strong>computed 位置</strong></em></p> 
<pre><code class="prism language-javascript"> <span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
   <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>
   methods：<span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">"#app"</span><span class="token punctuation">)</span>
</code></pre> 
<p>处理案例：</p> 
<p>/.wrap2 &lt;<br> /.box lit4 &lt;</p> 
<pre><code class="prism language-html">    <span class="token comment">&lt;!-- 1.拼接名字 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ fullname }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ fullname }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ fullname }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 2.显示分数等级 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ scoreLevel }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 3.反转单词显示文本 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ reverseMessage }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /.box lit6 &lt;</p> 
<pre><code class="prism language-javascript"> <span class="token comment">// 1.创建app</span>
 <span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
   <span class="token comment">// data: option api</span>
   <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
     <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
       <span class="token comment">// 1.姓名</span>
       <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">"kobe"</span><span class="token punctuation">,</span>
       <span class="token literal-property property">lastName</span><span class="token operator">:</span> <span class="token string">"bryant"</span><span class="token punctuation">,</span>
       <span class="token comment">// 2.分数: 及格/不及格</span>
       <span class="token literal-property property">score</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
       <span class="token comment">// 3.一串文本: 对文本中的单词进行反转显示</span>
       <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"my name is why"</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
     <span class="token comment">// 1.计算属性默认对应的是一个函数</span>
     <span class="token function">fullname</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token function">scoreLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">&gt;=</span> <span class="token number">60</span> <span class="token operator">?</span> <span class="token string">"及格"</span><span class="token operator">:</span> <span class="token string">"不及格"</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token function">reverseMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
 
 <span class="token comment">// 2.挂载app</span>
 app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">"#app"</span><span class="token punctuation">)</span>
</code></pre> 
<p>/-&gt;/-&gt;</p> 
<h5><a id="2_method__computed__1107"></a>（2） method 与 computed 区别</h5> 
<ul><li> <p>表现形式：computed 稍微简洁一些<br> <img src="https://images2.imgbox.com/f7/29/TMMqvfbb_o.png" alt="在这里插入图片描述"></p> </li><li> <p>computed 有缓存<br> <img src="https://images2.imgbox.com/28/53/dPWNxmEU_o.png" alt="在这里插入图片描述"><br> 解释：第一次变化时，数据未发生变化，computed方法仅调用了一次，缓存下来直接用，而method方法重复调用（执行）了三次</p> </li></ul> 
<h5><a id="3__set_get_1116"></a>（3） 计算属性的 set get</h5> 
<p><img src="https://images2.imgbox.com/a2/7f/MgaeymzE_o.png" alt="20230517145402"></p> 
<h4><a id="42__watch_1120"></a>4.2. 监听器 watch</h4> 
<p><em><strong>位置</strong></em></p> 
<pre><code class="prism language-javascript"> <span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
   <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>
   methods：<span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">watch</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">"#app"</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="1__1133"></a>（1） 监听新旧值</h5> 
<p><code>dataName(newValue, oldValue) {}</code></p> 
<pre><code class="prism language-javascript"> <span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
   <span class="token comment">// data: option api</span>
   <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
     <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
       <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"Hello Vue"</span><span class="token punctuation">,</span>
       <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"why"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
     <span class="token function">changeMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">"你好啊, 李银河!"</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>info <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"kobe"</span> <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
     <span class="token comment">// 1.默认有两个参数: newValue/oldValue</span>
     <span class="token function">message</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"message数据发生了变化:"</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token function">info</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       <span class="token comment">// 2.如果是对象类型, 那么拿到的是代理对象</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"info数据发生了变化:"</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span> <span class="token comment">// 两个(proxy)对象 </span>
       <span class="token comment">// newValue proxy对象 {name:"kobe"}</span>
       <span class="token comment">// oldValue proxy对象  { name: "why", age: 18 }</span>

       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newValue<span class="token punctuation">.</span>name<span class="token punctuation">,</span> oldValue<span class="token punctuation">.</span>name<span class="token punctuation">)</span>    <span class="token comment">// 两个值</span>
 
       <span class="token comment">// 3.获取原生对象  （不想获取proxy对象，想要获取的原生对象方法）</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">...</span>newValue<span class="token punctuation">)</span>              <span class="token comment">// 原生的方法</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Vue<span class="token punctuation">.</span><span class="token function">toRaw</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span><span class="token punctuation">)</span>      <span class="token comment">//vue专门提供的方法，{name:kobe}</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">"#app"</span><span class="token punctuation">)</span>
</code></pre> 
<p>如果原来是对象类，那么监听时获取到的也是<a href="#103-proxy" rel="nofollow">proxy对象</a></p> 
<p><em><strong>对象类型</strong></em></p> 
<p>proxy对象 👉 Vue.toRaw(newValue)</p> 
<h5><a id="2__1179"></a>（2） 深度监听</h5> 
<p>methods方法修改内容时，虽然内容会有变化，但是<em>默认</em>的watch<em>不会</em>进行<em>深度监听</em>！，所以在watch里默认没有监听到</p> 
<p>修改<code>info.name</code>，监听变化</p> 
<p><img src="https://images2.imgbox.com/29/d6/olQJCaRg_o.png" alt="在这里插入图片描述"></p> 
<ul><li>⭐<code>handler(){}</code>相当于<code>info(newValue,oldValue){}</code>的语法糖</li><li>⭐<code>deep: true</code> 启动深度监听</li><li>但！点击改变 <code>info.name:kobe</code> 后改深度对象返回的newValue,oldValue是相同的<br> <img src="https://images2.imgbox.com/c8/8f/2XFxlEMk_o.png" alt="20230520015729"><br> 因为改变的不是info对象是info里的属性， <strong>（所以也没能监听到啊，deep:true到底有什么用）</strong></li><li>⭐<code>immediate</code>，第一次渲染时执行一次</li><li>这里的 <code>info.name function</code> 是vue2的知识点，<strong>能监听到</strong>name的变化</li></ul> 
<h5><a id="3__1195"></a>（3） 声明周期的监听</h5> 
<p>监听message</p> 
<pre><code class="prism language-javascript"> <span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
   <span class="token comment">// data: option api</span>
   <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
     <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
       <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"Hello Vue"</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
     <span class="token function">changeMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">"你好啊, 李银河!"</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token comment">// 生命周期回调函数: 当前的组件被创建时自动执行</span>
   <span class="token comment">// 一般在该函数中, 会进行网络请求</span>
   <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
     <span class="token comment">// ajax/fetch/axios</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"created"</span><span class="token punctuation">)</span>
 
     <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"message数据变化:"</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="43_Options_API_1225"></a>4.3. Options API的弊端</h4> 
<p><em><strong>vue2编写组件的方式是Options API</strong></em></p> 
<ul><li>Options API一大特点是<em>在对应的属性</em>中编<em>写对应的功能模块</em></li><li>如<em>data定义数据</em>、<em>methods定义方法</em>、<em>computed定义计算属性</em>、<em>watch监听属性变化</em>，也包括<em>生命周期钩子</em></li></ul> 
<p><em><strong>但是这种代码有很大的弊端</strong></em></p> 
<ul><li>当实现某一个功能时，这个功能对应的代码逻辑会<strong>被拆分</strong>到各个属性中</li><li>当组件变得更大、更复杂时，逻<strong>辑关注点的列表就会增长</strong>，那么同一个功能的逻辑就会被拆分的<strong>很分散</strong></li><li>对于一开始没有编写这些组件的人（包括阅读组件的其他人）来说，这个组件的代码是<strong>难以阅读和理解</strong>的</li></ul> 
<p><img src="https://images2.imgbox.com/0a/27/IPeFMTOc_o.png" alt="20230705070008"></p> 
<p>当组件非常大时，这种碎片化的代码使用、理解和维护这个复杂的组件变得异常困难，并且隐藏了潜在的逻辑问题。并且处理单个逻辑关注点时，需要<strong>不断地跳转</strong>到相应的代码中</p> 
<h3><a id="5__1242"></a>5. 组件</h3> 
<p><em><strong>概念及思想</strong></em></p> 
<p><img src="https://images2.imgbox.com/00/97/VPGS0Py2_o.png" alt="20230522044036"><img src="https://images2.imgbox.com/cf/16/ZuNokqyO_o.png" alt="20230522043929"></p> 
<h4><a id="51___1248"></a>5.1. 注册 调用</h4> 
<p><em><strong>全局组件</strong></em><br> 在任何其他的组件中都可以使用的组件，<code>app.component( 组件名称, 对象 )</code> 方法</p> 
<p><em><strong>局部组件</strong></em><br> 只有在注册的组件中才能使用的组件，<code>components( 组件名称, 对象 )</code> 属性</p> 
<p><img src="https://images2.imgbox.com/10/bd/HAylWep6_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="1__1258"></a>（1） 全局组件</h5> 
<p><code>app.component( 组件名称, 对象 )</code> 方法，注册全局组件，html 里直接用组件名&lt;组件名称&gt;&lt;/组件名称&gt;</p> 
<p><em><strong>⭐ vue全局注册案例 —— chatgpt</strong></em></p> 
<p>1.假设你有一个名为"my-component"的组件</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'Hello World!'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>2.要在整个应用程序中使用该组件，你需要先调用Vue全局方法"Vue.component()"进行注册，如下所示：</p> 
<pre><code class="prism language-javascript"><span class="token comment">// main.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> MyComponent <span class="token keyword">from</span> <span class="token string">'./MyComponent.vue'</span>

Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'my-component'</span><span class="token punctuation">,</span> MyComponent<span class="token punctuation">)</span>

<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>现在，可以在整个应用程序中使用"my-component"组件，如下所示：</p> 
<pre><code class="prism language-html">// App.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> MyComponent <span class="token keyword">from</span> <span class="token string">'./MyComponent.vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    MyComponent
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>在这个例子中，我们已经在"main.js"文件中全局注册了"my-component"组件，因此我们不再需要在"App.vue"文件中再次导入和注册该组件。相反，我们可以直接在模板中使用该组件。</p> 
<p>总结一下，Vue的全局组件注册使得我们可以在整个应用程序中使用该组件，而不需要重复导入或注册该组件。</p> 
<p><em><strong>课程内容</strong></em></p> 
<p>/.wrap2 &lt;<br> /.box lit3 &lt;<br> 框架<br> <img src="https://images2.imgbox.com/c4/70/ro8tLbvm_o.png" alt="在这里插入图片描述"><br> /-&gt;<br> /.box lit3 &lt;<br> 案例<br> <img src="https://images2.imgbox.com/5d/2f/wYQK9XMh_o.png" alt="在这里插入图片描述"></p> 
<p>/-&gt;<br> /.box lit3 &lt;<br> 案例<br> <img src="https://images2.imgbox.com/99/c9/RcwLhsna_o.png" alt="在这里插入图片描述"><br> /-&gt;<br> /-&gt;</p> 
<p>全局组件的特点: 一旦注册成功后, 可以在任意其他组件的template中使用<br> <img src="https://images2.imgbox.com/26/78/349ypc02_o.png" alt="在这里插入图片描述"></p> 
<p>以前写法对比图：<br> <img src="https://images2.imgbox.com/fa/90/2vETE7hB_o.png" alt="在这里插入图片描述"></p> 
<p>案例：</p> 
<p><img src="https://images2.imgbox.com/b9/25/TG5JpVBZ_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="2__1350"></a>（2） 局部组件</h5> 
<p><code>components( 组件名称, 对象 )</code> 属性</p> 
<pre><code class="prism language-javascript"> <span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
   <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// 局部组件</span>
   <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">// 数据</span>
   methods：<span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>     <span class="token comment">// 方法</span>
   <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// 复杂数据处理</span>
   <span class="token literal-property property">watch</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>      <span class="token comment">// 监听</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">"#app"</span><span class="token punctuation">)</span>
</code></pre> 
<p><em><strong>⭐ vue局部注册案例 —— chatgpt</strong></em></p> 
<p>以下是一个简单的 Vue 局部组件注册案例：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 使用局部组件 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> MyComponent <span class="token keyword">from</span> <span class="token string">'./MyComponent.vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 注册局部组件</span>
    <span class="token string-property property">'my-component'</span><span class="token operator">:</span> MyComponent
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>在上面的代码中，我们首先引入了 MyComponent 组件，然后在 Vue 实例的 components 选项中注册了该组件。这个组件现在就可以在当前 Vue 组件中使用，并且可以通过 标签来调用。</p> 
<p>需要注意的是，在进行局部组件注册时，我们需要指定组件的名称，这个名称将作为组件的标签名在模板中使用。在上面的例子中，我们注册了名为 my-component 的组件，并在模板中使用了它。</p> 
<p>值得一提的是，Vue 还支持使用字符串数组来一次性注册多个局部组件，例如：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> MyComponent1 <span class="token keyword">from</span> <span class="token string">'./MyComponent1.vue'</span>
<span class="token keyword">import</span> MyComponent2 <span class="token keyword">from</span> <span class="token string">'./MyComponent2.vue'</span>
<span class="token keyword">import</span> MyComponent3 <span class="token keyword">from</span> <span class="token string">'./MyComponent3.vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string-property property">'my-component-1'</span><span class="token operator">:</span> MyComponent1<span class="token punctuation">,</span>
    <span class="token string-property property">'my-component-2'</span><span class="token operator">:</span> MyComponent2<span class="token punctuation">,</span>
    <span class="token string-property property">'my-component-3'</span><span class="token operator">:</span> MyComponent3
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>在上述代码中，我们同时注册了三个局部组件，并分别指定了它们的名称。这样，在模板中就可以使用 &lt; my-component-1 &gt;、&lt; my-component-2 &gt; 和 &lt; my-component-3 &gt; 这三个标签来调用这三个组件了。</p> 
<p><em><strong>课程</strong></em></p> 
<p>案例：</p> 
<pre><code class="prism language-html">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>home-nav</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>home-nav</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>product-item</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>product-item</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>product<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>product<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>商品描述, 限时折扣, 赶紧抢购<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>价格: {<!-- -->{price}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>收藏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>-------------------- nav start ---------------<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>product-item</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>product-item</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>-------------------- nav end ---------------<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-javascript"> <span class="token comment">// 1.创建app</span>
    <span class="token keyword">const</span> ProductItem <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">"#product"</span><span class="token punctuation">,</span>
      <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"我是product的title"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">9.9</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 1.1.组件打算在哪里被使用</span>
    <span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token comment">// components: option api</span>
      <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        ProductItem<span class="token punctuation">,</span>
        <span class="token literal-property property">HomeNav</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">"#nav"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            ProductItem
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// data: option api</span>
      <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"Hello Vue"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 2.挂载app</span>
    app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">"#app"</span><span class="token punctuation">)</span>
</code></pre> 
<p>图解：<br> <img src="https://images2.imgbox.com/f5/bf/RMPXgRNh_o.png" alt="在这里插入图片描述"></p> 
<p>案例：<br> <img src="https://images2.imgbox.com/21/c2/QpCoHDj4_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/e4/f3/Wx8kauuf_o.png" alt="在这里插入图片描述"></p> 
<p>组件间的嵌套</p> 
<p><img src="https://images2.imgbox.com/7f/ae/JAOxUwir_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="3__1481"></a>（3） 组件名字</h5> 
<p>两种方式</p> 
<ol><li><code>-</code> 连接</li><li>使用驼峰标识符</li></ol> 
<p>组件名称使用驼峰式时，<code>components：{ MyItem }</code> ，在 <code>&lt;template&gt;&lt;/template&gt;</code> 内使用时，以下两种方法都可以调用<br> <code>&lt;MyItem&gt;&lt;/MyItem&gt;</code>　<code>&lt;my-item&gt;&lt;/my-item&gt;</code></p> 
<h4><a id="52__1491"></a>5.2. 通信</h4> 
<p>父组件传递给子组件: 通过 <code>props</code> 属性<br> 子组件传递给父组件: 通过 <code>$emit</code> 触发事件<br> <img src="https://images2.imgbox.com/73/2d/SZ2FHxjF_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="1_%E3%80%80_props___1497"></a>（1） 父传子　子用 props 接收 ⭐</h5> 
<p>子组件放<code>props:[ ]</code>，props 位置</p> 
<pre><code class="prism language-javascript"> <span class="token comment">// vue3</span>
 <span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{<!-- --></span>
   <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// 局部组件</span>
   <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">// 数据</span>
   methods：<span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>     <span class="token comment">// 方法</span>
   <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// 复杂数据处理</span>
   <span class="token literal-property property">watch</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span><span class="token punctuation">,</span>     <span class="token comment">// 监听</span>
   <span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 或{}    //接收父组件传递过来的属性</span>
 <span class="token punctuation">}</span>
</code></pre> 
<p><em><strong>根（父）组件</strong></em><br> （app.vue）</p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- 没加：的，传的是字符串类型        加了：的，会变为js代码，自动变成数字类型 --&gt;</span>
①<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>show-info</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>why<span class="token punctuation">"</span></span> <span class="token attr-name">:age</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>18<span class="token punctuation">"</span></span> <span class="token attr-name">:height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1.88<span class="token punctuation">"</span></span> <span class="token attr-name">address</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>广州市<span class="token punctuation">"</span></span> <span class="token attr-name">abc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cba<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>active<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
②<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>show-info</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>kobe<span class="token punctuation">"</span></span> <span class="token attr-name">:age</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>30<span class="token punctuation">"</span></span> <span class="token attr-name">:height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1.87<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> 
<p><em><strong>子vue</strong></em></p> 
<p><code>script</code>用下面的语法<strong>接收</strong>，接收后<code>template</code>用<code>{<!-- -->{}}</code><strong>调用</strong></p> 
<ul><li> <p>props 数组语法<code>props: ["name", "age", "height"]</code></p> <p>弊端: 1、不能对类型进行验证；2、没有默认值的</p> </li><li> <p>props 对象语法</p> </li></ul> 
<pre><code class="prism language-javascript">  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">"我是默认name"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
        <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">0</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">2</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// 重要的原则: 对象类型写默认值时, 需要编写default的函数, 函数返回默认值</span>
      <span class="token literal-property property">friend</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>   <span class="token comment">// 或 dafault: () =&gt; ({ name: "james" })</span>
          <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"james"</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">hobbies</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> Array<span class="token punctuation">,</span>
        <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token string">"篮球"</span><span class="token punctuation">,</span> <span class="token string">"rap"</span><span class="token punctuation">,</span> <span class="token string">"唱跳"</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">showMessage</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">"我是showMessage"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> 
<h5><a id="2_%E3%80%80_emit__1567"></a>（2） 子传父　子用 $emit 发送⭐</h5> 
<p><img src="https://images2.imgbox.com/77/48/y86bHluU_o.png" alt="在这里插入图片描述"></p> 
<p>添加<code>emits</code>属性，方便查看发送的参数名，且父组件编写时会自动提示</p> 
<pre><code class="prism language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 1.emits数组语法</span>
    <span class="token literal-property property">emits</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"add"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> 略 <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p>全貌：<br> <img src="https://images2.imgbox.com/39/30/vvmMluCz_o.png" alt="在这里插入图片描述"><br> 关于emits验证语法，（先执行函数，再验证，即使为false也是先执行函数，仅为提醒作用）<br> <img src="https://images2.imgbox.com/44/4c/jZfIfqZe_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="3_PropAttribute_1586"></a>（3） 非Prop的Attribute</h5> 
<p><em><strong>官方概念</strong></em></p> 
<p>（<em>未传递的属性</em>）<br> <img src="https://images2.imgbox.com/8a/9b/lWQdAk6G_o.png" alt="在这里插入图片描述"></p> 
<p><em><strong>解释</strong></em></p> 
<p>用props演示来解释</p> 
<p>父组件有传 <code>address="广州市" abc="cba" class="active"</code> （👆①）<br> 子组件没有<code>{<!-- -->{address}}</code>接收语句，但vue会自动帮我们接收，添加到子组件的根元素上（<em>在浏览器页面代码上</em>）<br> <img src="https://images2.imgbox.com/aa/de/PnIZ10W1_o.png" alt="在这里插入图片描述"></p> 
<p><code>inheritAttrs</code>属性决定要不要自动接收</p> 
<pre><code class="prism language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">inheritAttrs</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment">// 不接收</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>  略  <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p><em><strong>第一种情况</strong></em><br> 设置了<code>inheritAttrs: false</code>，但又想在某元素上调用，则设置<code>$attrs</code><br> 如<code>:class="$attrs.class"</code></p> 
<p><em><strong>第二种情况</strong></em><br> 不设置<code>inheritAttrs</code>（就是要接收），又有多个根（如下图同级的div）的情况下，使用<code>v-bind="$attrs"</code>，告诉浏览器把属性传到哪个根（div）上</p> 
<p><img src="https://images2.imgbox.com/a6/b2/eDU4DU01_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="4__1619"></a>（4） 通信案例（一）</h5> 
<p>chatgpt提供案例，简单的 父传子+子传父</p> 
<p><img src="https://images2.imgbox.com/f5/1f/Xgzfjt7G_o.png" alt="20230529061837"></p> 
<h5><a id="5__1625"></a>（5） 通信案例（二）</h5> 
<p>课程提供的综合案例</p> 
<p><img src="https://images2.imgbox.com/66/80/bMjGWsWm_o.png" alt="在这里插入图片描述"></p> 
<p>代码：<br> <img src="https://images2.imgbox.com/6b/f9/diVziioj_o.png" alt="在这里插入图片描述"></p> 
<p>代码分析：<br> <img src="https://images2.imgbox.com/3d/64/VZzPiJUJ_o.png" alt="在这里插入图片描述"></p> 
<p><code>default:()=&gt;[]</code> 默认值：返回空数组</p> 
<h5><a id="6_%E3%80%80__1639"></a>（6） 非父子通信　事件总线 ⭐</h5> 
<p><em><strong>provide 　Inject</strong></em></p> 
<p>最上层父组件有一个 provide 选项来提供数据<br> (孙)子组件有一个 inject 选项来开始使用这些数据<br> <img src="https://images2.imgbox.com/c4/d0/o0mN62PR_o.png" alt="在这里插入图片描述"></p> 
<p>provide提供数据</p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>   <span class="token comment">// 有@click= 事件</span>

 <span class="token comment">// provide一般都是写成函数</span>
 <span class="token function">provide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
   <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
     <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"why"</span><span class="token punctuation">,</span>
     <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
     <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">)</span> <span class="token comment">// computed 复杂数据处理，数据发生变化时自动更新</span>
   <span class="token punctuation">}</span>           <span class="token comment">// this.message 数据来自于data</span>
 <span class="token punctuation">}</span>
</code></pre> 
<p>Inject 使用数据</p> 
<pre><code class="prism language-javascript"><span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"age"</span><span class="token punctuation">,</span> <span class="token string">"message"</span><span class="token punctuation">]</span>
</code></pre> 
<p><em><strong>全局事件总线</strong></em></p> 
<p>跨层级较多时采用事件总线方法<br> <img src="https://images2.imgbox.com/5e/2e/G7KxTBbS_o.png" alt="在这里插入图片描述"></p> 
<p><em>vue2 有事件总线，vue3移除了</em>，官方推荐了mitt和tiny-emitter库，这里我们使用hy-event-store</p> 
<p>安装库<code>npm install hy-event-store</code>，里面有提供<code>HYEventBus</code>和<code>HYEventStore</code></p> 
<p>创建全局总线，utils &gt; event-bus.js</p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> HYEventBus <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'hy-event-store'</span>

<span class="token keyword">const</span> eventBus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HYEventBus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> eventBus
</code></pre> 
<p>A 发出事件<code>eventBus.emit("名称", 数据, 数据)</code><br> B 监听事件<code>created() { eventBus.on("名称", (数据名, 数据名) =&gt; { } ) }</code></p> 
<pre><code class="prism language-javascript"><span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> 
 eventBus<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"名称"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">数据名<span class="token punctuation">,</span> 数据名</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>  
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>A.vue</p> 
<pre><code class="prism language-javascript">  <span class="token keyword">import</span> eventBus <span class="token keyword">from</span> <span class="token string">'./utils/event-bus'</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">bannerBtnClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"bannerBtnClick"</span><span class="token punctuation">)</span>
        eventBus<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">"whyEvent"</span><span class="token punctuation">,</span> <span class="token string">"why"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">1.88</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p>B.vue</p> 
<pre><code class="prism language-javascript"> <span class="token keyword">import</span> eventBus <span class="token keyword">from</span> <span class="token string">'./utils/event-bus'</span>
   <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>           <span class="token comment">//声明周期函数</span>
      eventBus<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"whyEvent"</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> height</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"whyEvent事件在app中监听"</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> height<span class="token punctuation">)</span>
       <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">name:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, age:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, height:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>height<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>  <span class="token comment">// 更改data的message数据</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p>监听后一般要做移除工作，以C.vue文件，监听总线为例</p> 
<pre><code class="prism language-javascript">  <span class="token keyword">import</span> eventBus <span class="token keyword">from</span> <span class="token string">'./utils/event-bus'</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">whyEventHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"whyEvent在category中监听"</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>            <span class="token comment">// 声明周期函数</span>
      eventBus<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"whyEvent"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>whyEventHandler<span class="token punctuation">)</span>   <span class="token comment">// 监听的是whyEvent，变化时执行方法</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">unmounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"category unmounted"</span><span class="token punctuation">)</span> 
      eventBus<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">"whyEvent"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>whyEventHandler<span class="token punctuation">)</span>  <span class="token comment">// 销毁监听</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="53__1747"></a>5.3. 插槽</h4> 
<p><em><strong>定义</strong></em></p> 
<ul><li> <p>抽取共性，预留不同</p> </li><li> <p>将共同元素、内容依然在组件内进行封装</p> </li><li> <p>不同的元素使用slot作为占位，让外部决定显示什么元素</p> </li></ul> 
<h5><a id="1__1757"></a>（1） 基础用法（单插槽）</h5> 
<p><code>&lt;slot&gt;&lt;/slot&gt;</code><br> <img src="https://images2.imgbox.com/1b/5c/rAgnHmLm_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="2__1762"></a>（2） 具名插槽（多插槽）</h5> 
<p>子组件传递：<code>&lt;slot name="插槽名称"&gt;默认值&lt;/slot&gt;"</code></p> 
<p>父组件接收，方式一：<code>v-slot:插槽名称</code><br> 　　　　　　方式二：<code>#插槽名称</code></p> 
<p>（父组件未指定接收名字时，名称为default 。<code>v-slot:default</code>）</p> 
<p><em><strong>子组件</strong></em></p> 
<pre><code class="prism language-html"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>right<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>right<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span> 
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>里面的right为默认内容，当父组件调用又无实际内容时，显示right</p> 
<p><em><strong>父组件</strong></em></p> 
<pre><code class="prism language-html">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#center</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>right</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>登录<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><img src="https://images2.imgbox.com/50/74/T8rNNU1v_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="3__1795"></a>（3） 动态插槽</h5> 
<p><img src="https://images2.imgbox.com/20/b7/Lgj5jbzQ_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="4__1799"></a>（4） 作用域插槽</h5> 
<p>即使有通讯，<code>vue - template - {<!-- -->{ }}</code>也只是获取自己的 <code>vue-script-data</code>，这称之为渲染作用域</p> 
<p>改良目的：不想制作文字使用，也可以是button<br> <img src="https://images2.imgbox.com/92/e4/wpKvRaSp_o.png" alt="在这里插入图片描述"><br> 更多：<br> <img src="https://images2.imgbox.com/e6/9c/vNxDzfc0_o.png" alt="在这里插入图片描述"><br> ppt内的解释：<br> <img src="https://images2.imgbox.com/ac/0d/QWMcjen1_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="54__1810"></a>5.4. 生命周期</h4> 
<p><em><strong>速览</strong></em></p> 
<p>创建 -&gt; 加载(挂载) -&gt; 更新 -&gt; 销毁(卸载)</p> 
<p>/–创建前 beforeCreate<br> /–创建后 created</p> 
<p>/–加载前 beforeMount<br> /–加载后 mounted　　　　　　<em>DOM渲染在此周期中已经完成</em></p> 
<p>/–更新前 beforeUpdate<br> /–更新后 updated</p> 
<p>/–销毁(卸载)前 beforeDestroy / beforeUnmount<br> /–销毁(卸载)后 destroyed / Unmounted</p> 
<p><em><strong>销毁和卸载的区别</strong></em></p> 
<ol><li> <p><strong>vue版本</strong><br> vue2 -&gt; 销毁 destroyed<br> vue3 -&gt; 卸载 Unmounted</p> </li><li> <p>处理工作上 —— chatgpt<br> destroyed适合处理一些清理工作，如清除计时器、取消网络请求、销毁第三方库等<br> Unmounted适合做一些操作DOM的工作，如获取元素高度、保存滚动位置等</p> </li><li> <p>执行时机 —— chatgpt<br> destroyed：组件实例完全销毁之后调用，此时所有的指令以及事件监听器都已经被移除，数据绑定也被解绑。<br> Unmounted：组件从DOM中卸载之前调用，此时可以访问到组件实例、指令、事件以及DOM元素，但是该组件的实例上的所有指令和事件监听器都已经被移除。</p> </li></ol> 
<p><em><strong>生命周期详解</strong></em></p> 
<p>生命周期函数是一些钩子函数（回调函数）。P1027<br> <img src="https://images2.imgbox.com/81/65/AXwyave7_o.png" alt="请添加图片描述">　　<img src="https://images2.imgbox.com/18/2b/XM6uhmyd_o.png" alt="在这里插入图片描述">　　<img src="https://images2.imgbox.com/19/0d/uHfXtETa_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-javascript">  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 1.组件被创建之前</span>
    <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"beforeCreate - 组件被创建之前"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 2.组件被创建完成 ⭐</span>
    <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"created - 组件被创建完成"</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"1.发送网络请求, 请求数据"</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"2.监听eventbus事件"</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"3.监听watch数据"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 3.组件template准备被挂载</span>
    <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"beforeMount - 组件template准备被挂载"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 4.组件template被挂载: 虚拟DOM -&gt; 真实DOM ⭐</span>
    <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"mounted - 组件template被挂载"</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"1.获取DOM"</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"2.使用DOM"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 5.数据发生改变</span>
    <span class="token comment">// 5.1. 准备更新DOM</span>
    <span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"数据发生改变"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"beforeUpdate - 准备更新DOM"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 5.2. 更新DOM</span>
    <span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"updated - 更新DOM"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// 6.卸载VNode -&gt; DOM元素</span>
    <span class="token comment">// 6.1.卸载之前</span>
    <span class="token function">beforeUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"beforeUnmount - 卸载之前"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 6.2.DOM元素被卸载完成 ⭐</span>
    <span class="token function">unmounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"unmounted - DOM元素被卸载完成"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p><em><strong>移除案例</strong></em></p> 
<p><img src="https://images2.imgbox.com/a8/a5/KUiofa44_o.png" alt="20230531065944"></p> 
<h4><a id="55_ref%E3%80%80refs_1897"></a>5.5. ref引用　<code>$refs</code></h4> 
<p><em><strong>ref是什么？</strong></em><br> 在Vue中，ref是一种特殊的属性，用于给元素或组件指定一个唯一的标识符，以便可以在JavaScript代码中访问该元素或组件。通过this.$refs对象，我们可以访问所有具有 ref 属性的元素或组件，并且可以执行操作，例如访问DOM元素的属性或调用组件的方法。</p> 
<p><em><strong>作用</strong></em><br> 帮助获取DOM</p> 
<p>在Vue开发中我们是<em>不推荐</em>进行原生DOM操作的;<br> 这个时候，我们可以给元素或者组<em>件绑定一个ref</em>的attribute属性</p> 
<p><em><strong>使用方法</strong></em><br> html元素加上<code>ref="名称"</code>，方法 methods 中通过 <code>this.$名称</code> 获取</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{ color: titleColor }<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{<!-- -->{ message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeTitle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>修改title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>banner</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>banner<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> 
<pre><code class="prism language-javascript">  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> Banner  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>  <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"Hello World"</span><span class="token punctuation">,</span> <span class="token literal-property property">titleColor</span><span class="token operator">:</span> <span class="token string">"red"</span>  <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">changeTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 2.获取h2/button元素</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>title<span class="token punctuation">)</span>  <span class="token comment">// 打印整个h2代码</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>btn<span class="token punctuation">)</span>   <span class="token comment">// 打印整个button代码</span>

        <span class="token comment">// 3.获取banner组件: 组件实例</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>banner<span class="token punctuation">)</span>  <span class="token comment">//  打印代理对象</span>
        
        <span class="token comment">// 3.1.在父组件中可以主动的调用子组件的对象方法</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>banner<span class="token punctuation">.</span><span class="token function">bannerClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 执行方法</span>

        <span class="token comment">// 3.2.获取banner组件实例, 获取banner中的元素</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>banner<span class="token punctuation">.</span>$el<span class="token punctuation">)</span> <span class="token comment">// 打印banner的&lt;div&gt;...&lt;/div&gt;</span>

        <span class="token comment">// 3.3.如果banner template是多个根, 拿到的是第一个node节点</span>
        <span class="token comment">// 注意: 开发中不推荐一个组件的template中有多个根元素</span>
        <span class="token comment">// console.log(this.$refs.banner.$el.nextElementSibling)</span>

        <span class="token comment">// 4.组件实例还有两个属性(了解):</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$parent<span class="token punctuation">)</span> <span class="token comment">// 获取父组件  打印代理对象</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$root<span class="token punctuation">)</span> <span class="token comment">// 获取根组件   打印代理对象</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p><em><strong>效果</strong></em><br> <img src="https://images2.imgbox.com/b2/d4/xmvGoN8j_o.png" alt="20230601021942"></p> 
<h4><a id="56_%E3%80%80is_1952"></a>5.6. 动态组件　<code>:is="组件名称"</code></h4> 
<p>通过 <code>&lt;component :is="组件名称"&gt; &lt;/component&gt;</code> 绑定</p> 
<p><em><strong>效果</strong></em><br> <img src="https://images2.imgbox.com/c9/aa/FwIp2kXL_o.png" alt="20230601031744"></p> 
<p><em><strong>解释</strong></em><br> 组件名Home和home的大小写没关系</p> 
<p><img src="https://images2.imgbox.com/f6/5d/VOZy3nj2_o.png" alt="在这里插入图片描述"><br> 里边的props + $emit 知识点<br> <img src="https://images2.imgbox.com/18/76/K6iAsv4b_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="57_keepalive%E3%80%80_1966"></a>5.7. keep-alive　保持存活</h4> 
<p>如：tabA有计数器，选择了10。此时切换到tabB，再切换回tabA，我的计数器是多少？</p> 
<ul><li>用了 <code>&lt;keep-alive&gt;&lt;/keep-alive&gt;</code> ，计数器仍保持在10的状态</li><li>没有 <code>&lt;keep-alive&gt;&lt;/keep-alive&gt;</code> ，计数器还原（原因：切换到tabB时，tabA已经被卸载，使用<code>unmounted</code> 可看到提示已被卸载）</li></ul> 
<p>属性：</p> 
<ul><li><code>include</code> 属性决定哪个要保持存活，不被销毁，(字符串、正则、数组)</li><li><code>exclude</code> 属性决定哪个不被缓存，要销毁，(字符串、正则、数组)</li><li><code>max</code> 属性决定最多可以缓存多少组件实例，一旦达到这个数字，那么最近没有被访问的实例会被销毁，(数字、字符串)</li><li>注意组件name中间<code>,</code>后不加空格，直接写组件名称</li></ul> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span> <span class="token attr-name">include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>组件A定义的name,组件B定义的name<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>组件名称<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><img src="https://images2.imgbox.com/6e/00/gsUIOEAl_o.png" alt="在这里插入图片描述"></p> 
<p>created 创建后、unmounted 卸载后(卸载成功)</p> 
<p>当使用了<code>keep-alive</code>保持存活后，该组件就不会执行unmounted函数</p> 
<p><em><strong>缓存组件的生命周期</strong></em></p> 
<pre><code class="prism language-javascript"><span class="token comment">// 对于保持keep-alive组件, 监听有没有进行切换</span>
<span class="token comment">// keep-alive组件进入活跃状态</span>
<span class="token function">activated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"home activated"</span><span class="token punctuation">)</span>      <span class="token comment">// 进入该组件</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token function">deactivated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"home deactivated"</span><span class="token punctuation">)</span>    <span class="token comment">// 退出该组件</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="58___2005"></a>5.8. 异步组件 （了解）</h4> 
<p>异步组件不常用，一般使用<strong>懒加载</strong>的方式</p> 
<p>学习异步组件前，先了解一下webpack 代码分包</p> 
<h5><a id="1_webpack__2011"></a>（1） webpack 代码分包</h5> 
<p><img src="https://images2.imgbox.com/da/63/iACbiq8f_o.png" alt="在这里插入图片描述"></p> 
<p>当自己编写的页面代码过多时，首屏渲染速度就会延长。</p> 
<h5><a id="2__2017"></a>（2） 异步组件使用</h5> 
<p>打包某个js文件<br> <img src="https://images2.imgbox.com/0c/85/XJEwECYJ_o.png" alt="20230601063542"></p> 
<p>打包某个组件</p> 
<p>方式一：</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 引入方法</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> defineAsyncComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">// 引入组件</span>
<span class="token keyword">const</span> AsyncCategory <span class="token operator">=</span> <span class="token function">defineAsyncComponent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"./views/Category.vue"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 在components中调用</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">Category</span><span class="token operator">:</span> AsyncCategory
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">// 注意：</span>
<span class="token comment">// 是把 import Category from './views/Category.vue' 改为上面defineAsyncComponent方法</span>
</code></pre> 
<p>方式二：<br> <img src="https://images2.imgbox.com/61/88/ASRzSAVO_o.png" alt="20230601064300"></p> 
<h4><a id="59_vmodel_2045"></a>5.9. 组件的v-model</h4> 
<p><em><strong>普通v-model</strong></em></p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- 1.input v-model --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span> <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message = $event.target.value<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><em><strong>概念</strong></em></p> 
<p>顾名思义，在组件中使用v-model，它默认完成了两件事情：</p> 
<ol><li><code>v-bind:value</code>的数据绑定，其中<strong>modelValue 是默认名</strong></li><li><code>@input</code>的事件绑定，<strong>@update:model-value 也是事件默认名</strong>，<code>v-on:update:model-value</code> = <code>@update:model-value</code></li></ol> 
<p><em><strong>基本用法</strong></em></p> 
<p>上下两行是等价的，（modelValue 等同于 model-value）</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-input</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-input</span> <span class="token attr-name">:model-value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">@update:</span>model-value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>message = $event<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-input</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/.wrap2 &lt;<br> /.box &lt;</p> 
<p>APP.vue</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>counter</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>appCounter<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>counter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>counter</span> <span class="token attr-name">:modelValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>appCounter<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">@update:</span>modelValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>appCounter = $event<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>counter</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> Counter <span class="token keyword">from</span> <span class="token string">'./Counter.vue'</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      Counter
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">appCounter</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ol><li>上下两个counter是相等的</li><li>绑定更新事件，$event数据等于自己绑定的值</li></ol> 
<p>/-&gt;<br> /.box &lt;</p> 
<p>Counter.vue</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Counter: {<!-- -->{ modelValue }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeCounter<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>修改counter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 接收</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">modelValue</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">0</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 发送</span>
    <span class="token literal-property property">emits</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"update:modelValue"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">changeCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"update:modelValue"</span><span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ol><li>接收modelValue为数字类型，如无内容默认为0</li></ol> 
<p>/-&gt;<br> /-&gt;</p> 
<p>效果：点击前100，点击后为999</p> 
<p><em><strong>组件自定义名称</strong></em></p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- 3.组件的v-model: 自定义名称counter --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>counter2</span> <span class="token attr-name"><span class="token namespace">v-model:</span>counter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>appCounter<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">v-model:</span>why</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>appWhy<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>counter2</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/.wrap2 &lt;<br> /.box &lt;<br> App.vue</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>counter2</span> <span class="token attr-name"><span class="token namespace">v-model:</span>counter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>appCounter<span class="token punctuation">"</span></span>
              <span class="token attr-name"><span class="token namespace">v-model:</span>why</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>appWhy<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>counter2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> Counter2 <span class="token keyword">from</span> <span class="token string">'./Counter2.vue'</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      Counter2
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">appCounter</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
        <span class="token literal-property property">appWhy</span><span class="token operator">:</span> <span class="token string">"coderwhy"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;</p> 
<p>/.box &lt;<br> counter2.vue</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Counter: {<!-- -->{ counter }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeCounter<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>修改counter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- why绑定 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>why: {<!-- -->{ why }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeWhy<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>修改why的值<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 接收counter组件v-model，默认值为数字0，有接收值，为100</span>
    <span class="token literal-property property">counter</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 接收why组件v-model，默认值为空字符串，有接收值，为coderwhy</span>
    <span class="token literal-property property">why</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">""</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 发送</span>
  <span class="token literal-property property">emits</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"update:counter"</span><span class="token punctuation">,</span> <span class="token string">"update:why"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">changeCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"update:counter"</span><span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">changeWhy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"update:why"</span><span class="token punctuation">,</span> <span class="token string">"kobe"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>


</code></pre> 
<p>/-&gt;<br> /-&gt;</p> 
<h4><a id="510_Mixin_2243"></a>5.10. 混入Mixin</h4> 
<p>组件和组件之间有时候会存在相同的代码逻辑，我们希望<em>对相同的代码逻辑进行抽取</em>，vue2和vue都支持使用Mixin来完成（vue2使用较多，vue3已经不怎么用了）</p> 
<p><em><strong>作用</strong></em></p> 
<ol><li><em>分发Vue组件中的可复用功能</em></li><li>一个min对象可以<em>包含任何组件选项</em></li><li>当组件使用Mixin对象时，所有<em>Mixin对象的选项将被 混合 进入该组件本身的选项中</em></li></ol> 
<p><em><strong>使用方法</strong></em></p> 
<ol><li><code>views</code>文件夹同级新建一个<code>mixins</code>文件夹</li></ol> 
<p><img src="https://images2.imgbox.com/21/38/DkbuvzPx_o.png" alt="20230619153407"></p> 
<p>/.wrap2 &lt;<br> /.box &lt;</p> 
<ol start="2"><li>新建<code>message-mixin.js</code>文件</li></ol> 
<pre><code class="prism language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"Hello World"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"message:"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>/-&gt;<br> /.box &lt;</p> 
<ol start="3"><li><code>About.vue</code>引用文件</li></ol> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>About组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 引入方法</span>
  <span class="token keyword">import</span> messageMixin <span class="token keyword">from</span> <span class="token string">'../mixins/message-mixin'</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 调用</span>
    <span class="token literal-property property">mixins</span><span class="token operator">:</span> <span class="token punctuation">[</span>messageMixin<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

</code></pre> 
<p>/-&gt;<br> /-&gt;</p> 
<p><em><strong>混入的含义</strong></em></p> 
<p><code>message-mixin.js</code>的data数据会自动合并（混入）到<code>About.vue</code>的data里，包括生命周期（created）等其他函数都会自动合并（混入）并执行</p> 
<p><em><strong>合并规则</strong></em></p> 
<p>Mixin对象中的选项和组件对象中的选项<em>发生冲突</em>，<em>分成不同情况来处理</em></p> 
<p>情况一：如果是<em>data函数的返回值对象</em></p> 
<ul><li>返回值对象<strong>默认</strong>情况下会<strong>进行合并</strong></li><li>data返回值对象的<strong>属性</strong>发生<strong>冲突时</strong>会<strong>保留组件自身的数据</strong><br> （如<code>message-mixin.js</code>和<code>About.vue</code>都有message，则以<code>About.vue</code>的message数据为准）</li></ul> 
<p>情况二：如果有相同的<em>生命周期钩子函数</em></p> 
<ul><li>生命周期的钩子函数<strong>会被合并到数组</strong>中，都会被调用</li></ul> 
<p>情况三：值为<em>对象的选项</em>，例如<code>methods</code>、<code>components</code>和<code>directives</code>，将被合并为同一个对象</p> 
<ul><li>比如都有<strong>methods选项</strong>，并且都定义的方法，那么它们<strong>都会生效</strong></li><li>但如果<strong>对象的key相同</strong>（key:value），那么会取组件自身的对象键值（如上案例，假设<code>message-mixin.js</code>和<code>About.vue</code>都有massage，则优先取<code>About.vue</code>的值）</li></ul> 
<p><em><strong>全局混入</strong></em><br> app.mixin({})</p> 
<h3><a id="6_Composition_API_vue3_2331"></a>6. Composition API （vue3）</h3> 
<h4><a id="61__2333"></a>6.1. 含义和区别</h4> 
<p><em><strong>Composition API是什么，跟options API有什么区别 —— chatgpt</strong></em></p> 
<p>Composition API是Vue 3中提供的一种新的API风格，用于组织和重用组件逻辑。与Options API不同，Composition API将相关的代码组合在一起，以便更好地组织和重用代码。它基于函数而不是对象的形式，使得代码更容易拆分成可组合的逻辑块。此外，使用Composition API可以更好地封装和隐藏信息，并在组件之间共享逻辑，从而提高代码的可维护性和可重用性。总之，Composition API是Vue 3中一个非常实用且令人期待的改进，可以帮助我们更轻松地构建复杂的Web应用程序。</p> 
<h4><a id="62__2339"></a>6.2. 包含内容</h4> 
<p><em><strong>Composition API包含什么 —— chatgpt</strong></em></p> 
<ol><li> <p><code>reactive</code>：用于将一个普通对象转换为响应式对象，可以监听该对象属性的变化。</p> </li><li> <p><code>ref</code>：用于将基本类型数据转换为响应式对象，可以监听该值的变化。</p> </li><li> <p><code>computed</code>：用于创建计算属性，依赖于其他响应式对象和计算属性。</p> </li><li> <p><code>watchEffect</code>：用于监听响应式对象的变化，并在变化时执行回调函数。</p> </li><li> <p>生命周期钩子：包括<code>onMounted</code>(挂载到DOM后)、<code>onUpdated</code>(更新后)、<code>onUnmounted</code>(卸载后)等，用于在组件生命周期的不同阶段执行相应的操作。</p> </li><li> <p><code>provide</code>和<code>inject</code>：用于跨层级传递数据。</p> </li><li> <p>封装复用逻辑：通过使用函数封装可复用的逻辑，实现组件之间逻辑共享。</p> </li></ol> 
<h4><a id="63_setup_2357"></a>6.3. setup函数</h4> 
<h5><a id="1__2359"></a>（1） 参数</h5> 
<p>props 和 context</p> 
<p><em><strong>props</strong></em> 从父组件传递过来的属性会被放在props对象中，setup中需要使用时直接通过props参数获取：</p> 
<ul><li>定义props的类型和之前的规则是一样的，再props选项中定义</li><li>再template中依然是可以正常使用props中的属性</li><li>再setup函数中想要使用props，<strong>不可以通过this去获取</strong></li><li>因为props有直接作为参数传递到setup函数中，<strong>可以直接通过参数来使用即可</strong></li></ul> 
<p><em><strong>context</strong></em> 也称之为SetupContext，包含三个属性：</p> 
<ul><li><code>attrs</code>：所有的非props的attribute</li><li><code>slots</code>：父组件传递过来的插槽</li><li><code>emit</code>：组件内部需要发出事件时会用到emit（因为我们不能访问this，所以不可以通过this.$emit发出事件）</li></ul> 
<p><em><strong>案例</strong></em></p> 
<p>计数器<br> <img src="https://images2.imgbox.com/9c/23/EOrA2ixb_o.png" alt="20230707054946"></p> 
<p>设：计数器代码需要复用，要将相关代码提取出来<br> <img src="https://images2.imgbox.com/8c/b2/5IqGqaj0_o.png" alt="20230707055728"></p> 
<p>总结：使用setup方法，函数的复用性、简洁性更强</p> 
<h5><a id="2__return_2386"></a>（2） 返回值 return</h5> 
<p><em><strong>作用</strong></em></p> 
<ul><li>可以在模板template中被使用</li><li>可以通过setup的返回值来替代data选项</li><li>可以返回一个执行函数来替代在methods中定义的方法👇<br> <img src="https://images2.imgbox.com/94/68/ZkRR67Ll_o.png" alt="20230712063848"></li></ul> 
<p><strong>注意：</strong> 此时<strong>counter</strong>并<strong>不是响应式数据</strong>，因为对于一个<em>定义的变量</em>来说，默认情况下，<em>Vue并不会跟踪它的变化</em>，<em>来引起界面的响应式操作</em></p> 
<h5><a id="3__2397"></a>（3） 数据响应式</h5> 
<h6><a id="_Reactive_API_2399"></a>❥ Reactive API</h6> 
<ul><li> <p>对传入类型有限制，<strong>必须是一个对象或者数组</strong></p> </li><li> <p>一般用在复杂类型的数据，如账号密码</p> </li><li> <p>传入基本数据类型（String、Number、Boolean）时会有警告</p> </li></ul> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  {<!-- -->{state.name}}
  {<!-- -->{state.counter}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>reactive<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'pyy'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">counter</span><span class="token operator">:</span> <span class="token number">100</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      state
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>原理：</p> 
<ul><li>这是因为当我们<em>使用reactive函数处理</em>我们的数据之<em>后</em>，<em>数据再次被使用时</em>就会<em>进行依赖收集</em>；</li><li>当<em>数据发生改变</em>时，所有<em>收集到的依赖</em>都是<em>进行对应的响应式操作</em>（比如更新界面）；</li><li>事实上，我们<em>编写的data选项</em>，也是在<em>内部交给了reactive函数</em>将其编程响应式对象的；</li></ul> 
<p>注意：<strong>不能随便对reactive做解构</strong></p> 
<h6><a id="_Ref_API_2437"></a>❥ Ref API</h6> 
<ul><li> <p>ref会返回一个<strong>可变的响应式对象</strong></p> </li><li> <p>该对象作为一个响应式的引用，维护着它内部的值，这就是ref名称的来源</p> </li><li> <p>它内部的值是在<strong>ref的value属性</strong>中被维护着</p> </li><li> <p>在模板（template）引入ref时，vue<strong>会自动解包</strong>(浅层解包)，所以在模板中不需要写ref.value</p> </li></ul> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>app<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
    {<!-- -->{counter}}  <span class="token comment">&lt;!-- 会自动解包 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> counter <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> <span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    counter<span class="token punctuation">.</span>value<span class="token operator">++</span>   <span class="token comment">// 表示ref.value</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> <span class="token function-variable function">decrement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    counter<span class="token punctuation">.</span>value<span class="token operator">--</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> counter<span class="token punctuation">,</span> increment<span class="token punctuation">,</span> decrement <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><em><strong>一点小瑕疵</strong></em></p> 
<p>“ref是浅层解包”说法里有点小瑕疵，估计是</p> 
<p><img src="https://images2.imgbox.com/d9/fa/ijGq2UWC_o.png" alt="20230712110724"></p> 
<p>相关js👇</p> 
<p><img src="https://images2.imgbox.com/f9/76/7KRJffye_o.png" alt="20230712111444"></p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  counter <span class="token comment">// 语法糖写法，全称为 counter: counter，表示counter的值为上方的counter = ref(0)</span>
<span class="token punctuation">}</span>
</code></pre> 
<h6><a id="_Reactive_VS_Ref_2492"></a>❥ Reactive VS Ref</h6> 
<p>/–ref 可以定义简单的数据，也可以定义复杂的数据</p> 
<table><thead><tr><th>方法</th><th>定义的数据</th><th>应用场景</th></tr></thead><tbody><tr><td>ref</td><td>简单与复杂数据都可以</td><td>1、其他的场景基本都用ref<br>2、定义从网络中获取的数据（案例👇）</td></tr><tr><td>reactive</td><td>复杂数据</td><td>1、本地(生成的)数据，如：账号密码 <br>2、多个数据之间是有关系的，组合在一起有特定联系（表单）</td></tr></tbody></table> 
<p>案例</p> 
<pre><code class="prism language-js"><span class="token comment">// 2.定义从网络中获取的数据也是使用ref</span>
<span class="token comment">// const musics = reactive([])  但是一般用ref</span>
<span class="token keyword">const</span> musics <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> serverMusics <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"晴天"</span><span class="token punctuation">,</span> <span class="token string">"屋顶"</span><span class="token punctuation">,</span> <span class="token string">"听妈妈的话"</span><span class="token punctuation">]</span>
  musics<span class="token punctuation">.</span>value <span class="token operator">=</span> serverMusics
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h6><a id="_reactive___2513"></a>❥ reactive —— 数据只读</h6> 
<h6><a id="_readonly__2515"></a>❥❥ readonly 概念（了解）</h6> 
<p><code>readonly</code>：一般我们通过<code>reactive</code>或<code>ref</code>可以获取到一个响应式的对象。但某些情况下，我们<em>传给其他组件的</em>这个<em>响应式对象</em>希望<em>在</em>另外一个组件<em>被使用</em>，但<em>不能被修改</em>。</p> 
<p>（👆总结：<strong>响应式对象在其他组件可以被使用，但不能修改</strong>）</p> 
<p><em>readonly会返回原始对象的只读代理</em>（也就是它依然是一个Proxy）</p> 
<p>一般组件之间的数据传递要符合单项数据流的规范</p> 
<h6><a id="___2525"></a>❥❥ 单向数据流 概念</h6> 
<p>数据传递给另一个组件时，只允许阅读，不允许修改，称为单向数据流</p> 
<p><em><strong>规范</strong></em></p> 
<ol><li><strong>子组件</strong>拿到数据后<strong>只能使用</strong>，<strong>不能修改</strong></li><li>若要定义（改变数据的）方法，需要从<em>子组件</em><strong>发送方法</strong>到<em>父组件</em>，父组件<strong>监听</strong>事件，<strong>并修改</strong><br> （<em>父组件</em>只<strong>负责</strong>给子组件<strong>传递数据</strong>，子组件不能修改，告诉父组件我要修改，<strong>在父组件里修改</strong>）</li></ol> 
<p>（同理，react框架有个互通的知识点：react的使用是非常灵活的，但是它有一个重要的原则 —— 任何一个组件都应该像<a href="https://blog.csdn.net/m0_51636525/article/details/125119400">纯函数</a>一样，不能修改传入的props）</p> 
<p><em><strong>方案对比</strong></em></p> 
<p>（旨在表达要修改数据的话，需要把子组件的事件发送到父组件，由父组件决定更改权，明白这个意思可以直接去下一段）<mark>（疑问：这不也是在子组件改的kobe？）</mark></p> 
<p>/.wrap2 &lt;<br> /.box &lt;</p> 
<p>不规范的方式，（不能在子组件修改数据）</p> 
<p>app.vue</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>父组件App: {<!-- -->{ info }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>show-info</span> <span class="token attr-name">:info</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>info<span class="token punctuation">"</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>show-info</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
  <span class="token keyword">import</span> ShowInfo <span class="token keyword">from</span> <span class="token string">'./ShowInfo.vue'</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      ShowInfo
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 本地定义多个数据, 都需要传递给子组件</span>
      <span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"pyy"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        info
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>showInfo.vue</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>ShowInfo: {<!-- -->{ info }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 代码没有错误, 但是违背规范(单项数据流) --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>info.name = 'kobe'<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ShowInfo按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// reactive数据</span>
      <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
        <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /.box &lt;</p> 
<p>规范的方式，（需要在父组件修改数据）</p> 
<p>app.vue</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>App: {<!-- -->{ info }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- 👇@子组件发来的名称=本父组件下的方法 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>show-info</span> <span class="token attr-name">:info</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>info<span class="token punctuation">"</span></span> <span class="token attr-name">@changeInfoName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeInfoName<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>show-info</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> reactive<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
  <span class="token keyword">import</span> ShowInfo <span class="token keyword">from</span> <span class="token string">'./ShowInfo.vue'</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>ShowInfo<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 本地定义多个数据, 都需要传递给子组件</span>
      <span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"why"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token comment">// 接收改名字的方法</span>
      <span class="token keyword">function</span> <span class="token function">changeInfoName</span><span class="token punctuation">(</span><span class="token parameter">payload</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        info<span class="token punctuation">.</span>name <span class="token operator">=</span> payload
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>info<span class="token punctuation">,</span>changeInfoName<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>showInfo.vue</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>ShowInfo: {<!-- -->{ info }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 正确的做法: 符合单项数据流--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showInfobtnClick<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ShowInfo按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// reactive数据</span>
      <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
        <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">emits</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"changeInfoName"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// （1）中表明了setup有两个参数 props、context</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">function</span> <span class="token function">showInfobtnClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 不能通过this.emit发送数据</span>
        context<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">"changeInfoName"</span><span class="token punctuation">,</span> <span class="token string">"kobe"</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        showInfobtnClick
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /-&gt;</p> 
<h6><a id="_readonly__2673"></a>❥❥ readonly 使用</h6> 
<p><em><strong>方案对比</strong></em></p> 
<p>/.wrap2 &lt;<br> /.box &lt;<br> <code>单项数据流</code>写法,（即 上方右侧的规范写法）</p> 
<p>app.vue</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>show-info</span> <span class="token attr-name">:info</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>info<span class="token punctuation">"</span></span>
             <span class="token attr-name">@changeInfoName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeInfoName<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>show-info</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
  <span class="token keyword">import</span> ShowInfo <span class="token keyword">from</span> <span class="token string">'./ShowInfo.vue'</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      ShowInfo
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 本地定义多个数据, 都需要传递给子组件</span>
      <span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"why"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      <span class="token comment">// 接收改名字的方法</span>
      <span class="token keyword">function</span> <span class="token function">changeInfoName</span><span class="token punctuation">(</span><span class="token parameter">payload</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        info<span class="token punctuation">.</span>name <span class="token operator">=</span> payload
      <span class="token punctuation">}</span>

      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        info<span class="token punctuation">,</span>
        changeInfoName
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>showInfo.vue</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>ShowInfo: {<!-- -->{ info }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 代码没有错误, 但是违背规范(单项数据流) --&gt;</span>
    <span class="token comment">&lt;!-- &lt;button @click="info.name = 'kobe'"&gt;ShowInfo按钮&lt;/button&gt; --&gt;</span>
    <span class="token comment">&lt;!-- 正确的做法: 符合单项数据流--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showInfobtnClick<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ShowInfo按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// reactive数据</span>
      <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
        <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token literal-property property">emits</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"changeInfoName"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">function</span> <span class="token function">showInfobtnClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        context<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">"changeInfoName"</span><span class="token punctuation">,</span> <span class="token string">"kobe"</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        showInfobtnClick
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /.box &lt;</p> 
<p><code>readonly</code>写法</p> 
<p>app.vue</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>show-info</span> <span class="token attr-name">:roInfo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>roInfo<span class="token punctuation">"</span></span> 
             <span class="token attr-name">@changeRoInfoName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeRoInfoName<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>show-info</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> readonly <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
  <span class="token keyword">import</span> ShowInfo <span class="token keyword">from</span> <span class="token string">'./ShowInfo.vue'</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      ShowInfo
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 本地定义多个数据, 都需要传递给子组件</span>
      <span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"why"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      <span class="token comment">// 使用readOnly包裹info</span>
      <span class="token keyword">const</span> roInfo <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span>
      <span class="token keyword">function</span> <span class="token function">changeRoInfoName</span><span class="token punctuation">(</span><span class="token parameter">payload</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        info<span class="token punctuation">.</span>name <span class="token operator">=</span> payload
      <span class="token punctuation">}</span>

      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        roInfo<span class="token punctuation">,</span>
        changeRoInfoName
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>showInfo.vue</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 使用readonly的数据 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>ShowInfo: {<!-- -->{ roInfo }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 代码就会无效(报警告) --&gt;</span>
    <span class="token comment">&lt;!-- &lt;button @click="roInfo.name = 'james'"&gt;ShowInfo按钮&lt;/button&gt; --&gt;</span>
    <span class="token comment">&lt;!-- 正确的做法 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>roInfoBtnClick<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>roInfo按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// readonly数据</span>
      <span class="token literal-property property">roInfo</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
        <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token literal-property property">emits</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"changeRoInfoName"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">function</span> <span class="token function">roInfoBtnClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        context<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">"changeRoInfoName"</span><span class="token punctuation">,</span> <span class="token string">"james"</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        roInfoBtnClick
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /-&gt;</p> 
<p>总结：在编写代码时遵循<code>单项数据流</code>原则(规范)，也可以不使用<code>readonly</code>，readonly是vue3有的</p> 
<p><mark>（疑问：这也是在子组件修改的数据kobe啊，只是在父组件调用子组件的修改数据代码，感觉该案例并没有做到我理解的统一在父组件修改数据）</mark></p> 
<h6><a id="_chatgptreadonly__2847"></a>❥❥ chatgpt的解答readonly ⭐</h6> 
<p><mark>看完视频仍有些懵懵懂懂</mark></p> 
<p><em><strong>readonly的理解</strong></em></p> 
<p>在Vue3中，<code>readonly</code>是一个响应式数据的<em>修饰符</em>，用于创建一个<em>只读的响应式数据</em>。它可以应用于普通的JavaScript对象、数组或者Map。</p> 
<p>使用readonly修饰符后，被修饰的<em>数据将变成只读</em>的，<em>即不能通过赋值的方式改变其值</em>。这样做的好处是，当试图<em>修改只读数据时</em>，Vue会<em>发出警告</em>，以<em>防止意外的数据变更</em>引起的问题。</p> 
<p>以下是一个使用readonly的示例：</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> readonly <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">25</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: "John"</span>
data<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Bob'</span><span class="token punctuation">;</span> <span class="token comment">// 试图修改只读数据，将触发警告</span>
</code></pre> 
<p>在上面的示例中，我们使用readonly创建了一个只读的响应式对象data。由于name属性<em>是只读的</em>，所以我们<em>可以读取</em>它的值，<em>但是不能修改</em>它。</p> 
<p><em><strong>深度冻结（deepFreeze）</strong></em></p> 
<p>需要注意的是，<strong>readonly只能确保直接修改属性的操作被拦截</strong>，如果属性值是一个对象或数组，仍然可以通过改变对象或数组内部的属性或元素来间接修改值。因此，<strong>如果需要完全禁止所有级别的修改</strong>，可以考虑使用<strong>深度冻结（deepFreeze）</strong>。</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> readonly<span class="token punctuation">,</span> deepFreeze <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span><span class="token function">deepFreeze</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">hobbies</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'reading'</span><span class="token punctuation">,</span> <span class="token string">'swimming'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出: "John"  ⭐⭐</span>
data<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Bob'</span><span class="token punctuation">;</span> <span class="token comment">// 试图修改只读数据，将触发警告    ⭐⭐</span>

data<span class="token punctuation">.</span>hobbies<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'coding'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 试图修改只读数据，将触发警告</span>

</code></pre> 
<p>在上面的示例中，使用deepFreeze对data进行了深度冻结，这样任何级别的修改都将被拦截，确保了完全的只读性。</p> 
<p><em><strong>父子组件间的readonly</strong></em></p> 
<p>在Vue中，父子组件之间可以通过props来传递数据。如果你想在<em>父组件中传递一个只读的数据给子组件</em>，可以使用readonly修饰符。</p> 
<p>下面是一个示例，展示了如何<em>在父组件中使用readonly修饰符来传递只读的props给子组件</em>：</p> 
<p>/.wrap2 &lt;<br> /.box &lt;</p> 
<p>父组件</p> 
<pre><code class="prism language-html">
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child-component</span> <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>readonlyData<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child-component</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> readonly <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ChildComponent <span class="token keyword">from</span> <span class="token string">'./ChildComponent.vue'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    ChildComponent
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">25</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">readonlyData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token function">readonly</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>在上面的示例中，父组件中的data数据被赋值给了readonlyData计算属性，并使用readonly修饰符将其变为只读数据。然后，将readonlyData作为props传递给子组件ChildComponent。</p> 
<p>/-&gt;<br> /.box &lt;</p> 
<p>子组件 ChildComponent.vue 中，你可以像访问普通的props一样访问只读的props。子组件可以读取只读props的值，但不能修改它。</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Name: {<!-- -->{ data.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Age: {<!-- -->{ data.age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// 必填</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Object
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>在上面的子组件中，我们定义了一个名为data的props，类型为对象。我们可以在模板中直接访问data.name和data.age来显示父组件传递过来的只读props的值。</p> 
<p>/-&gt;<br> /-&gt;</p> 
<p>这样，父组件的数据将以只读的形式传递给子组件，子组件无法直接修改父组件的数据，从而确保了数据的安全性。</p> 
<p><strong>数据</strong>是<strong>父组件获取到</strong>的，<strong>设置只读的操作</strong>也是<strong>在父组件完成</strong>的，<strong>子组件负责接收并显示</strong>。</p> 
<p><em><strong>点击按钮修改readonly的值</strong></em></p> 
<p>/.wrap2 &lt;<br> /.box &lt;</p> 
<p>父组件</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeData<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Change Data<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child-component</span> <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>readonlyData<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child-component</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ref<span class="token punctuation">,</span> readonly <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ChildComponent <span class="token keyword">from</span> <span class="token string">'./ChildComponent.vue'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    ChildComponent
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">25</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> readonlyData <span class="token operator">=</span> <span class="token function">readonly</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token function-variable function">changeData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      data<span class="token punctuation">.</span>value<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Alice'</span><span class="token punctuation">;</span> <span class="token comment">// 修改只读数据</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      readonlyData<span class="token punctuation">,</span>
      changeData
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /.box &lt;</p> 
<p>子组件 ChildComponent.vue</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Name: {<!-- -->{ data.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Age: {<!-- -->{ data.age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Object
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /-&gt;</p> 
<p>读取的是<code>readonlyData</code>，修改的是<code>data</code>。</p> 
<h6><a id="_reactive____3049"></a>❥ reactive —— 数据判断</h6> 
<p><em><strong>Reactive判断的API</strong></em></p> 
<p>/–isProxy 检查对象是否是<em>由<code>reactive</code>或<code>readonly</code>创建</em></p> 
<p>/–isReactive 检查对象是否是<em>由<code>reactive</code>创建的响应式代理</em><br> /–. 如果该代理是<code>readonly</code>建的，但包裹了由<code>reactive</code>创建的另一个代理，它也会返回 true；</p> 
<p>/–isReadonly 检查对象是否是<em>由<code>readonly</code>创建的只读代理</em></p> 
<p>/–toRaw <em>返回<code>reactive</code>或<code>readonly</code>代理的原始对象</em>（不建议保留对原始对象的持久引用。请谨慎使用）。</p> 
<p>/–shallowReactive 创建一个响应式代理，它跟踪其自身 property 的响应性，但<em>不执行嵌套对象的深层响应式转换</em> (深层还是原生对象)。</p> 
<p>/–shallowReadonly 创建一个 proxy，使其自身的 property 为只读，但<em>不执行嵌套对象的深度只读转换</em>（深层还是可读、可写的）。</p> 
<p>以上函数的使用方法：如第一个 <code>isProxy(info)</code></p> 
<h6><a id="_toRefs__toRef__3068"></a>❥ toRefs 和 toRef 只读</h6> 
<p><em><strong>toRefs</strong></em></p> 
<p>我们对reactivef返回值进行<a href="#106-%E8%A7%A3%E6%9E%84" rel="nofollow">解构</a>获取值，那么之后无论是修改结构后的变量，还是修改reactive返回的state对象，数据都不再是响应式的：</p> 
<p><img src="https://images2.imgbox.com/31/db/NYJJEIMI_o.png" alt="20230719093145"></p> 
<p>toRefs函数的作用是<em>将一个响应式对象转换为一个普通的对象</em>，该对象的每个属性<em>都是</em>一个<em>只读的响应式引用</em>。这个函数在将响应式对象传递给子组件时特别有用，以确保子组件能够访问到父组件的响应式数据。（<strong>简单说：将一个响应式对象转换为只读的响应式对象</strong>）</p> 
<p>以下是一个使用toRefs的示例：</p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- 父组件 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 更改的是原来的data，而非只读的readonlyData --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeData<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Change Data<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 调用的是已经设置为只读的数据 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child-component</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>readonlyData<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child-component</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ref<span class="token punctuation">,</span> toRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ChildComponent <span class="token keyword">from</span> <span class="token string">'./ChildComponent.vue'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    ChildComponent
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">25</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> readonlyData <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// ⭐⭐  将一个响应式对象转换为只读的响应式对象</span>

    <span class="token keyword">const</span> <span class="token function-variable function">changeData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      data<span class="token punctuation">.</span>value<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Alice'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      readonlyData<span class="token punctuation">,</span>
      changeData
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>在上面的代码示例中，我们使用toRefs将data对象转换为只读的响应式引用对象readonlyData。然后，我们通过v-bind将readonlyData对象的属性传递给子组件，以便子组件能够访问和响应父组件的数据变化。</p> 
<p><em><strong>toRef</strong></em></p> 
<p>toRef函数的作用是<em>将一个响应式对象的</em> <strong>某个属性</strong> <em>转换</em>为<strong>只读</strong> <em>的响应式引用</em>。这在一些特定的场景下很有用，例如将父组件的响应式数据传递给子组件时，可以使用toRef创建只读的引用，以确保子组件不能修改父组件的数据。</p> 
<p>以下是一个使用toRef的示例：</p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- 父组件 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeData<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Change Data<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child-component</span> <span class="token attr-name">:data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>readonlyName<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child-component</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ref<span class="token punctuation">,</span> toRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ChildComponent <span class="token keyword">from</span> <span class="token string">'./ChildComponent.vue'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    ChildComponent
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">25</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> readonlyName <span class="token operator">=</span> <span class="token function">toRef</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// ⭐⭐  将一个响应式对象的 某个属性 转换为只读的响应式引用</span>

    <span class="token keyword">const</span> <span class="token function-variable function">changeData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      data<span class="token punctuation">.</span>value<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Alice'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      readonlyName<span class="token punctuation">,</span>
      changeData
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>在上面的代码示例中，我们使用toRef<em>将data.value.name属性转换为只读的响应式引用readonlyName</em>。然后，我们通过:data将readonlyName传递给子组件，以便子组件能够访问父组件的只读数据。</p> 
<h6><a id="_refAPI_3168"></a>❥ ref其他的API</h6> 
<p>/–unref 如果参数是一个ref，则返回内部值，否则返回参数本身<br> /–. unref 是<code>val = isRef(val) ? val.value : val</code>的语法糖</p> 
<p>/–isRef 判断值是否是一个ref对象</p> 
<p>/–shallowRef 创建一个浅层的ref对象；</p> 
<p>/–triggerRef 手动触发和 shallowRef 相关联的副作用<br> /–. (没看懂，反正意思是强制触发一个响应式引用的重新渲染，举个例子👇)</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeMessage<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Change Message<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>forceRender<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Force Render<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ref<span class="token punctuation">,</span> triggerRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> messageRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">'Hello, Vue 3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 创建响应式数据</span>

    <span class="token keyword">const</span> <span class="token function-variable function">changeMessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      messageRef<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'Hello, MOSSAI'</span><span class="token punctuation">;</span>     <span class="token comment">// 点击第一个按钮后数据发生变化</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// ⭐⭐</span>
    <span class="token keyword">const</span> <span class="token function-variable function">forceRender</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 点击第二个按钮后强制刷新messageRef的渲染值</span>
      <span class="token function">triggerRef</span><span class="token punctuation">(</span>messageRef<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 即使其值没有发生变化</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment">// 我们可以在需要的时候手动触发响应式数据重新渲染，而不必等待其发生实际的变化</span>

    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">message</span><span class="token operator">:</span> messageRef<span class="token punctuation">,</span>
      changeMessage<span class="token punctuation">,</span>
      forceRender
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>当我们没有使用<code>ref</code>或者<code>reactive</code>定义数据时，修改数据并不是响应式的，此时我们就可以在修改数据的代码下加上<code>triggerRef</code>，渲染定义的数据</p> 
<h5><a id="4_setupthis_3217"></a>（4） setup中不能使用this</h5> 
<p>不可以使用this是因为组件实例还没有被创建出来的说法是错误的，正确的说法是原为源码中并没有绑定this</p> 
<p>绑定this的方法有:</p> 
<p>apply/call、fn.bind()、instance.fn()</p> 
<p>视频位置P1049</p> 
<h4><a id="64_computed_3227"></a>6.4. computed函数</h4> 
<p>在Options Api中，我们是使用computed<strong>选项</strong>来完成</p> 
<p>在Composition Api中，我们可以在setup函数中使用computed<strong>方法</strong>来编写计算属性</p> 
<p><em><strong>computed方法案例</strong></em></p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ fullname }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>setFullname<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>设置fullname<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{ scoreLevel }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> reactive<span class="token punctuation">,</span> computed<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 1.定义数据</span>
      <span class="token keyword">const</span> names <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">"kobe"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">lastName</span><span class="token operator">:</span> <span class="token string">"bryant"</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      <span class="token comment">// ⭐⭐ 拼接字符串</span>
      <span class="token keyword">const</span> fullname <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> names<span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> names<span class="token punctuation">.</span>lastName
      <span class="token punctuation">}</span><span class="token punctuation">)</span>


      <span class="token comment">// 2.⭐⭐ 判断是否及格</span>
      <span class="token keyword">const</span> score <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">89</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> scoreLevel <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> score<span class="token punctuation">.</span>value <span class="token operator">&gt;=</span> <span class="token number">60</span> <span class="token operator">?</span> <span class="token string">"及格"</span><span class="token operator">:</span> <span class="token string">"不及格"</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        names<span class="token punctuation">,</span>
        fullname<span class="token punctuation">,</span>
        scoreLevel
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre> 
<p>当你给他写函数的时候，本质上是在写它的get语法（复杂，<mark>可以略过</mark>）👇</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> fullname <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> names<span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> names<span class="token punctuation">.</span>lastName
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 👇修改成get set语法</span>

<span class="token keyword">const</span> fullname <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newValue</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> tempNames <span class="token operator">=</span> newValue<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span>
    names<span class="token punctuation">.</span>firstName <span class="token operator">=</span> tempNames<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    names<span class="token punctuation">.</span>lastName <span class="token operator">=</span> tempNames<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> names<span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> names<span class="token punctuation">.</span>lastName
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fullname<span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">setFullname</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  fullname<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">"coder why"</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>names<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
  fullname<span class="token punctuation">,</span>
  setFullname<span class="token punctuation">,</span>
  scoreLevel
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="65__3309"></a>6.5. 组件的生命周期函数</h4> 
<p>vue3中已经不再使用options里相关的生命周期</p> 
<h5><a id="1_setupref_3313"></a>（1） 前言：在setup中使用ref</h5> 
<p>只需要定义一个ref对象，绑定到元素或者组件的ref属性上即可</p> 
<p><img src="https://images2.imgbox.com/b2/61/XzVJdeRp_o.png" alt="20230723021300"></p> 
<p>代码示例</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 1.获取元素 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>titleRef<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>我是标题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getElements<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>获取元素<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">const</span> titleRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>titleRef<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// ⭐⭐ undefind 此时获取不到元素</span>
                                  <span class="token comment">// 因为此时setup内还没有挂载titleRef</span>

      <span class="token keyword">function</span> <span class="token function">getElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>titleRef<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// ⭐⭐ 此时可以获取到元素，已经挂载</span>
      <span class="token punctuation">}</span>                             <span class="token comment">// &lt;h2&gt;我是标题&lt;/h2&gt;</span>

      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        titleRef<span class="token punctuation">,</span>
        getElements
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><em><strong>生命周期</strong></em></p> 
<p><code>onMounted</code> <strong>挂载后</strong></p> 
<p>/.wrap2 &lt;<br> /.box lit6 &lt;</p> 
<p>app.vue</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 1.获取元素 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>titleRef<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>我是标题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btnRef<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- 2.获取组件实例 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>show-info</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showInfoRef<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>show-info</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getElements<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>获取元素<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ref<span class="token punctuation">,</span> onMounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
  <span class="token keyword">import</span> ShowInfo <span class="token keyword">from</span> <span class="token string">'./ShowInfo.vue'</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      ShowInfo
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">const</span> titleRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> btnRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> showInfoRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// ⭐⭐ </span>

      <span class="token comment">// ⭐⭐ mounted的生命周期函数</span>
      <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>titleRef<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>btnRef<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>showInfoRef<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// ⭐⭐ 输出一个proxy</span>

        showInfoRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">showInfoFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ⭐⭐ 调用组件showInfoRef里的showInfoFoo方法</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>

      <span class="token keyword">function</span> <span class="token function">getElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>titleRef<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">// ⭐⭐ 挂载后，手动点击按钮去获取的</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        titleRef<span class="token punctuation">,</span>
        btnRef<span class="token punctuation">,</span>
        showInfoRef<span class="token punctuation">,</span>
        getElements
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /.box lit4 &lt;</p> 
<p>ShowInfo.vue</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>ShowInfo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// vue2写法 </span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">showInfoFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"showInfo foo function"</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// vue3写法 </span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">function</span> <span class="token function">showInfoFoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"showInfo foo function"</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        showInfoFoo
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /-&gt;</p> 
<h5><a id="2__3446"></a>（2） 生命周期钩子</h5> 
<p>setup可以用来替代data、methods、computed等等选项，也可以替代生命周期钩子</p> 
<p><em><strong>写法对比</strong></em></p> 
<p>/.wrap2 &lt;<br> /.box &lt;</p> 
<p>vue2 options api<br> <img src="https://images2.imgbox.com/2b/b3/idVyXC9w_o.png" alt="20230723131331"></p> 
<p>/-&gt;<br> /.box &lt;</p> 
<p>vue3 compositions api<br> <img src="https://images2.imgbox.com/85/07/CyacSyt2_o.png" alt="20230723130417"></p> 
<p>/-&gt;<br> /-&gt;</p> 
<p><em><strong>完整对比</strong></em><br> /.wrap2 &lt;<br> /.box &lt;</p> 
<p>vue2</p> 
<pre><code class="prism language-js"><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 实例初始化后</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 实例创建完成后</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 挂载前</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 挂载后</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 数据更新前</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 数据更新后</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 实例销毁前</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">destroyed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 实例销毁后</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>/-&gt;<br> /.box &lt;</p> 
<p>vue3</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> onBeforeCreate<span class="token punctuation">,</span> onCreated<span class="token punctuation">,</span> onBeforeMount<span class="token punctuation">,</span>
 onMounted<span class="token punctuation">,</span> onBeforeUpdate<span class="token punctuation">,</span> onUpdated<span class="token punctuation">,</span>
  onBeforeUnmount<span class="token punctuation">,</span> onUnmounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">onBeforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 实例初始化后</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">onCreated</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 实例创建完成后</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">onBeforeMount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 挂载前</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 挂载后</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">onBeforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 数据更新前</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">onUpdated</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 数据更新后</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">onBeforeUnmount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 实例销毁前</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">onUnmounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 实例销毁后</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>

</code></pre> 
<p>/-&gt;<br> /-&gt;</p> 
<p><em><strong>表格对比</strong></em></p> 
<table><thead><tr><th>vue2</th><th>vue3</th><th>含义</th><th>备注</th></tr></thead><tbody><tr><td>beforeCreate</td><td rowspan="2"><strong>setup</strong><br><br>setup是<em>围绕beforeCreate、created运行的</em><br>所以不需要显式的定义它们<br><em>在这两个钩子中编写的任何代码都应该直接在setup函数中编写</em></td><td>实例初始化后</td><td>数据观测 (data observer) 和 event/watcher 事件配置之前被调用</td><td></td></tr><tr><td>created</td><td></td><td>实例创建后，被立即调用</td><td>此时实例已完成数据观测 (data observer)，属性和方法的运算，watch/event 事件回调</td></tr><tr><td>beforeMount</td><td>onBeforeMount</td><td>挂载前</td><td>此时模板编译/解析已完成，但尚未将组件挂载到DOM中</td></tr><tr><td>mounted</td><td>onMounted</td><td>挂载后</td><td>此时组件已经被挂载到DOM中</td></tr><tr><td>beforeUpdate</td><td>onBeforeUpdate</td><td>数据更新前</td><td>发生在虚拟DOM重新渲染和打补丁之前</td></tr><tr><td>updated</td><td>onUpdated</td><td>数据更新后</td><td>发生在虚拟DOM重新渲染和打补丁之后</td></tr><tr><td>BeforeUnmount</td><td>onBeforeUnmount</td><td>卸载前</td><td>此时实例仍然完全可用</td></tr><tr><td>Unmounted</td><td>onUnmounted</td><td>卸载后</td><td>调用后，所有事件监听器都会被移除，所有子实例都会被销毁</td></tr><tr><td>activated</td><td>onActivated</td><td>进入该组件</td><td>keep-alive组件监听</td></tr><tr><td>deactivated</td><td>onDeactivated</td><td>退出该组件</td><td>keep-alive组件监听</td></tr></tbody></table> 
<h4><a id="66_ProvideInject___3561"></a>6.6. Provide/Inject 使用 （了解）</h4> 
<p>vue3不再事件总线的Provide/Inject API 而改为使用Provide/Inject函数</p> 
<p><img src="https://images2.imgbox.com/44/4d/TLQO4vek_o.png" alt="20230724165321"></p> 
<h4><a id="67_watchwatchEffect__3567"></a>6.7. watch/watchEffect 监听</h4> 
<h5><a id="1_watch_3569"></a>（1） watch</h5> 
<p><img src="https://images2.imgbox.com/b6/42/LQIAaGS4_o.png" alt="20230724172758"></p> 
<p><img src="https://images2.imgbox.com/82/b5/ZkGqYYos_o.png" alt="20230725180309"></p> 
<p>() =&gt; obj.address 是一个箭头函数，用于返回 obj.address 的值。</p> 
<p><em><strong>实际可用的案例</strong></em></p> 
<p>修改后，<strong>监听结果为flase</strong>，且能明确看到<strong>新旧值不一样的</strong>！！</p> 
<pre><code class="prism language-js"><span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token operator">...</span>info<span class="token punctuation">.</span>friend<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newValue <span class="token operator">===</span> oldValue<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">deep</span><span class="token operator">:</span><span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>效果测试</p> 
<table><thead><tr><th>监听值</th><th>监听到的新旧值变化了吗</th><th>===呢</th></tr></thead><tbody><tr><td>info</td><td>新旧值显示的都是<em>新值</em></td><td>true</td></tr><tr><td>info.friend</td><td>新旧值显示的都是<em>新值</em></td><td>true</td></tr><tr><td>()=&gt;({…info})</td><td>新旧值显示的都是<em>新值</em></td><td>false</td></tr><tr><td>()=&gt;({…info.friend})</td><td>新值正确，旧值正确</td><td>false</td></tr></tbody></table> 
<p>效果<br> <img src="https://images2.imgbox.com/27/f3/vVijDc8O_o.png" alt="20230725181910"></p> 
<h5><a id="2_watchEffect_3602"></a>（2） watchEffect</h5> 
<p><img src="https://images2.imgbox.com/0a/fe/Ww5Vuu4A_o.png" alt="20230724172954"></p> 
<p>设置条件停止调用</p> 
<p><img src="https://images2.imgbox.com/83/c5/G9a1XUof_o.png" alt="20230724185006"></p> 
<h4><a id="68_Hook_3610"></a>6.8. Hook</h4> 
<h5><a id="1__3612"></a>（1） 概念</h5> 
<p>把相同逻辑的js代码抽取到同一个的文件夹(Hook)中</p> 
<p><img src="https://images2.imgbox.com/56/37/hAPRSLyF_o.png" alt="20230724191319"></p> 
<p>return里的<code>...userCounter</code> 等于setup里的 <code>const { counter, increment, decrement } = useCounter()</code></p> 
<p><code>...name</code>为语法糖写法</p> 
<h5><a id="2__3622"></a>（2） 网页标题</h5> 
<p>/.wrap2 &lt;<br> /.box &lt;<br> Hook文件夹新增useTitile.js</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ref<span class="token punctuation">,</span> watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">useTitle</span><span class="token punctuation">(</span><span class="token parameter">titleValue</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// document.title = title</span>

  <span class="token comment">// 定义ref的引入数据</span>
  <span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span>titleValue<span class="token punctuation">)</span>

  <span class="token comment">// 监听title的改变</span>
  <span class="token function">watch</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">newValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    document<span class="token punctuation">.</span>title <span class="token operator">=</span> newValue  <span class="token comment">// 拿到新值，更新标题</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// 返回ref值</span>
  <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
    title
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>/-&gt;<br> /.box &lt;</p> 
<p>第一种</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">import</span> useTitle <span class="token keyword">from</span> <span class="token string">'./hooks/useTitle'</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">function</span> <span class="token function">changeTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">useTitle</span><span class="token punctuation">(</span><span class="token string">"app title"</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        changeTitle<span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> 
<p>第二种<br> <img src="https://images2.imgbox.com/6e/9a/qYyHXa0V_o.png" alt="20230724225118"><br> /-&gt;<br> /-&gt;</p> 
<h5><a id="3__3677"></a>（3） 页面位置</h5> 
<p>/.wrap2 &lt;<br> /.box &lt;</p> 
<p>useScrollPosition.js</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">useScrollPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 1.使用reative记录位置</span>
  <span class="token keyword">const</span> scrollPosition <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// 2.监听滚动</span>
  document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"scroll"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    scrollPosition<span class="token punctuation">.</span>x <span class="token operator">=</span> window<span class="token punctuation">.</span>scrollX
    scrollPosition<span class="token punctuation">.</span>y <span class="token operator">=</span> window<span class="token punctuation">.</span>scrollY
  <span class="token punctuation">}</span><span class="token punctuation">)</span>


  <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
    scrollPosition
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><code>document.addEventListener(事件名, 函数)</code>，事件名是设置好的，有滚动、点击等</p> 
<p>/-&gt;<br> /.box &lt;</p> 
<p>调用</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>scroll<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>x: {<!-- -->{ scrollPosition.x }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>y: {<!-- -->{ scrollPosition.y }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> useScrollPosition <span class="token keyword">from</span> <span class="token string">'../hooks/useScrollPosition'</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> scrollPosition <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useScrollPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 这个是对return做解构</span>
      <span class="token comment">// const { x, y } = scrollPosition </span>
      <span class="token comment">// ↑ 这个才是对xy做解构，但不能对reactive做解构，所以我们不能这样做</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>scrollPosition<span class="token punctuation">)</span>

      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        scrollPosition
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>/-&gt;<br> /-&gt;</p> 
<h4><a id="69_script_setup__3743"></a>6.9. script setup 语法糖</h4> 
<p>省去script里的<code>setup(){}</code>和<code>return{}</code>，只需要在script标签后加上setup，在script里直接写上相应的代码即可，也不需要再写return</p> 
<p>vue3.2版本后正式支持该写法</p> 
<p>/.flexImg &lt;<br> <img src="https://images2.imgbox.com/f1/dd/z0N1aB1w_o.png" alt="20230724233200"></p> 
<p>👉</p> 
<p><img src="https://images2.imgbox.com/cc/ac/Zsi5oXbq_o.png" alt="20230724233133"></p> 
<p>👉</p> 
<p><img src="https://images2.imgbox.com/a0/c5/fq7eHFeN_o.png" alt="20230818001035"><br> /-&gt;</p> 
<p><em><strong>完整案例</strong></em></p> 
<p><img src="https://images2.imgbox.com/6e/c3/FlyQWDl2_o.png" alt="20230725002306"></p> 
<p>Props 👉 defineProps<br> emits 👉 defineEmits</p> 
<h4><a id="610__3768"></a>6.10. 综合案例-房源列表</h4> 
<p><a href="#113-%E5%88%97%E8%A1%A8%E6%88%BF%E6%BA%90" rel="nofollow">看11.3</a></p> 
<h3><a id="7___3772"></a>7. 路 由</h3> 
<h4><a id="71__3774"></a>7.1. 相关知识</h4> 
<h5><a id="1__3776"></a>（1） 路由演变阶段</h5> 
<p>/.flexImg &lt;<br> <img src="https://images2.imgbox.com/f8/94/6VfCbvlH_o.png" alt="20230818065319"></p> 
<p><img src="https://images2.imgbox.com/ce/b9/o7TKtOpn_o.png" alt="20230818065338"></p> 
<p><img src="https://images2.imgbox.com/f8/bd/S5F0LvYv_o.png" alt="20230818065354"><br> /-&gt;</p> 
<h5><a id="2_SPA__3786"></a>（2） SPA 单页面富应用</h5> 
<p><strong>SPA</strong>（Single Page Application，<strong>单页应用程序</strong>）是一种前端开发模式，其中整个应用程序的<strong>所有页面和资源都在一个单独的HTML页面中加载</strong>，通过JavaScript来动态更新内容，<em>而不是每次页面切换时重新加载整个页面</em>。SPA通常使用AJAX技术（异步JavaScript和XML）从服务器获取数据，并使用前端框架（如React、Vue或Angular）进行页面路由和组件管理。</p> 
<p>传统的<strong>多页应用程序</strong>（<strong>MPA</strong>）<strong>在用户导航时会重新加载整个页面</strong>，这可能会导致页面刷新的延迟和用户体验的不连贯。相比之下，SPA在初始加载后，只需加载一次HTML、CSS和JavaScript文件，然后通过异步请求数据和动态更新内容，有效地提供了更快的页面切换和更流畅的用户体验。</p> 
<p><em><strong>SPA的优势</strong></em></p> 
<ul><li><em>更快的页面加载速度和响应速度</em>，因为只需加载一次HTML、CSS和JavaScript文件。</li><li>更好的用户体验，因为页面切换时<em>无需刷新整个页面</em>，可以实现无缝的过渡效果。</li><li><em>更好的前后端分离</em>，前端负责页面展示逻辑，后端负责数据处理和提供API接口。</li></ul> 
<p><em><strong>SPA的劣势</strong></em><br> 然而，SPA也存在一些挑战和注意事项，如<strong>SEO问题</strong>（由于内容动态生成），初始加载时间（可能需要加载大量JavaScript代码）和<strong>内存管理</strong>（长时间运行的应用可能会导致内存泄漏）等。</p> 
<p><em><strong>总的来说</strong></em><br> SPA是一种提供更好用户体验的前端开发模式，因其动态加载和更新内容的方式而受到广泛使用。</p> 
<p>前端页面不需要再进行F5整体刷新，切换路由就好</p> 
<h5><a id="3___3806"></a>（3） /#/ 地址</h5> 
<table><thead><tr><th>模式</th><th><code>#</code></th><th>怎样的</th><th>优缺点</th><th>简单说</th></tr></thead><tbody><tr><td>hash</td><td>✔，<code>http://example.com/#/about</code></td><td>当URL的哈希值改变时，<em>页面不会重新加载</em>，Vue会根据哈希值的变化来<em>动态渲染对应的组件</em>。</td><td>优：<em>兼容性良好</em>，即使在不支持HTML5历史API的旧版浏览器中也可以使用</td><td><strong>有#</strong>，url的<em>hash值改变时</em>，<strong>页面不会重新加载</strong>，但是页面会根据新的hash值进行<strong>相应的内容渲染</strong></td></tr><tr><td>history</td><td>×，<code>http://example.com/about</code></td><td>路由的改变会使用HTML5的history API来修改URL，同时也会向服务器发送请求</td><td>优：URL更加<em>美观</em>，没有了#符号，更接近传统的URL，对<em>搜索引擎优化</em>也更友好。<br>缺：需要后端服务器支持，因为URL的路径在浏览器<em>刷新时会发送给服务</em>器，<em>服务器需要配置相应的路由规则</em>，以便正确地返回对应的页面。</td><td><strong>无#</strong>，当<em>切换路由时</em>，URL会发生改变，但通过<em>使用HTML5的history API</em>来让<strong>页面不会重新加载</strong>，</td></tr></tbody></table> 
<p>router.js</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 方式一</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'hash'</span><span class="token punctuation">,</span> <span class="token comment">// 或者 'history'</span>
  <span class="token comment">// 方式二</span>
  <span class="token literal-property property">history</span><span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// 或者 'createWebHistory'  ⭐</span>

  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h6><a id="_hash_3826"></a>❥ hash</h6> 
<p>（<strong>可略过，看表格</strong>）</p> 
<p>通过监听URL的改变对URL和内容进行映射</p> 
<ul><li> <p>URL的hash也就是锚点（#），本质上是改变window.location的href属性</p> </li><li> <p>可以通过直接赋值location.hash来改变href，但是页面不发生刷新<br> <img src="https://images2.imgbox.com/43/2d/p6QnHjyt_o.png" alt="20230820085815"></p> </li><li> <p>hash的优势是兼容性更好，在老版本IE浏览器都可以运行，但是缺陷是有一个#，显得不像一个真实的链接</p> </li></ul> 
<h6><a id="_history_3838"></a>❥ history</h6> 
<p>/–replaceState 替换原来的路径，跳转而不留下历史痕迹<br> /–pushState 使用新的路径<br> /–popState 路径的回退<br> /–go 向前或向后改变路径<br> /–forward 向前改变路径<br> /–back 向后改变路径</p> 
<p>（chatgpt的使用方法）</p> 
<pre><code class="prism language-js"><span class="token comment">// 在某个 Vue 组件的方法中</span>
<span class="token function">someMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'/new-route'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 使用 replaceState 进行页面跳转</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/new-route'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 使用 push 进行页面跳转</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">// 使用 go 进行前进或后退</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">// 使用 back 进行后退</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// 使用 forward 进行前进</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>/.flexImg &lt;<br> <img src="https://images2.imgbox.com/04/cf/N6gYf6dL_o.png" alt="20230820093501"></p> 
<p><img src="https://images2.imgbox.com/41/d5/BUFjjeES_o.png" alt="20230820093531"><br> /-&gt;</p> 
<h4><a id="72_routerindexjs_3866"></a>7.2. router/index.js</h4> 
<h5><a id="1_3868"></a>（1）概念</h5> 
<p><em><strong>前端三大框架 及其路由</strong></em></p> 
<ul><li>Angular 的 ngRouter</li><li>React 的 ReactRouter</li><li>Vue 的 vue-router</li></ul> 
<p><em><strong>认识 Vue router</strong></em></p> 
<p>Vue router 是vuejs的官方路由，它与vuejs核心深度集成，让用vuejs构建单页应用变得非常容易</p> 
<p>vue-router是基于路由和组件的，路由用于设定访问路径, 将路径和组件映射起来；在vue-router的单页面应用中, 页面的路径的改变就是组件的切换</p> 
<p><em><strong>使用VUE-Router</strong></em></p> 
<ol><li>安装：<code>npm install vue-router</code></li><li>（<em>创建vue文件</em>）创建路由需要映射的组件，Home.vue、About.vue等</li><li>（<em>写路由</em>）在router/index.js 创建映射关系，修改history的url模式（hash/history）</li><li>让路由生效，<em>main.js</em>内写上<code>app.use(router)</code></li><li><em>app.vue</em>内使用<code>&lt;router-view&gt;&lt;/router-view&gt;</code>占位</li><li><em>app.vue</em>内使用<code>&lt;router-link to="/about"&gt;首页&lt;/vueter-link&gt;</code></li></ol> 
<h5><a id="2__redirect_3891"></a>（2） 重定向 <code>redirect</code></h5> 
<p>router/index.js</p> 
<p>一般使用在<em>给默认路径的重定向</em>，（输入<code>https://www.aaa.com/</code>后<em>自动定位</em>到home页面）</p> 
<pre><code class="prism language-js"><span class="token literal-property property">routes</span><span class="token operator">:</span><span class="token punctuation">[</span>
  <span class="token comment">// 可以这么写，但是一般用重定向的方法</span>
  <span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> Home<span class="token punctuation">}</span><span class="token punctuation">,</span>  

  <span class="token comment">// ⭐ redirect 重定向</span>
  <span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">"/home"</span><span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre> 
<p>长这样：<br> <img src="https://images2.imgbox.com/5d/88/tK9yVHp7_o.png" alt="20230821092821"></p> 
<h5><a id="3__import__3910"></a>（3） 路由懒加载 <code>()=&gt;import('路径')</code> 分包</h5> 
<p>router/index.js</p> 
<p><em><strong>解释</strong></em></p> 
<p>优化性能的方式之一！打包后默认只有app.js一个逻辑文件，把app.js的代码块<strong>按组件划分成多个文件</strong>，使<strong>首屏加载速度更快</strong>一些</p> 
<p>懒加载的含义：<strong>不用的时候不加载</strong>，<strong>用的时候再加载相应的js包</strong></p> 
<p><em><strong>使用</strong></em></p> 
<p>打包命令<code>npm run build</code></p> 
<p>代码：router/index.js</p> 
<pre><code class="prism language-js"><span class="token comment">// 以前用的是这种写法</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../Views/Home.vue'</span> 
<span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">'../Views/About.vue'</span>

<span class="token comment">// 现在的写法（一）</span>
<span class="token keyword">const</span> <span class="token function-variable function">Home</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName:'home'*/</span><span class="token string">'../Views/Home.vue'</span><span class="token punctuation">)</span>    <span class="token comment">// webpackChunkName:'home' 为webpack3开始支持的魔法注释</span>
<span class="token keyword">const</span> <span class="token function-variable function">About</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName:'about'*/</span><span class="token string">'../Views/About.vue'</span><span class="token punctuation">)</span>
<span class="token literal-property property">routes</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">]</span>


<span class="token comment">// 现在的写法（二） ⭐</span>
<span class="token literal-property property">routes</span><span class="token operator">:</span><span class="token punctuation">[</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">redirect</span><span class="token operator">:</span><span class="token string">"home"</span>   <span class="token comment">// 首页重定向</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/home"</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName:'home'*/</span><span class="token string">"../Views/Home.vue"</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/about"</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName:'about'*/</span><span class="token string">"../Views/About.vue"</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre> 
<p>效果<br> <img src="https://images2.imgbox.com/6d/ec/IQl0tBQI_o.png" alt="20230822062106"></p> 
<p><em><strong>补充PPT解释</strong></em></p> 
<ul><li>当打包构建应用时，JavaScript包会变得非常大，影响页面加载 
  <ul><li>如果我们能把不同路由对应的组件分割成不同的代码块，然后当路由被访问的时候才加载对应组件，这样就会更加高效；</li><li>也可以提高首屏的渲染效率</li></ul> </li><li>关于讲到过的webpack的分包知识，Vue Router默认就支持动态来导入组件 
  <ul><li>这是因为component可以传入一个组件，也可以接收一个函数，该函数需要放回一个Promise</li><li>而import函数就是返回一个Promise</li></ul> </li></ul> 
<h5><a id="4__name_meta_3966"></a>（4） 其他属性 <code>name</code> <code>meta</code></h5> 
<p>router/index.js</p> 
<ul><li>/–name 独一无二的名称</li><li>/–meta 自定义属性</li></ul> 
<pre><code class="prism language-js"><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/home"</span><span class="token punctuation">,</span>      <span class="token comment">// 网址路径</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"home"</span><span class="token punctuation">,</span>       <span class="token comment">// 独一无二的名字</span>
  <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"../Views/Home.vue"</span><span class="token punctuation">)</span>
  <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>             <span class="token comment">// 自定义数据</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"pyy"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">88</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h5><a id="5__3985"></a>（5） 动态路由</h5> 
<h6><a id="___routeparamsid_3987"></a>❥ 同组件 不同地址 <code>$route.params.id</code></h6> 
<p>如<code>http://localhost:8080/#/user/123</code><br> 与 <code>http://localhost:8080/#/user/321</code><br> 同一个组件，显示不同的id</p> 
<p>html</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/user/123<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>（跳转链接）用户<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>vueter-link</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>（调用）user{<!-- -->{$route.params.id}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>js</p> 
<pre><code class="prism language-js"><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/user/:id"</span>
<span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"../Views/user.vue"</span><span class="token punctuation">)</span>
</code></pre> 
<p><em><strong>整体案例</strong></em><br> <img src="https://images2.imgbox.com/55/a0/qg1tIY1G_o.png" alt="20230828150735"></p> 
<p>调用部分未写完整，补充：</p> 
<pre><code class="prism language-js"><span class="token comment">// html与图片一致</span>
<span class="token comment">// js 部分</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> userRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
</code></pre> 
<h6><a id="__onBeforeRouteUpdate_4020"></a>❥ 监听跳转变化 <code>onBeforeRouteUpdate</code></h6> 
<p>在切换到同一个组件时没有经历销毁和重新创建，所以在切换时上面的<code>console.log(route.params.id)</code>并没有显示最新的值</p> 
<p>这个方法<em>获取不到</em></p> 
<pre><code class="prism language-js"><span class="token function">onActivation</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"代码中："</span><span class="token punctuation">,</span>route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>这里我们使用<code>onBeforeRouteUpdate</code></p> 
<p><strong>接动态路由部分</strong>，在vue文件使用，template相同，js部分</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> useRoute<span class="token punctuation">,</span> onBeforeRouteUpdate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token comment">// 加载进入页面时调用一次</span>
<span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span>

<span class="token comment">// 后续发生变化时调用</span>
<span class="token function">onBeforeRouteUpdate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"from:"</span><span class="token punctuation">,</span> from<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"to:"</span><span class="token punctuation">,</span> to<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p><em><strong>onBeforeRouteUpdate 解释</strong></em></p> 
<p><a href="https://router.vuejs.org/zh/api/#Functions-onBeforeRouteUpdate" rel="nofollow">官方：</a></p> 
<ol><li>添加一个导航守卫，<strong>不论当前位置何时被更新都会触发</strong>。类似于 beforeRouteUpdate，但可以在任何组件中使用。当组件被卸载时，该守卫会被移除。</li><li>在当前路由改变，但是该组件被复用时调用，举个例子，对于一个带有动态参数的路径<code>/user/:id</code>，在<code>/users/1</code>和<code>/users/2</code>之间跳转</li><li>Option API（vue2）使用<code>BeforeRouteUpdate</code></li><li>Composition API（vue3）使用<code>onBeforeRouteUpdate</code></li></ol> 
<p><em><strong>课件图</strong></em></p> 
<p><img src="https://images2.imgbox.com/c8/a9/jgB1DHdo_o.png" alt="20230901210952"></p> 
<h5><a id="6__4064"></a>（6） 找不到路径</h5> 
<ol><li>创建 <code>NotFound.vue</code></li></ol> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>not-found<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 具体什么路径不正确：{<!-- -->{ $route.params.pathMatch }} --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>NotFound: 您当前的路径{<!-- -->{ $route.params.pathMatch }}不正确, 请输入正确的路径!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> useRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token comment">// 加载进入页面时调用一次</span>
<span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>pathMatch<span class="token punctuation">)</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ol start="2"><li>router/index.js</li></ol> 
<pre><code class="prism language-js"><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/:pathMatch(.*)'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../pages/NotFound.vue'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>其中有两种写法，是否解析<code>/</code></p> 
<table><thead><tr><th>写法</th><th>效果</th></tr></thead><tbody><tr><td><code>path:'/:pathMatch(.*)',</code></td><td><code>user/hahaha/123</code></td></tr><tr><td><code>path:'/:pathMatch(.*)*'</code></td><td><code>["user","hahaha","123"]</code></td></tr></tbody></table> 
<h5><a id="7__4101"></a>（7） 路由嵌套</h5> 
<p><img src="https://images2.imgbox.com/27/21/f3bJzSIQ_o.png" alt="20230901221834"></p> 
<p>chidren里的<code>redirect</code>（重定向）：当访问 <code>/home</code> 时，vue路由会自动重定向到 <code>/home/reoduct</code><br> (看到chatgpt案例里省略了children重定向里的<code>/home</code>)<br> 这里Home.vue扮演着<strong>容器</strong>的角色，它负责<strong>渲染并包含</strong>子级路由的内容。父级组件可以用来布局整个页面的结构，提供共享的样式和功能，同时也可以在子级路由之间共享数据和状态。</p> 
<p><img src="https://images2.imgbox.com/a0/ef/SZ4ssVYC_o.png" alt="20230908010538"></p> 
<h4><a id="73_routerjs_4111"></a>7.3. routerjs总结</h4> 
<h5><a id="1_router_4113"></a>（1） router</h5> 
<p>src/router/index.js，路由嵌套省略</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> createRouter<span class="token punctuation">,</span> createWebHashHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>    <span class="token comment">// 哈希模式</span>
                   <span class="token comment">//  createWebHistory     history模式</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">history</span><span class="token operator">:</span><span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 哈希模式</span>
  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span>                  <span class="token comment">// 网址路径</span>
      <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">"/home"</span>           <span class="token comment">// 重定向，输入网址后直接进入home页面</span>
    <span class="token punctuation">}</span>，
    <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/home"</span><span class="token punctuation">,</span>              <span class="token comment">// 网址路径</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"home"</span><span class="token punctuation">,</span>               <span class="token comment">// 独一无二的名字</span>
                                  <span class="token comment">// 指定文件路径，并做分包处理，包的名称为home</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName:'home'*/</span><span class="token string">"../Views/Home.vue"</span><span class="token punctuation">)</span>  
      <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>                     <span class="token comment">// 自定义数据</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"pyy"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">88</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"/user/:id"</span>            <span class="token comment">// id是传过来的值</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"../Views/user.vue"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/:pathMatch(.*)'</span><span class="token punctuation">,</span>     <span class="token comment">// 找不到路径，pathMatch匹配路径，.*匹配上面没有的任何东西</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../pages/NotFound.vue'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="2_template_4150"></a>（2） template</h5> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 切换按钮 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/home<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>vueter-link</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/about<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>关于<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>vueter-link</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/user/123<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>（跳转链接）用户<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>vueter-link</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 内容 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- 动态路由 user/谁的id，写在user.vue --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>user：{<!-- -->{$route.params.id}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- 找不到路径，写在NotFound.vue --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>NotFound: 您当前的路径{<!-- -->{ $route.params.pathMatch }}不正确, 请输入正确的路径!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> useRoute<span class="token punctuation">,</span> onBeforeRouteUpdate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token comment">// 加载进入页面时调用一次</span>
<span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span>

<span class="token comment">// 后续发生变化时调用</span>
<span class="token function">onBeforeRouteUpdate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"from:"</span><span class="token punctuation">,</span> from<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"to:"</span><span class="token punctuation">,</span> to<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h6><a id="_routerlink__4185"></a>❥ router-link 属性</h6> 
<ul><li> <p>/–to 跳转到，填写一个字符串，或者是一个对象（如：<code>:to="{path:'/home'}"</code>）</p> </li><li> <p>/–replace 替换，当点击时，会调用 router.replace()，而不是router.push()，<em>这样点击后退时就退不回上一页</em></p> </li><li> <p>/–active-class 设置激活a元素后应用的class，默认选中的class为<code>router-link-active</code>，自定义方式：<code>active-class='activeName'</code></p> </li><li> <p>/–exact-active-class 链接精准激活时，应用于渲染<code>&lt;a&gt;</code>的class，默认是router-link-exact-active</p> </li></ul> 
<h4><a id="74__4195"></a>7.4. 页面跳转方式</h4> 
<p>方式一：路由跳转，<code>&lt;router-link to="/home"&gt;首页&lt;/vueter-link&gt;</code></p> 
<p>方式二：click事件跳转　＞＞　<code>.push</code>　往上叠加，可后退<br> 　　　　　　　　　　　　　　<code>.replace</code> 替换，后退直接回到原始页面</p> 
<h5><a id="1_click__routerpush_4202"></a>（1） click —— router.push()</h5> 
<p><code>router.push()</code>叠加形式的跳转，<code>router.replace</code>替换原页面的跳转形式</p> 
<ul><li>直接跳转，<code>router.push("/home")</code></li><li>放入对象，<code>router.push({ })</code> 
  <ul><li><code>path: " "</code> 页面路径</li><li><code>name: " "</code> 名称，因为在首页使用时没有重定向功能，所以推荐全用path</li><li><code>query: { }</code> 放一些需要传递的对象，网址上会附带</li></ul> </li></ul> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>homeSpanClick<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>aboutBtnClick<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>关于<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span> <span class="token comment">// 调用方法</span>
  
  <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment">// 函数赋给router</span>

  <span class="token comment">// 监听元素的点击</span>
  <span class="token keyword">function</span> <span class="token function">homeSpanClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>       <span class="token comment">// 跳转到首页</span>
    router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"/home"</span><span class="token punctuation">)</span>           <span class="token comment">// 直接跳转过去</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">aboutBtnClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>       <span class="token comment">// 跳转到关于</span>
    router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>                  <span class="token comment">// 用对象方式，加点值</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/about"</span><span class="token punctuation">,</span>              <span class="token comment">// 也可以用name: "home"，但因为在首页使用时没有重定向功能，所以推荐全用path</span>
      <span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>                     <span class="token comment">// 用该属性带上点值</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"why"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>about.vue 获取 query 数据</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>About: {<!-- -->{ $route.query }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>效果<br> <img src="https://images2.imgbox.com/76/75/DObPJ2hI_o.png" alt="20230905004816"></p> 
<h5><a id="2_click___4247"></a>（2） click —— 前进后退（返回）</h5> 
<p>back 返回，forward 前进，go(number) 前进后退几步</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>about<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>backBtnClick<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>返回<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

  <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">function</span> <span class="token function">backBtnClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>           <span class="token comment">// 后退一步   相当于 router.go(-1)</span>
    router<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token comment">// 向前一步   相当于 router.go(1)</span>
  <span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="75__4271"></a>7.5. 动态管理路由</h4> 
<h5><a id="1__addRoute_4273"></a>（1） 添加路由 <code>addRoute</code></h5> 
<p><em><strong>两种添加菜单的方法</strong></em></p> 
<ul><li>根据不同的角色，<strong>显示</strong>不同的菜单 
  <ul><li>隐藏其他的菜单</li><li>缺点是直接输入路径还是会加载隐藏的菜单</li></ul> </li><li>根据不同的角色， <strong>生成</strong>不同的菜单⭐ 
  <ul><li>路由也是动态注册的</li><li>必须要登录，登录后判断其所属的角色</li></ul> </li></ul> 
<p><em><strong>使用router里的<code>addRoute</code>方法</strong></em></p> 
<p>是不是某个角色 &gt;&gt; 是，注册这些路由<br> 　　　　　　　 &gt;&gt; 不是，下一个角色是不是</p> 
<p>route/index.js</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">history</span><span class="token operator">:</span> <span class="token function">createWebHashHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// 采用哈希模式，有#</span>
  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>                        <span class="token comment">// 省略</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
                          <span class="token comment">// 正常为登录页输入账号密码，获取到用户身份</span>
<span class="token keyword">let</span> isAdmin <span class="token operator">=</span> <span class="token boolean">true</span>        <span class="token comment">// 这里省略，直接判断用户是不是isAdmin</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>isAdmin<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 这里添加的是一级路由</span>
  router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/admin"</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"../Views/Admin.vue"</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// 这里添加的是二级路由</span>
  router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token string">"home"</span><span class="token punctuation">,</span><span class="token punctuation">{<!-- --></span>          <span class="token comment">// 父级路由为home</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">"vip"</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"../Views/HomeVip.vue"</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>以下为 <em>/admin页面</em> 的效果<br> /.wrap2 &lt;<br> /.box &lt;<br> 为true时<br> <img src="https://images2.imgbox.com/aa/60/Uxwpsua6_o.png" alt="20230911221926"><br> /-&gt;<br> /.box &lt;<br> 为flase时<br> <img src="https://images2.imgbox.com/5a/f1/IHUrquAs_o.png" alt="20230911222300"><br> /-&gt;<br> /-&gt;</p> 
<p>ppt的<code>addRoute</code></p> 
<p><img src="https://images2.imgbox.com/c7/39/mkOObR0X_o.png" alt="20230910022538"></p> 
<h5><a id="2__4329"></a>（2） 删除路由</h5> 
<p>一般不用这个功能，了解一下</p> 
<ol><li>添加一个name相同的路由</li></ol> 
<pre><code class="prism language-js">router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'about'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> About <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 这将会删除之前已经添加的路由，因为它们具有相同的名字，且名字必须时唯一的</span>
router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/other'</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'about'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> Home <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<ol start="2"><li>通过<code>removeRoute</code>方法，传入路由的名称</li></ol> 
<pre><code class="prism language-js">router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'about'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> About <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 删除路由</span>
router<span class="token punctuation">.</span><span class="token function">removeRoute</span><span class="token punctuation">(</span><span class="token string">'about'</span><span class="token punctuation">)</span>
</code></pre> 
<ol start="3"><li>通过<code>addRoute</code>方法的返回值回调</li></ol> 
<pre><code class="prism language-js"><span class="token keyword">const</span> removeRoute <span class="token operator">=</span> router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span>routeRecord<span class="token punctuation">)</span>
<span class="token function">removeRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 删除路由如果存在的话</span>
</code></pre> 
<p>（不太懂略过，第一行会返回一个函数，第二行调用函数时会把路由删掉）</p> 
<h5><a id="3__4358"></a>（3） 其他方法</h5> 
<p><code>router.hasRoute()</code> 检查路由是否存在<br> <code>router.getRoutes()</code> 获取一个包含所有路由记录的数组</p> 
<h4><a id="76__4363"></a>7.6. 导航守卫</h4> 
<p>vue-router 提供的<em>导航守卫</em>主要目的：通过跳转或取消的方式守卫导航</p> 
<h5><a id="1__beforeEach_4367"></a>（1） 前置导航守卫（登录） <code>beforeEach</code></h5> 
<p>使用全局的<em>前置导航守卫</em> <strong>beforeEach</strong> ，有<em>两</em>个参数，<em>三</em>种返回值</p> 
<ul><li>参数： 
  <ul><li><code>to</code>到哪去，return ‘/xxx’ 时默认是to</li><li><code>form</code>从哪来</li></ul> </li><li>返回值： 
  <ul><li><code>无返回</code> / <code>undefined</code> 进行默认导航</li><li><code>false</code> 取消当前导航</li><li>返回一个<code>路由地址</code>（<code>string</code>或<code>对象</code>）</li></ul> </li><li>可选的第三个参数<code>next</code>（<em>不推荐使用</em>） 
  <ul><li>在vue2中我们是通过next函数来决定如何进行跳转的</li><li>但是在vue3中我们是通过返回值来控制的，不再推荐使用next函数，这是因为开发中很容易调用多次next</li></ul> </li></ul> 
<h6><a id="___4382"></a>❥ 案例 进入订单页</h6> 
<p><img src="https://images2.imgbox.com/1a/00/drVak0Xa_o.png" alt="20230912024502"></p> 
<p>进入订单页面：</p> 
<ol><li>判断用户<em>是否登录</em></li><li>根据逻辑进行<em>不同的处理</em></li></ol> 
<ul><li>用户<em>登录成功</em> 
  <ul><li>直接进入到订单页面 —— (1) 案例 进入订单页</li></ul> </li><li>用户<em>没有的登录</em> 
  <ul><li>直接进入登录页面</li><li>登录成功后，再次进入订单页面（或其他页面）—— (2) 案例 登录流程</li></ul> </li></ul> 
<p>文件： router &gt; index.js</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 每次跳转页面时，都会调用 router.beforeEach</span>
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>     <span class="token comment">// to 去到哪一页，from 从哪一页来 </span>

<span class="token comment">// 1.进入到任何别的页面时, 都跳转到login页面      </span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>path <span class="token operator">!==</span> <span class="token string">"/login"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>         <span class="token comment">// if（去的不是登录页）</span>
     <span class="token keyword">return</span> <span class="token string">"/login"</span>   
   <span class="token punctuation">}</span> <span class="token comment">// 不做判断直接return login的话会发生死循环，而且直接这么写是不成功的，需要加上判断</span>

  <span class="token comment">// 2.进入到订单页面时, 判断用户是否登录</span>
  <span class="token keyword">const</span> token <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">)</span>  <span class="token comment">// 获取登录信息</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>path <span class="token operator">===</span> <span class="token string">"/order"</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>token<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>    <span class="token comment">// 进入订单页面 且 未登录</span>
    <span class="token keyword">return</span> <span class="token string">"/login"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h6><a id="____4416"></a>❥ 案例 登录退出 流程</h6> 
<p>登录页 login.vue</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>login<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>登录页面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 省略账号密码 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loginClick<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>登录<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

  <span class="token keyword">function</span> <span class="token function">loginClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 点击登陆后，向服务器放送请求，服务器会返回token，需要保存token</span>
    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">,</span><span class="token string">"sdf4a65s1fas564gsdf"</span><span class="token punctuation">)</span>

    <span class="token comment">// 跳转到order页面</span>
    router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"/order"</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>退出页 Home.vue</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>home<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logOutClick<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>退出登录<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

  <span class="token keyword">function</span> <span class="token function">logOutClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 点击后删除token</span>
    localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><em><strong>PPT登录</strong></em><br> <img src="https://images2.imgbox.com/68/3c/yn1t4Uwu_o.png" alt="20230913212313"></p> 
<h6><a id="__4464"></a>❥ 完整案例</h6> 
<p>占位<br> 后台管理系统完整的登录流程，后面再说</p> 
<h5><a id="2__4469"></a>（2） 其他导航守卫</h5> 
<p><a href="https://router.vuejs.org/zh/introduction.html" rel="nofollow">导航守卫官网</a></p> 
<p><em><strong>完整的导航解析流程</strong></em></p> 
<ul><li>导航被触发</li><li>在失活的（跳转时，离开的那个）组件里调用<code>beforeRouteLeave</code>守卫</li><li>调用全局的<code>beforeEach</code>守卫⭐</li><li>在重用的组件里调用<code>beforeRouteUpdate</code>守卫(2.2+)⭐</li><li>在路由配置里调用的<code>beforeEnter</code></li><li>解析异步路由组件（就是那些做懒加载的组件，下载并解析那些单独的js文件）</li><li>在被激活的（跳转时，打算进入的那个）组件里调用<code>beforeRouteEnter</code> 
  <ul><li>（<code>beforeRouteEnter(next){this -&gt; 目前还获取不到组件实例}</code>）</li><li>太复杂不看了，视频P1083</li></ul> </li><li>调用全局的<code>beforeRoutesolve</code>守卫(2.5+)（异步组件解析之后，在跳转之前）</li><li>导航被确认 （进行导航）</li><li>调用全局的<code>afterEach</code>钩子</li><li>触发<code>DOM</code>更新 （template -&gt; DOM更新）</li><li>调用<code>beforeRouteEnter</code>守卫中传给<code>next</code>的<code>回调函数</code>，创建好的组件实例会作为回调函数的参数传入 
  <ul><li>（<code>beforeRouteEnter(to,from,next){ next(vm -&gt; {}) }</code>）</li></ul> </li></ul> 
<h3><a id="8_vuexPina__4491"></a>8. vuex/Pina 状态管理</h3> 
<p>以前用Vuex(vuex4)，现在用Pina(vuex5)</p> 
<p><em><strong>认识应用状态管理</strong></em></p> 
<p>在开发中，我们会的应用程序需要<em>处理各种各样的数据</em>，这些数据<em>需要保存在</em>我们应用程序中的<em>某一个位置</em>，对于这些<em>数据的管理</em>我们就称之为是<strong>状态管理</strong>。</p> 
<p><em><strong>之前管理状态</strong></em></p> 
<ul><li>在Vue开发中，我们使用组件化的开发方式；</li><li>而在组件中我们定<em>义data</em>或者在setup中<em>返回使用的数据</em>，这些数据我们称之为<strong>state</strong>；</li><li>在模块template中我们可以<em>使用这些数据</em>，模块最终会<em>被渲染成DOM</em>，我们<em>称之为View</em>；</li><li>在模块中我们会产生<em>一些行为事件</em>，<strong>处理</strong>这些<strong>行为事件</strong>时，有<strong>可能会修改state</strong>，这些行为事件我们称之为<strong>actions</strong>；</li></ul> 
<p><img src="https://images2.imgbox.com/ba/4f/bKxKMTpS_o.png" alt="20230914034134"></p> 
<p><em><strong>复杂的状态管理</strong></em></p> 
<ul><li>JavaScript开发的应用程序，已经变得<strong>越来越复杂</strong>了： 
  <ul><li>JavaScript需要管理的状态越来越多，越来越复杂；</li><li>这些状态包括<em>服务器返回的数据</em>、<em>缓存数据</em>、<em>用户操作产生的数据</em>等等；</li><li>也包括一些<em>UI的状态</em>，比如某些元素<em>是否被选中</em>，<em>是否显示加载动效</em>，<em>当前分页</em>；</li></ul> </li><li>当我们的应用遇到<strong>多个组件共享状态</strong>时，单向数据流的<strong>简洁性很容易被破坏</strong>： 
  <ul><li><em>多个</em>视图<em>依赖</em>于<em>同一</em>状态；</li><li>来自不同视图的行为<em>需要变更同一状态</em>；</li></ul> </li><li>我们是否可以<strong>通过组件数据的传递</strong>来完成呢？ 
  <ul><li>对于一些<strong>简单的状态</strong>，确实可以<em>通过props的传递或者Provide的方式</em>来共享状态；</li><li>但是对于<strong>复杂的状态</strong>管理来说，显然单纯通过传递和共享的方式是<strong>不足以解决问题的</strong>，比如兄弟组件如何共享数据呢？</li></ul> </li></ul> 
<h4><a id="81_vuex_4521"></a>8.1. vuex</h4> 
<p><em><strong>PPT介绍</strong></em></p> 
<ul><li>管理不断变化的state本身是非常困难的： 
  <ul><li>状态之间相互会存在依赖，一个状态的变化会引起另一个状态的变化，View页面也有可能会引起状态的变化；</li><li>当应用程序复杂时，state在什么时候，因为什么原因而发生了变化，发生了怎么样的变化，会变得非常难以控制和追踪；</li></ul> </li><li>因此，我们是否可以考虑将组件的<strong>内部状态抽离出来</strong>，以一个全局单例的方式来管理呢？ 
  <ul><li>在这种模式下，我们的组件树构成了一个<em>巨大的 “试图View”</em>；</li><li>不管在树的哪个位置，<em>任何组件都能获取状态或者触发行为</em>；</li><li>通过定义和隔离状态管理中的各个概念，并通过<em>强制性的规则来维护视图和状态间的独立性</em>，我们的代码边会变得更加结构化和易于维护、跟踪；</li></ul> </li><li>这就是Vuex背后的基本思想，它借鉴了Flux、Redux、Elm（纯函数语言，redux有借鉴它的思想）；</li><li>当然，目前Vue官方也在推荐使用Pinia进行状态管理，我们后续也会进行学习。</li></ul> 
<p>总结：<strong>将常用的状态在仓库统一管理</strong><br> <img src="https://images2.imgbox.com/80/af/1yYgKnFg_o.png" alt="20230914034814"></p> 
<p><em><strong>手动安装</strong></em><br> <code>npm install vuex</code></p> 
<h5><a id="1__4541"></a>（1） 基本使用</h5> 
<h6><a id="__4543"></a>❥ 简单的说</h6> 
<p>src/store/index.js中</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token keyword">const</span>  store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> 
  <span class="token comment">// 创建状态</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>  <span class="token comment">// {}外加() 表示返回一个对象</span>
    a <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> 
  <span class="token comment">// 创建相关的方法</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
    <span class="token function">fangfa</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
      state<span class="token punctuation">.</span>a<span class="token operator">++</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> store
</code></pre> 
<p>vue3文件</p> 
<ol><li>tamplate中使用<code>{<!-- -->{ $store.state.counter }}</code>直接调用</li><li>js，点击修改</li></ol> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> useStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">fangfa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>counter<span class="token punctuation">)</span>  <span class="token comment">// 看看不改，注意这个复制给变量时，不是响应式的</span>
  store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">"increment"</span><span class="token punctuation">)</span>         <span class="token comment">// 就是要改的时候，调用一下 ⭐</span>
<span class="token punctuation">}</span>
</code></pre> 
<ol start="3"><li>js写成响应式的变量，tamplate里直接<code>{<!-- -->{counter}}</code></li></ol> 
<pre><code class="prism language-js"><span class="token keyword">const</span> counter <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>counter<span class="token punctuation">)</span>  <span class="token comment">// 只读、单个数据的、响应式数据</span>
</code></pre> 
<p>vue2文件(options api)</p> 
<ol><li>tamplate中使用 <code>{<!-- -->{ storeCounter }}</code> (名字是自定义的)</li><li>js</li></ol> 
<pre><code class="prism language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">stroreCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>counter
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h6><a id="__4601"></a>❥ 详细的说</h6> 
<p>(options api没写在这一块，直接看简单说明就好)</p> 
<p><em>src/store/index.js</em> 创建状态</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token keyword">const</span>  store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token comment">// 1.箭头函数写法</span>
  <span class="token function-variable function">state</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>      <span class="token comment">// {} 加上 ({}) 表示返回一个对象，解构的知识</span>
    <span class="token literal-property property">counter</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token comment">// 2.普通写法</span>
  <span class="token comment">// state(){  return { }  }</span>

  <span class="token comment">// 3.定义mutations对象，在此定义状态的修改方法,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
    <span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
      state<span class="token punctuation">.</span>counter<span class="token operator">++</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 导出store</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> store
</code></pre> 
<p><em>main.js</em> 调用方法<br> <img src="https://images2.imgbox.com/b4/1d/LSkhDezw_o.png" alt="20230914042847"></p> 
<p><em>home.vue</em> 使用方法</p> 
<ul><li>在tamplate中使用<code>{<!-- -->{ $store.state.counter }}</code>，它是响应式变化的</li><li>在js中使用👇</li></ul> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>increment<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> useStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>counter<span class="token operator">++</span> <span class="token comment">// 这样是不规范的，不可以这样做</span>
  store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">"increment"</span><span class="token punctuation">)</span> <span class="token comment">// vuex中这样才规范</span>

<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h6><a id="_PPT_4654"></a>❥ PPT解释</h6> 
<h6><a id="_Store_4656"></a>(❥) 创建Store</h6> 
<ul><li>每一个Vuex应用的核心就是store（仓库）： 
  <ul><li>store本质上是一个容器，它包含着你的应用中大部分的状态（state）；</li></ul> </li><li>Vuex和单纯的全局对象有什么区别呢？</li><li>第一：Vuex的状态存储是响应式的 
  <ul><li>当Vue组件从store中读取状态的时候，若store中的状态发生变化，那么相应的组件也会被更新；</li></ul> </li><li>第二：你不能直接改变store中的状态 
  <ul><li>改变store中的状态的唯一途径就显示提交 (commit) mutation；</li><li>这样使得我们可以方便的跟踪每一个状态的变化，从而让我们能够通过一些工具帮助我们更好的管理应用的状态；</li></ul> </li><li>使用步骤： 
  <ul><li>创建Store对象；</li><li>在app中通过插件安装；</li></ul> </li></ul> 
<h6><a id="_store_4670"></a>(❥) 在组件中使用store</h6> 
<p>跟上面一样</p> 
<h5><a id="2__4674"></a>（2） 单一状态树</h5> 
<ul><li>Vuex 使用单一状态树: 
  <ul><li>用一个对象就包含了全部的应用层级的状态</li><li>采用的是SSOT，single Source of Truth，也可以翻译成单一数据源</li></ul> </li><li>这也意味着，每个应用将仅仅包含一个 store 实例 
  <ul><li>单状态树和模块化并不冲突，后面我们会讲到module的概念</li></ul> </li><li>单一状态树的优势: 
  <ul><li>如果你的状态信息是保存到多个Store对象中的，那么之后的管理和维护等等都会变得特别困难；</li><li>所以Vuex也使用了单一状态树来管理应用层级的全部状态单一状态树能够让我们最直接的方式找到某个状态的片段而且在之后的维护和调试过程中，也可以非常方便的管理和维护</li></ul> </li></ul> 
<p><em><strong>chatgpt</strong></em></p> 
<p>假设你正在构建一个购物车应用，其中包含商品列表、购物车中的商品数量以及用户信息等数据。在使用Vuex时，你可以将这些数据存储在Vuex的单一状态树中。</p> 
<p>在Vuex的store中，你可以定义一个状态对象，例如：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">products</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 商品列表</span>
    <span class="token literal-property property">cart</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 购物车中的商品</span>
    <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token keyword">null</span> <span class="token comment">// 用户信息</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>在上述例子中，state对象包含了商品列表、购物车和用户信息。这些数据可以被多个组件共享和访问。</p> 
<p>例如，你可以在商品列表组件中获取商品列表：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">products</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>products<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>同时，在购物车组件中，你可以获取购物车中的商品数量：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">cartCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>cart<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>通过单一状态树，你可以方便地在不同的组件中访问和修改这些数据，而不需要通过props或事件来传递数据。</p> 
<p>当你在某个组件中修改了状态，例如向购物车中添加了一个商品，你可以使用mutations来更新状态：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">addToCart</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> product</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      state<span class="token punctuation">.</span>cart<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>组件中可以通过调用mutations来更新状态：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'addToCart'</span><span class="token punctuation">,</span> product<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>这样，所有订阅了状态的组件都可以立即响应状态的变化。</p> 
<p>这只是一个简单的例子，但希望能够帮助你理解如何使用Vuex的单一状态树来管理应用的状态。在实际应用中，你可以根据具体需求定义更多的状态和相应的操作。</p> 
<h5><a id="3_mapState_4760"></a>（3） mapState映射</h5> 
<p>在tamplate中使用<code>{<!-- -->{ $store.state.counter }}</code>不太简洁，所以我们使用映射的方法来简化<code>{<!-- -->{ }}</code>的内容</p> 
<p><em><strong>几种方法</strong></em></p> 
<p><img src="https://images2.imgbox.com/ba/40/ytbPar8M_o.png" alt="20230922061349"></p> 
<p>(注意：incrementLevel()方法这么写<em>是不对的</em>，只是为了快速参考)</p> 
<p>因为<strong>mapState在vuex中不好用</strong>，所以我们<strong>使用最后一种</strong></p> 
<p><em><strong>代码</strong></em></p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{<!-- -->{level}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">                  <span class="token comment">// vue2 options api</span>
  <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> mapState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>       <span class="token comment">// 直接结构</span>
        <span class="token function-variable function">name</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
        <span class="token function-variable function">level</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>level
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">            <span class="token comment">// vue3 composition api</span>
  <span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> useStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
  
  <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> name<span class="token punctuation">,</span> level <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>state<span class="token punctuation">)</span>     <span class="token comment">// const {顺便解构} = 响应式（state）</span>

<span class="token comment">//       解构  起别名，给个默认值 </span>
<span class="token comment">// const { name: sName, level: level = 0 }</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="82_Statevuex__pnia_4806"></a>8.2. 核心状态State（vuex / pnia）</h4> 
<h4><a id="83_Gettersvuex__pnia_4808"></a>8.3. 核心状态Getters（vuex / pnia）</h4> 
<h4><a id="84_Mutationsvuex_4810"></a>8.4. 核心状态Mutations（vuex）</h4> 
<h4><a id="85_Actionsvuex__pnia_4812"></a>8.5. 核心状态Actions（vuex / pnia）</h4> 
<h4><a id="86_Modulesvuex_4814"></a>8.6. 核心状态Modules（vuex）</h4> 
<h3><a id="9__4816"></a>9. 搭建项目</h3> 
<p>主要有以下几种方法</p> 
<ol><li> <p><strong>CDN引入方式</strong>：这种方法适用于简单的页面，只需要在HTML文件中引入Vue的CDN链接即可。这种方式在Vue 2和Vue 3中都适用。</p> </li><li> <p><strong>Vue CLI 脚手架</strong>：Vue CLI是Vue<em>官方提供</em>的脚手架工具，可以快速搭建起一个Vue项目，并且提供了一些便捷的功能，如<em>自动生成代码</em>、<em>打包压缩</em>等。在Vue 2中，通过命令行输入“vue create 项目名”即可创建项目；而在Vue 3中，使用Vue CLI需要先全局安装Vue CLI 4.x或以上版本，然后通过命令行输入“vue create 项目名”创建项目。</p> </li><li> <p><strong>使用Webpack手动配置</strong>：如果想要更加灵活地配置项目，可以选择手动配置Webpack。在Vue 2中，需要先安装Vue Loader和相关插件，然后通过Webpack配置文件进行相关配置；而在Vue 3中，Vue Loader已经与Vue CLI集成，只需要在Webpack配置文件中引入Vue即可开始开发。</p> </li><li> <p><strong>使用Vite</strong>：Vite是<em>Vue3官方推荐的构建工具</em>，可以快速搭建Vue项目，并且具备高效的开发体验。Vite使用ES模块化机制来加载代码，能够极大地提升项目的启动速度和开发效率。使用Vite搭建Vue项目非常简单，只需要全局安装Vite并执行“vite create 项目名”即可创建项目。</p> </li></ol> 
<h4><a id="91_Vue_CLI__4828"></a>9.1. Vue CLI 脚手架</h4> 
<h5><a id="1__4830"></a>（1） 安装</h5> 
<ol><li>安装　　　<code>npm install @vue-cli -g</code> 不行时用 <code>npm install -g @vue/cli</code></li><li>查看版本　<code>vue --version</code></li></ol> 
<h5><a id="2___vue_create__4835"></a>（2） 创建项目 —— vue create 项目名称</h5> 
<ol><li> <p><code>vue create 项目名称</code>，（底层打包工具是 webpack）</p> </li><li> <p>是否使用淘宝源　＞＞　no<br> <img src="https://images2.imgbox.com/9a/e0/rgWay547_o.png" alt="在这里插入图片描述"></p> </li><li> <p>选择预设　＞＞　Manually select features 手动选择新特性<br> <img src="https://images2.imgbox.com/ec/f1/bXbi0TlR_o.png" alt="在这里插入图片描述"></p> </li><li> <p>后期做项目会选择：<br> <img src="https://images2.imgbox.com/2c/2d/s8TsrdgW_o.png" alt="在这里插入图片描述"></p> </li><li> <p>选择vue版本　＞＞　3.x<br> <img src="https://images2.imgbox.com/cd/f8/ZaDNc3F3_o.png" alt="在这里插入图片描述"></p> </li><li> <p>babel放独立文件还是package.json<br> <img src="https://images2.imgbox.com/1b/c9/O2NkE5iM_o.png" alt="在这里插入图片描述"></p> </li><li> <p>是否生成预设　＞＞　yes　＞＞　名称<br> <img src="https://images2.imgbox.com/98/05/KmiGVp2g_o.png" alt="在这里插入图片描述"></p> </li><li> <p>使用工具　＞＞　NPM 或者 PNPM<br> <img src="https://images2.imgbox.com/8b/64/cjz1qfeG_o.png" alt="在这里插入图片描述"></p> </li><li> <p>项目创建成功<br> <img src="https://images2.imgbox.com/08/5d/E4x5JZwA_o.png" alt="在这里插入图片描述"></p> </li><li> <p>启动服务 <code>npm run server</code> ，更改了配置文件得重新启动服务</p> </li><li> <p>打开项目 <code>http://localhost:8080/</code></p> </li></ol> 
<h5><a id="3___npm_init_vuelatest_4867"></a>（3） 创建项目 —— npm init vue@latest</h5> 
<p>（底层打包工具是vite，越来越流行，打包效率高？<strong>待核实</strong>）</p> 
<ul><li>是否安装create-vue，y</li><li>项目名称</li><li>typeScript，n</li><li>jsx，n</li><li>暂时都n</li><li>创建成功👇<br> <img src="https://images2.imgbox.com/d3/19/HA1P5R37_o.png" alt="在这里插入图片描述"></li></ul> 
<h5><a id="4__4879"></a>（4） 区别</h5> 
<p>（来自chatgdp）</p> 
<p><code>npm init vue@latest</code>和<code>vue create</code> 项目名称都是用于创建Vue.js项目的命令，但它们有以下不同点：</p> 
<ol><li> <p><code>npm init vue@latest</code>是通过npm包管理器在当前目录下初始化Vue.js项目，并生成一个package.json文件。<br> 而<code>vue create 项目名称</code>则是通过Vue CLI工具在指定目录下创建新的Vue.js项目。</p> </li><li> <p><code>npm init vue@latest</code>只会安装Vue.js框架本身，你需要手动安装其他依赖项，如Vue Router、Vuex等。<br> <code>vue create 项目名称</code>可以快速构建带有预设置集成的Vue.js应用程序，包括路由、状态管理、Linter、测试等等。它还提供了各种选项和预设模板，方便你根据需求进行选择。</p> </li></ol> 
<p>因此<br> 如果你想要更加<strong>自定义化</strong>地创建Vue.js项目，则可以使用<code>npm init vue@latest</code>；<br> 如果你想要<strong>更快捷</strong>地创建符合标准规范的Vue.js应用程序，则可以选择<code>vue create 项目名称</code>。</p> 
<h4><a id="92__4895"></a>9.2. 项目结构</h4> 
<p><img src="https://images2.imgbox.com/dd/9b/LS3pY6xk_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="1_browserlistrc__4899"></a>（1） .browserlistrc 浏览器视配文件</h5> 
<p>/–<code>&gt;1%</code> 市场占有率大于1%<br> <code>last 2 versions</code> 支持最后两个版本<br> <code>not dead</code> 还在维护的<br> <code>not ie 11</code> 非ie11</p> 
<h5><a id="2__4906"></a>（2） 配置别名</h5> 
<p>vue.config.js</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> defineConfig <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@vue/cli-service'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">transpileDependencies</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

  <span class="token literal-property property">configureWebpack</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 配置路径别名</span>
      <span class="token comment">// @是已经配置好的路径别名: 对应的是src路径</span>
      <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string-property property">"utils"</span><span class="token operator">:</span> <span class="token string">"@/utils"</span> 
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>使用 <code>utils/文件夹/文件夹/math.js</code> 时，可以直接写 <code>utils/math</code>，（此时没有文件路径提示）</p> 
<p>添加文件路径提示：jsconfig.json</p> 
<pre><code class="prism language-javascript"><span class="token string-property property">"paths"</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token string-property property">"utils/*"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">"src/utils/*"</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>解释 jsconfig.json<br> <img src="https://images2.imgbox.com/53/a5/uCorxhHZ_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="3_vscode__vue__4943"></a>（3） vscode 关于 vue 的插件</h5> 
<p>vetur：推荐在 vue2 使用　　　　　　　　　　　　✗<br> volar：推荐在vue3使用，目前比较好用　　　　　⭐</p> 
<h5><a id="4_style__4948"></a>（4） style 作用域</h5> 
<ul><li>在 app.vue 内设置的常见样式<code>.title { }</code>，会使底下其他组件的<code>.title { }</code>生效，为不影响他们，添加<code>&lt;style scoped&gt;&lt;/style&gt;</code> 生成自己的作用域</li></ul> 
<h3><a id="10__4952"></a>10. 概念</h3> 
<h4><a id="101_VNode_4954"></a>10.1. VNode</h4> 
<ol><li>全程Virtual Node，虚拟节点</li><li>无论是组件还是元素，它们最终在Vue中表示出来的都是一个个VNode</li><li>VNode的本质是一个JavaScript的对象</li><li>template 👉 VNode 👉 真实DOM</li></ol> 
<h4><a id="102_DOM_4961"></a>10.2. 虚拟DOM</h4> 
<p><img src="https://images2.imgbox.com/24/bf/uaHsdlCX_o.png" alt="20230516045514"></p> 
<ol><li>由多个虚拟节点（VNode）组成一颗树（虚拟Dom）</li><li>为什么要生成虚拟DOM？ 
  <ul><li>便于跨平台，写一份代码渲染到多个平台上<br> <img src="https://images2.imgbox.com/6d/12/6wuNSppr_o.png" alt="20230516050157"></li></ul> </li></ol> 
<h4><a id="103_proxy_4970"></a>10.3. proxy</h4> 
<p>proxy 代理对象，解释：<a href="https://juejin.cn/post/6975858843729264653" rel="nofollow">《一篇彻底理解Proxy - LBJ》</a></p> 
<h4><a id="104_elapp_4974"></a>10.4. el:#app</h4> 
<p>意思是把前面html页面中id='app进行了染</p> 
<h4><a id="105_event_4978"></a>10.5. $event</h4> 
<p><img src="https://images2.imgbox.com/06/b9/cVDaVc5Z_o.png" alt="20230612084533"></p> 
<h4><a id="106__4982"></a>10.6. 解构</h4> 
<p>ES6语法，它是一种方便的方式来从数组或对象中提取值并将其赋给变量。</p> 
<p>解构可以用于数组和对象</p> 
<p><em><strong>解构数组</strong></em></p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span>  <span class="token comment">// 开始解构</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre> 
<p><em><strong>解构对象</strong></em></p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span>  <span class="token comment">// 开始解构</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre> 
<h4><a id="107_token_5007"></a>10.7. token</h4> 
<p>保存token <code>localStorage.setItem("token","pyy")</code></p> 
<p>调用token <code>const token = localStorage.getItem("token")</code></p> 
<p>删除token <code>localStorage.removeItem("token")</code></p> 
<h3><a id="11__5015"></a>11. 案例</h3> 
<h4><a id="111__5017"></a>11.1. 购物车</h4> 
<p><em><strong>效果</strong></em><br> <img src="https://images2.imgbox.com/1b/53/WDDeiDFg_o.png" alt="在这里插入图片描述"></p> 
<p><em><strong>代码截图</strong></em><br> <img src="https://images2.imgbox.com/ea/c8/ReUKhTAP_o.png" alt="在这里插入图片描述"> <img src="https://images2.imgbox.com/50/de/Yz2MaFZ7_o.png" alt="在这里插入图片描述"></p> 
<p><em><strong>分析</strong></em></p> 
<ol><li>books，数据来源：本地和服务器写法<br> <img src="https://images2.imgbox.com/ec/77/AMrNWEZ1_o.png" alt="在这里插入图片描述"></li></ol> 
<p><code>created(){}</code> 生命周期回调函数:</p> 
<p>当前的组件被创建时自动执行一般在该函数中, 会进行网络请求</p> 
<ol start="2"><li>总价的两种计算方法，totalPrice() {} ，有高阶函数写法 <a href="https://www.runoob.com/jsref/jsref-reduce.html" rel="nofollow">reduce 累加器</a><br> <img src="https://images2.imgbox.com/6c/8f/s9SEXHSz_o.png" alt="在这里插入图片描述"></li></ol> 
<p>该高阶仅有一句话，可省略为<br> <img src="https://images2.imgbox.com/9d/fa/30RSC4N3_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/0e/fd/4x7Rzda6_o.png" alt="20230521232409"></p> 
<ol><li>有多个价格在不同的位置，但前面都要添加￥，可以通过设置一个方法的形式添加<br> <img src="https://images2.imgbox.com/da/e5/LukBe906_o.png" alt="在这里插入图片描述"></li><li>监听点击了哪一个商品的 <code>+</code> / <code>-</code><br> <img src="https://images2.imgbox.com/c3/ff/aMXFa6J9_o.png" alt="在这里插入图片描述"></li><li>小于等于1时，按钮禁用<br> <img src="https://images2.imgbox.com/f7/52/C4cMIL02_o.png" alt="在这里插入图片描述"></li><li>移除商品<br> <img src="https://images2.imgbox.com/65/ee/CbcNvoMB_o.png" alt="在这里插入图片描述"></li><li>购物车移除全部商品后，文字提示<br> <img src="https://images2.imgbox.com/27/f4/K5FOokF5_o.png" alt="在这里插入图片描述"></li><li>点击效果，点击行变色，其他行还原<br> <img src="https://images2.imgbox.com/45/78/8i5l5luR_o.png" alt="在这里插入图片描述"></li></ol> 
<h4><a id="112__5055"></a>11.2. 切换+通信</h4> 
<p>看 <a href="#5-%E9%80%9A%E4%BF%A1%E6%A1%88%E4%BE%8B%E4%BA%8C" rel="nofollow">5.2 (5) 通信案例（二）</a>课程提供的综合案例</p> 
<p>简短的切换案例</p> 
<p><img src="https://images2.imgbox.com/72/c1/FYvC8qda_o.png" alt="20230724210810"></p> 
<h4><a id="113__5063"></a>11.3. 列表房源</h4> 
<p>视频1063~1068</p> 
<p><img src="https://images2.imgbox.com/7a/37/0ZA11IMX_o.png" alt="20230818054013"><br> <img src="https://images2.imgbox.com/86/14/NTyzfAm6_o.png" alt="20230818045928"></p> 
<p>（roomlist部分放下来解释）<br> <img src="https://images2.imgbox.com/6d/49/g6zQUhAT_o.png" alt="20230818063408"></p> 
<p>（css解释，margin左右8px，导致文字与图片没有对齐，那就在整体的inner处-8px，让div外扩16px，达到对齐效果）</p> 
<p>（模拟网络请求：import并不是请求网络数据，而是导入的本地数据，这里模拟的是：刚刚进入网页时加载空对象ref({})，一秒后获取数据；因为import then返回的是export default对象，所以要.default）</p> 
<p><a href="#710-%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B-%E6%88%BF%E6%BA%90%E5%88%97%E8%A1%A8" rel="nofollow">回到7.10</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/591cf2ce559697e97a6abb722c65f9c2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">无敌了！Redis进军磁盘存储！</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1485e5b8e8a8a90704527de11175e710/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【微信小程序开发】之微信授权登陆</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>