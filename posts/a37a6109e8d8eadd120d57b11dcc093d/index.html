<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CSS 变量由浅入深，提升效率必备知识！ - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CSS 变量由浅入深，提升效率必备知识！" />
<meta property="og:description" content="CSS变量（又名自定义属性）已在Web浏览器中支持了近四年。 我一般也会根据项目情况使用它们。 它们非常有用且易于使用，但是前端开发人员通常可能会误用或误解它们。
简介 CSS变量是在CSS文档中定义的值，其目的是可重用性并减少CSS值中的冗余。 下面是一个基本示例。
.section { border: 2px solid #235ad1; } .section-title { color: #235ad1; } .section-title::before { content: &#34;&#34;; display: inline-block; width: 20px; height: 20px; background-color: #235ad1; } 在此代码段中，#235ad1使用了3次。 想象一下，对于一个大型项目，不同的CSS文件，如果哪天被要求更改颜色。 我们可以做的最好快的方式就是“查找并替换”。
使用CSS变量，可以更快解决这个问题。 定义变量名需要用--开头。 首先，我们现在将在:root或&lt;html&gt;元素中定义变量。
:root { --color-primary: #235ad1; } .section { border: 2px solid var(--color-primary); } .section-title { color: var(--color-primary); } .section-title::before { /* Other styles */ background-color: var(--color-primary); } 是不是比前面的干净得多？ --color-primary变量是全局变量，因为我们在:root元素中定义了它。 但是，我们还可以将变量范围限定到整个文档中的某些元素。
命名变量 与编程语言命名变量相似，CSS 变量的有效命名应包含字母数字字符，下划线和破折号。 另外，值得一提的是 CSS 变量区分大小写。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/a37a6109e8d8eadd120d57b11dcc093d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-02T23:58:16+08:00" />
<meta property="article:modified_time" content="2023-08-02T23:58:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CSS 变量由浅入深，提升效率必备知识！</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>CSS变量（又名自定义属性）已在Web浏览器中支持了近四年。 我一般也会根据项目情况使用它们。 它们非常有用且易于使用，但是前端开发人员通常可能会误用或误解它们。</p> 
<h3 id="item-1">简介</h3> 
<p>CSS变量是在CSS文档中定义的值，其目的是可重用性并减少CSS值中的冗余。 下面是一个基本示例。</p> 
<p></p> 
<p class="img-center"><img alt="clipboard.png" height="435" src="https://images2.imgbox.com/97/34/JEjm3fuI_o.png" width="1098"></p> 
<pre>.section {
  border: 2px solid #235ad1;
}

.section-title {
  color: #235ad1;
}

.section-title::before {
  content: "";
  display: inline-block;
  width: 20px;
  height: 20px;
  background-color: #235ad1;
}</pre> 
<p>在此代码段中，<code>#235ad1</code>使用了3次。 想象一下，对于一个大型项目，不同的CSS文件，如果哪天被要求更改颜色。 我们可以做的最好快的方式就是“查找并替换”。</p> 
<p>使用CSS变量，可以更快解决这个问题。 定义变量名需要用<code>--</code>开头。 首先，我们现在将在<code>:root</code>或<code>&lt;html&gt;</code>元素中定义变量。</p> 
<pre>:root {
  --color-primary: #235ad1;
}

.section {
  border: 2px solid var(--color-primary);
}

.section-title {
  color: var(--color-primary);
}

.section-title::before {
  /* Other styles */
  background-color: var(--color-primary);
}</pre> 
<p>是不是比前面的干净得多？ <code>--color-primary</code>变量是全局变量，因为我们在<code>:root</code>元素中定义了它。 但是，我们还可以将变量范围限定到整个文档中的某些元素。</p> 
<h3 id="item-2">命名变量</h3> 
<p>与编程语言命名变量相似，CSS 变量的有效命名应包含字母数字字符，下划线和破折号。 另外，值得一提的是 CSS 变量区分大小写。</p> 
<pre>/* 合法命名 */
:root {
    --primary-color: #222;
    --_primary-color: #222;
    --12-primary-color: #222;
    --primay-color-12: #222;
}

/* 非法命名 */
:root {
    --primary color: #222; /* Spacings are not allowed */
    --primary$%#%$#
}</pre> 
<h3 id="item-3">作用域</h3> 
<p>CSS 变量也有自己的作用域，这个概念类似于其他编程语言。 以 JS 为例:</p> 
<pre>:root {
  --primary-color: #235ad1;
}

.section-title {
  --primary-color: d12374;
  color: var(--primary-color);
}</pre> 
<p>变量<code>element</code>是全局的，因此可以在<code>cool()</code>函数内部访问。 但是，只能在<code>cool()</code>函数中访问变量<code>otherElement</code>。</p> 
<pre>:root {
  --primary-color: #235ad1;
}

.section-title {
  --primary-color: d12374;
  color: var(--primary-color);
}</pre> 
<p>变量<code>--primary-color</code>是全局变量，可以从文档中的任何地方访问。 变量<code> --primary-color</code>由于是在<code>.section-title</code>定义的，所以只能在<code>.section-title</code>中访问。</p> 
<p>下面是一个比较直观的示例图片，可以加强我们的理解：</p> 
<p></p> 
<p class="img-center"><img alt="clipboard.png" height="656" src="https://images2.imgbox.com/aa/6b/JkyWoHkZ_o.png" width="1098"></p> 
<p>变量<code>--primary-color</code>用于标题颜色。 我们想为<code>作者名</code>和<code>最新文章标题</code>自定义颜色，因此我们需要将<code>--primary-color</code>覆盖。 这同样适用于<code>--unit</code>变量。</p> 
<pre>/* 全局变量 */
:root {
  --primary-color: #235ad1;
  --unit: 1rem;
}

/* section-title 默认的颜色和间距 */
.section-title {
  color: var(--primary-color);
  margin-bottom: var(--unit);
}

/* 覆盖 section-title 样式 */
.featured-authors .section-title {
  --primary-color: #d16823;
}

.latest-articles .section-title {
  --primary-color: #d12374;
  --unit: 2rem;
}</pre> 
<h3 id="item-4">回退方案</h3> 
<p>这里的回退不是不支持 CSS 变量的回退，而是 CSS 变量可以支持回退方案。考虑以下示例：</p> 
<pre>.section-title {
  color: var(--primary-color, #222);
}</pre> 
<p>注意，<code>var()</code>有多个值。第二个<code>#221</code>只在变量<code>--primary-color</code>由于某种原因没有定义的情况下有效。不仅如此，我们还可以将<code>var()</code>嵌套到另一个<code>var()</code>中。</p> 
<pre>.section-title {
  color: var(--primary-color, var(--black, #222));
}</pre> 
<p>在变量值依赖于某个动作的情况下，该特性非常有用。当变量没有值时，为它提供一个回退很重要。</p> 
<h3 id="item-5">用例一：控制组件的大小</h3> 
<p></p> 
<p class="img-center"><img alt="clipboard.png" height="530" src="https://images2.imgbox.com/22/15/q5FUsAtv_o.png" width="1098"></p> 
<p>在设计系统中，按钮通常有多种尺寸。 通常，按钮可以具有三种尺寸（<code>Small</code>, <code>normal</code>, <code>large</code>）。 使用 CSS 变量来实现它并不容易：</p> 
<pre>.button {
  --unit: 1rem;
  padding: var(--unit);
}

.button--small {
  --unit: 0.5rem;
}

.button--large {
  --unit: 1.5rem;
}</pre> 
<p>通过在按钮组件作用域内更改变量<code>--unit</code>，我们创建了按钮的不同变体。</p> 
<h3 id="item-6">用例二：CSS 变量和 HSL 颜色</h3> 
<p><strong>HSL</strong>代表色调，饱和度，亮度。色相的值决定了颜色，饱和度和亮度值可以控制颜色的深浅。</p> 
<p></p> 
<p class="img-center"><img alt="clipboard.png" height="472" src="https://images2.imgbox.com/d3/30/IDLdMHdp_o.png" width="1052"></p> 
<pre>:root {
  --primary-h: 221;
  --primary-s: 71%;
  --primary-b: 48%;
}

.button {
  background-color: hsl(var(--primary-h), var(--primary-s), var(--primary-b));
  transition: background-color 0.3s ease-out;
}

/* 使背景更暗 */
.button:hover {
  --primary-b: 33%;
}</pre> 
<p>这里何通过减小变量<code>--primary-b</code>使按钮变暗。</p> 
<h3 id="item-7">用例三：比例调整</h3> 
<p>如果您使用过<code>Photoshop</code>，<code>Sketch</code>，<code>Figma</code>或<code>Adobe XD</code>之类的设计程序，那么我们会想在调整元素大小的同时按住<code>Shift</code>键以避免扭曲它。</p> 
<p>在CSS中，没有直接的方法来做到这一点，但是我们有一个简单的解决方法，使用CSS变量。</p> 
<p></p> 
<p class="img-center"><img alt="clipboard.png" height="285" src="https://images2.imgbox.com/60/53/hCCYn8Yy_o.png" width="1098"></p> 
<p>假设有一个图标，并且其宽度和高度应该相等。 我定义了变量<code>--size</code>，用于宽度和高度。</p> 
<pre>.icon {
  --size: 22px;
  width: var(--size);
  height: var(--size);
}</pre> 
<p>现在，您只需更改<code>--size</code>变量的值即可模拟<code>Shift</code>调整大小的效果。</p> 
<h3 id="item-8">用例四：CSS Grid</h3> 
<p>CSS 变量对于网格非常有用。 假设希望网格容器根据定义的首选宽度显示其子项。 与为每个变体创建类并复制CSS相比，使用变量更容易做到这一点。</p> 
<p></p> 
<p class="img-center"><img alt="clipboard.png" height="562" src="https://images2.imgbox.com/fb/b6/U31koe4N_o.png" width="1098"></p> 
<pre>.wrapper {
  --item-width: 300px;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(var(--item-width), 1fr));
  grid-gap: 1rem;
}

.wrapper-2 {
  --item-width: 500px;
</pre> 
<p>这样，我们可以创建一个完整的网格系统，该系统灵活，易于维护，并且可以在其他项目中使用。 可以将相同的概念应用于<code>grid-gap</code>属性。</p> 
<pre>wrapper {
  --item-width: 300px;
  --gap: 0;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(var(--item-width), 1fr));
}

.wrapper.gap-1 {
  --gap: 16px;
}</pre> 
<p></p> 
<p class="img-center"><img alt="clipboard.png" height="507" src="https://images2.imgbox.com/83/24/OSBt18wQ_o.png" width="1098"></p> 
<h3 id="item-9">用例五：全值声明，CSS 渐变</h3> 
<p>以全值表示，例如，类似渐变的东西。 如果整个系统中使用渐变或背景，将其存储到CSS变量中可能是一件好事。</p> 
<pre>:root {
  --primary-gradient: linear-gradient(150deg, #235ad1, #23d1a8);
}

.element {
  background-image: var(--primary-gradient);
}</pre> 
<p>或者我们可以存储一个值。 以角度为例:</p> 
<pre>.element {
  --angle: 150deg;
  background-image: linear-gradient(var(--angle), #235ad1, #23d1a8);
}

.element.inverted {
  --angle: -150deg;
}</pre> 
<p></p> 
<p class="img-center"><img alt="clipboard.png" height="359" src="https://images2.imgbox.com/b7/8b/x4e912UQ_o.png" width="1098"></p> 
<h3 id="item-10">用例六： Background Position</h3> 
<p>我们可以在 CSS 变量中包含多个值，这在需要根据特定上下文将元素放置在不同位置的情况下很有用。</p> 
<p></p> 
<p class="img-center"><img alt="clipboard.png" height="291" src="https://images2.imgbox.com/ad/f3/6CpF2IPC_o.png" width="1098"></p> 
<pre>.table {
  --size: 50px;
  --pos: left center;
  background: #ccc linear-gradient(#000, #000) no-repeat;
  background-size: var(--size) var(--size);
  background-position: var(--pos);
}</pre> 
<h3 id="item-11">用例七： 在明暗模式之间切换</h3> 
<p>现在，网站比以往任何时候都更需要深色和浅色模式。 使用CSS变量，我们可以存储它们的两个版本，并根据用户或系统偏好在它们之间切换。</p> 
<p></p> 
<p class="img-center"><img alt="clipboard.png" height="665" src="https://images2.imgbox.com/35/f1/bBaNyL4F_o.png" width="1098"></p> 
<pre>:root {
  --text-color: #434343;
  --border-color: #d2d2d2;
  --main-bg-color: #fff;
  --action-bg-color: #f9f7f7;
}

/* 添加到`&lt;html&gt;`元素的类*/
.dark-mode {
  --text-color: #e9e9e9;
  --border-color: #434343;
  --main-bg-color: #434343;
  --action-bg-color: #363636;
}</pre> 
<p></p> 
<p class="img-center"><img alt="图片描述" height="390" src="https://images2.imgbox.com/e3/ec/CgKIIblo_o.gif" width="771"></p> 
<h3 id="item-12">用例八： 设置默认值</h3> 
<p>在某些情况下，您将需要使用JavaScript设置CSS变量。 假设我们需要获取可扩展组件的高度。</p> 
<p>变量<code>--details-height-open</code>为空，它将被添加到特定的HTML元素中。 当JavaScript由于某种原因失败时，提供适当的默认值或后备值很重要。</p> 
<pre>.section.is-active {
  max-height: var(--details-height-open, auto);
}</pre> 
<p><code>auto</code>值是 JS 失败时的回退值，并且没有定义CSS变量<code>——details-height-open</code>。</p> 
<h3 id="item-13">用例九： 控制 wrapper 宽度</h3> 
<p></p> 
<p class="img-center"><img alt="clipboard.png" height="429" src="https://images2.imgbox.com/88/94/bYJrXMjj_o.png" width="1098"></p> 
<p>网站<code>wrapper</code> 可以有多种变化。有时候是需要一个小包装一个页面，一个大包装另一个页面。在这种情况下，合并CSS变量可能是有用的。</p> 
<pre>.wrapper {
  --size: 1140px;
  max-width: var(--size);
}

.wrapper--small {
  --size: 800px;
}</pre> 
<h3 id="item-14">用例十一： 动态网格项目</h3> 
<p>我们可以在<code>style</code>属性中添加<code>--item-width</code>变量，仅此而已。 例如，这种方法可以帮助建立网格原型。</p> 
<p><strong>HTML</strong></p> 
<pre>&lt;div class="wrapper" style="--item-width: 250px;"&gt;
  &lt;div&gt;&lt;/div&gt;
  &lt;div&gt;&lt;/div&gt;
  &lt;div&gt;&lt;/div&gt;
&lt;/div&gt;</pre> 
<p><strong>CSS</strong></p> 
<pre>.wrapper {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(var(--item-width), 1fr));
  grid-gap: 1rem;
}</pre> 
<p>事例：<a href="https://codepen.io/shadeed/pen/7d3e0d575a5cecb86233fc7d72fa90d4" rel="nofollow" title="https://codepen.io/shadeed/pe...">https://codepen.io/shadeed/pe...</a>点击预览</p> 
<h3 id="item-15">用例十二： 用户头像</h3> 
<p></p> 
<p class="img-center"><img alt="clipboard.png" height="575" src="https://images2.imgbox.com/8f/88/zUxTBA46_o.png" width="1098"></p> 
<p>另一个有用的用例是大小调整元素。 假设我们需要四种不同大小的用户头像，并且只能使用一个变量来控制其大小。</p> 
<pre>&lt;img src="user.jpg" alt="" class="c-avatar" style="--size: 1" /&gt;
&lt;img src="user.jpg" alt="" class="c-avatar" style="--size: 2" /&gt;
&lt;img src="user.jpg" alt="" class="c-avatar" style="--size: 3" /&gt;
&lt;img src="user.jpg" alt="" class="c-avatar" style="--size: 4" /&gt;</pre> 
<pre>.c-avatar {
  display: inline-block;
  width: calc(var(--size, 1) * 30px);
  height: calc(var(--size, 1) * 30px);
}</pre> 
<h3 id="item-16">用例十三： 媒体查询</h3> 
<p>组合CSS变量和媒体查询对于调整整个网站中使用的变量非常有用。 我能想到的最简单的示例是更改间距值。</p> 
<pre>:root {
  --gutter: 8px;
}

@media (min-width: 800px) {
  :root {
    --gutter: 16px;
  }
}</pre> 
<p>使用<code>--gutter</code>变量的任何元素都将根据视口大小更改其间距，这是不是很棒吗？</p> 
<h3 id="item-17">用例十四：继承</h3> 
<p>是的，CSS变量确实继承。如果父元素中定义了CSS变量，那么子元素将继承相同的CSS变量。我们看下面的例子：</p> 
<p><strong>HTML</strong></p> 
<pre>&lt;div class="parent"&gt;
  &lt;p class="child"&gt;&lt;/p&gt;
&lt;/div&gt;</pre> 
<p><strong>css</strong></p> 
<pre>.parent {
  --size: 20px;
}

.child {
  font-size: var(--size);
}</pre> 
<p><code>.child</code>元素可以访问变量<code>--size</code>，因为它从父元素继承了它。很有趣,那它在实际的项目中有啥用呢？</p> 
<p></p> 
<p class="img-center"><img alt="clipboard.png" height="530" src="https://images2.imgbox.com/f0/46/U7EsKUBH_o.png" width="1098"></p> 
<p>我们有一组以下需求的操作项</p> 
<ul><li>改变一个变量就可以改变所有项的大小</li><li>间距应该是动态的</li></ul> 
<p><strong>HTML</strong></p> 
<pre>&lt;div class="actions"&gt;
  &lt;div class="actions__item"&gt;&lt;/div&gt;
  &lt;div class="actions__item"&gt;&lt;/div&gt;
  &lt;div class="actions__item"&gt;&lt;/div&gt;
&lt;/div&gt;</pre> 
<p><strong>CSS</strong></p> 
<pre>.actions {
  --size: 50px;
  display: flex;
  gap: calc(var(--size) / 5);
}

.actions--m {
  --size: 70px;
}

.actions__item {
  width: var(--size);
  height: var(--size);
}</pre> 
<p>请注意，这里是如何将变量<code>--size</code>用于flexbox <code>gap</code>属性的。 这意味着间距可以是动态的，并且取决于<code>--size</code>变量。</p> 
<p>另一个有用的例子是使用CSS变量继承来定制CSS动画：</p> 
<pre>@keyframes breath {
  from {
    transform: scale(var(--scaleStart));
  }
  to {
    transform: scale(var(--scaleEnd));
  }
}

.walk {
  --scaleStart: 0.3;
  --scaleEnd: 1.7;
  animation: breath 2s alternate;
}

.run {
  --scaleStart: 0.8;
  --scaleEnd: 1.2;
  animation: breath 0.5s alternate;
}</pre> 
<p>这样，我们就不需要定义<code>@keyframes</code>两次，它将继承<code>.walk</code>和<code>.run</code>元素的定制CSS 变量。</p> 
<h3 id="item-18">CSS 变量的工作方式</h3> 
<p>当<code>var()</code>函数中的CSS变量无效时，浏览器将根据所使用的属性用初始值或继承值替换。</p> 
<pre>:root {
  --main-color: 16px;
}

.section-title {
  color: var(--main-color);
}</pre> 
<p>我使用<code>16px</code>是<code>color</code>属性的值。 这是完全错误的。 由于<code>color</code>属性是继承的，因此浏览器将执行以下操作：</p> 
<ul><li> <p>该属性是否可继承？</p> 
  <ul><li> <p>如果是，父节点是否拥有该属性?</p> 
    <ul><li>是的，继承该值</li><li>否:设置为初始值</li></ul></li><li>否:设置为初始值</li></ul></li></ul> 
<p>下面解释浏览器工作的流程图。</p> 
<p></p> 
<p class="img-center"><img alt="clipboard.png" height="723" src="https://images2.imgbox.com/dd/81/6ThBLRuG_o.png" width="1098"></p> 
<h3 id="item-19">网址值</h3> 
<p>我们可能无法控制网页中的所有资源，其中一些必须在线托管。 在这种情况下，您可以将链接的URL值存储在CSS变量中。</p> 
<pre>:root {
  --main-bg: url("https://example.com/cool-image.jpg");
}

.section {
  background: var(--main-bg);
}</pre> 
<p>但是，能想知道是否可以使用<code>url()</code>插入 CSS 变量。 考虑以下</p> 
<pre>:root {
  --main-bg: "https://example.com/cool-image.jpg";
}

.section {
  background: url(var(--main-bg));
}</pre> 
<p>由于<code>var(--main-bg)</code>被视为<code>url</code>本身，因此无效。 当浏览器计算出该值时，该值将不再有效，并且将无法按预期运行。</p> 
<h3 id="item-20">存储多个值</h3> 
<p>CSS 变量也可以表示多个值，看下面的例子：</p> 
<p></p> 
<p class="img-center"><img alt="clipboard.png" height="337" src="https://images2.imgbox.com/14/b5/XIiQEbAN_o.png" width="1098"></p> 
<pre>:root {
  --main-color: 35, 90, 209;
}

.section-title {
  color: rgba(var(--main-color), 0.75);
}</pre> 
<p>在示例中，我们有一个<code>rgba()</code>函数，并且RGB值存储在CSS变量中，以逗号分隔。 如果我们想根据元素调整<code>alpha</code>值，这样做可以提供灵活性。唯一的缺点是无法使用<code>DevTools</code>颜色选择器来调整<code>rgba</code>值。</p> 
<p>另一个例子是将它与<code>background</code>属性一起使用。</p> 
<pre>:root {
  --bg: linear-gradient(#000, #000) center/50px;
}

.section {
  background: var(--bg);
}

.section--unique {
  background: var(--bg) no-repeat;
}</pre> 
<h3 id="item-21"><code>@keyframes</code>规则中的动画变量</h3> 
<p>如果你阅读过CSS变量规范，则可能会读到“<code>动画污染</code>”一词。 这个想法是，在<code>@keyframes</code>规则中使用CSS变量时，无法对其进行动画处理。</p> 
<p><strong>html</strong></p> 
<pre>&lt;div class="box"&gt;&lt;/div&gt;</pre> 
<p><strong>CSS</strong></p> 
<pre>.box {
  width: 50px;
  height: 50px;
  background: #222;
  --offset: 0;
  transform: translateX(var(--offset));
  animation: moveBox 1s infinite alternate;
}

@keyframes moveBox {
  0% {
    --offset: 0;
  }
  50% {
    --offset: 50px;
  }
  100% {
    --offset: 100px;
  }
}</pre> 
<p>动画无法顺利进行。 它将仅对值 <code>(0, 50px, 100px)</code>进行动画处理。 根据CSS规范：</p> 
<blockquote> 
 <code>@keyframes</code>规则中使用的任何自定义属性都会受到动画污染，这将影响通过动画属性中的 
 <code>var()</code>函数引用它时如何处理它。 
</blockquote> 
<p>如果我们希望上述动画能够正常工作，则应采用老式的方法。 这意味着，我们需要用要设置动画的实际CSS属性替换变量。</p> 
<pre>@keyframes moveBox {
  0% {
    transform: translateX(0);
  }
  50% {
    transform: translateX(50px);
  }
  100% {
    transform: translateX(100px);
  }
}</pre> 
<h3 id="item-22">计算</h3> 
<p>你可能不知道可以使用 CSS 变量进行计算。 考虑下面示例：</p> 
<pre>.c-avatar {
  display: inline-block;
  width: calc(var(--size, 1) * 30px);
  height: calc(var(--size, 1) * 30px);
}</pre> 
<p><code>.c-avatar</code> 大小会有不同的变化。 我将默认值设置为<code>1</code>，所以默认大小为<code>(30px * 30px)</code>。 注意不同的类变化以及更改<code>--size</code>值如何导致化身的大小变化。</p> 
<pre>.c-avatar--small {
  --size: 2;
}

.c-avatar--medium {
  --size: 3;
}

.c-avatar--large {
  --size: 4;
}</pre> 
<h3 id="item-23">Devtools和CSS变量</h3> 
<p>我们可以在浏览器<code>DevTools</code>中使用一些有用的技巧，这样就能更轻松地使用CSS变量。</p> 
<h5>看到颜色</h5> 
<p>使用CSS变量时，看到颜色或背景值的视觉指示器是否有用？ Chrome和Edge证明了这一点。</p> 
<p></p> 
<p class="img-center"><img alt="clipboard.png" height="490" src="https://images2.imgbox.com/26/42/bPwXwncu_o.png" width="1098"></p> 
<h5>计算值</h5> 
<p>要查看CSS变量的计算值，只要将鼠标悬停或单击即可。</p> 
<p></p> 
<p class="img-center"><img alt="clipboard.png" height="732" src="https://images2.imgbox.com/a5/3f/9KgR62hl_o.png" width="848"></p> 
<h3 id="item-24">禁用CSS变量</h3> 
<p>当我们需要从使用CSS变量的所有元素中禁用CSS变量时，可以通过从定义它的元素中取消选中它来实现。 参见下图：</p> 
<p></p> 
<p class="img-center"><img alt="clipboard.png" height="252" src="https://images2.imgbox.com/af/b8/GLklGW1B_o.png" width="952"></p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5ba06396cbcff1127d5115f4483d05d1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">idea下载jar包，找不到问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4f88f925819e62a6b2bcc6141349d6d4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">WEB集群——tomcat</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>