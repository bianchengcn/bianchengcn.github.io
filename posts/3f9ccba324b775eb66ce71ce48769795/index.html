<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>看书标记【数据科学：R语言实战 2】 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="看书标记【数据科学：R语言实战 2】" />
<meta property="og:description" content="看书标记——R语言 Chapter 2 序列的数据挖掘2.1 模式2.1.1 Eclat 频繁项集的挖掘用法用eclat找到成年人行为的相似点查找数据集中的频繁项目集中于最高频率的示例 2.1.2 arulesNBMiner用法为频繁集挖掘Agrawal数据 2.1.3 Apriori用法评估购物篮中的关联 2.1.4 用TraMineR确定序列用法确定训练和职业中的序列 2.1.5 序列相似点用法示例 【数据科学：R语言实战 2】 Chapter 2 序列的数据挖掘 2.1 模式 eclat：用于项集模式检测，常用购物车
arules：确定数据集中的项目共现
apriori：学习数据集中的关联规则
TraMineR：挖掘序列的R包
2.1.1 Eclat 频繁项集的挖掘 寻找行为相似的模式，通过数据中的交集来估算同时频繁出现事件候选项（购物车项目）的支持度，然后通过对频繁候选项进行测试来证实数据集中的模式。
用法 Eclat可以使用arules包中的eclat()函数
参数
data 待分析的数据矩阵
parameter ECParameter或列表对象。ECParameter（support：界定最小支持度0.1；minlen：包含最小容量1；maxlen：包含最大容量10；target：界定了待挖掘关联项集的类型.）
control ECControl或列表的对象。ECControl（sort：1、2升序、-1降序、0未分类、-2事务容量和的降序；verbose：显示进度信息） 用eclat找到成年人行为的相似点 library(“arules”) data(“Adult”) dim(Adult) summary(Adult) 查找数据集中的频繁项目 data(“Adult”) itemsets &lt;- eclat(Adult) itemsets.sorted &lt;- sort(itemsets) itemsets.sorted[1:5] #仅看前五个集合 未要求资本损失或资本利得、美国人、白种人
集中于最高频率的示例 将范围缩减至数据集中出现的最高频率，调节minlen参数
itemsets &lt;- eclat(Adult, parameter=list(minlen=9)) inspect(itemsets) 2.1.2 arulesNBMiner arulesNBMiner 用于寻找一个集合中两个及以上项目的共现。底层模型即负二项式模型，允许高度偏态次数分配，我们会观察到，项目集频率正出现在数据子集合中。
用法 NBMiner()
参数" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/3f9ccba324b775eb66ce71ce48769795/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-26T11:02:40+08:00" />
<meta property="article:modified_time" content="2024-01-26T11:02:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">看书标记【数据科学：R语言实战 2】</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>看书标记——R语言</h4> 
 <ul><li><a href="#Chapter_2__2" rel="nofollow">Chapter 2 序列的数据挖掘</a></li><li><ul><li><ul><li><a href="#21__3" rel="nofollow">2.1 模式</a></li><li><ul><li><a href="#211_Eclat__8" rel="nofollow">2.1.1 Eclat 频繁项集的挖掘</a></li><li><ul><li><a href="#_10" rel="nofollow">用法</a></li><li><a href="#eclat_16" rel="nofollow">用eclat找到成年人行为的相似点</a></li><li><a href="#_23" rel="nofollow">查找数据集中的频繁项目</a></li><li><a href="#_31" rel="nofollow">集中于最高频率的示例</a></li></ul> 
     </li><li><a href="#212_arulesNBMiner_37" rel="nofollow">2.1.2 arulesNBMiner</a></li><li><ul><li><a href="#_39" rel="nofollow">用法</a></li><li><a href="#Agrawal_54" rel="nofollow">为频繁集挖掘Agrawal数据</a></li></ul> 
     </li><li><a href="#213_Apriori_61" rel="nofollow">2.1.3 Apriori</a></li><li><ul><li><a href="#_63" rel="nofollow">用法</a></li><li><a href="#_70" rel="nofollow">评估购物篮中的关联</a></li></ul> 
     </li><li><a href="#214_TraMineR_82" rel="nofollow">2.1.4 用TraMineR确定序列</a></li><li><ul><li><a href="#_85" rel="nofollow">用法</a></li><li><a href="#_94" rel="nofollow">确定训练和职业中的序列</a></li></ul> 
     </li><li><a href="#215__111" rel="nofollow">2.1.5 序列相似点</a></li><li><a href="#_114" rel="nofollow">用法</a></li><li><ul><li><a href="#_126" rel="nofollow">示例</a></li></ul> 
    </li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<br> 【数据科学：R语言实战 2】 
<p></p> 
<h2><a id="Chapter_2__2"></a>Chapter 2 序列的数据挖掘</h2> 
<h4><a id="21__3"></a>2.1 模式</h4> 
<p>eclat：用于项集模式检测，常用购物车<br> arules：确定数据集中的项目共现<br> apriori：学习数据集中的关联规则<br> TraMineR：挖掘序列的R包</p> 
<h5><a id="211_Eclat__8"></a>2.1.1 Eclat 频繁项集的挖掘</h5> 
<p>寻找行为相似的模式，通过数据中的交集来估算同时频繁出现事件候选项（购物车项目）的支持度，然后通过对频繁候选项进行测试来证实数据集中的模式。</p> 
<h6><a id="_10"></a>用法</h6> 
<p>Eclat可以使用arules包中的eclat()函数</p> 
<ul><li>参数<br> data 待分析的数据矩阵<br> parameter ECParameter或列表对象。ECParameter（support：界定最小支持度0.1；minlen：包含最小容量1；maxlen：包含最大容量10；target：界定了待挖掘关联项集的类型.）<br> control ECControl或列表的对象。ECControl（sort：1、2升序、-1降序、0未分类、-2事务容量和的降序；verbose：显示进度信息）</li></ul> 
<h6><a id="eclat_16"></a>用eclat找到成年人行为的相似点</h6> 
<pre><code class="prism language-r">library<span class="token punctuation">(</span>“arules”<span class="token punctuation">)</span>
data<span class="token punctuation">(</span>“Adult”<span class="token punctuation">)</span>
dim<span class="token punctuation">(</span>Adult<span class="token punctuation">)</span>
summary<span class="token punctuation">(</span>Adult<span class="token punctuation">)</span>
</code></pre> 
<h6><a id="_23"></a>查找数据集中的频繁项目</h6> 
<pre><code class="prism language-r">data<span class="token punctuation">(</span>“Adult”<span class="token punctuation">)</span>
itemsets <span class="token operator">&lt;-</span> eclat<span class="token punctuation">(</span>Adult<span class="token punctuation">)</span>
itemsets.sorted <span class="token operator">&lt;-</span> sort<span class="token punctuation">(</span>itemsets<span class="token punctuation">)</span>
itemsets.sorted<span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">]</span>   <span class="token comment">#仅看前五个集合</span>
</code></pre> 
<p>未要求资本损失或资本利得、美国人、白种人</p> 
<h6><a id="_31"></a>集中于最高频率的示例</h6> 
<p>将范围缩减至数据集中出现的最高频率，调节minlen参数</p> 
<pre><code class="prism language-r">itemsets <span class="token operator">&lt;-</span> eclat<span class="token punctuation">(</span>Adult<span class="token punctuation">,</span> parameter<span class="token operator">=</span>list<span class="token punctuation">(</span>minlen<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
inspect<span class="token punctuation">(</span>itemsets<span class="token punctuation">)</span>
</code></pre> 
<h5><a id="212_arulesNBMiner_37"></a>2.1.2 arulesNBMiner</h5> 
<p>arulesNBMiner 用于寻找一个集合中两个及以上项目的共现。底层模型即负二项式模型，允许高度偏态次数分配，我们会观察到，项目集频率正出现在数据子集合中。</p> 
<h6><a id="_39"></a>用法</h6> 
<p>NBMiner()</p> 
<ul><li>参数<br> data 数据矩阵<br> parameter 参数列表<br> control 控制列表（自动转换为NBMinerControl的对象）<br> NBMinerParameters是用于调用NBMiner的参数块。</li></ul> 
<p><em>Agrawal数据是为集中事务通过特别合成而生成的。</em></p> 
<pre><code class="prism language-r">data<span class="token punctuation">(</span>Agrawal<span class="token punctuation">)</span>
summary<span class="token punctuation">(</span>Agrawal.db<span class="token punctuation">)</span>
summary<span class="token punctuation">(</span>Agrawal.pat<span class="token punctuation">)</span>
</code></pre> 
<p>“size”表现的是各个子集在少数例子中具有偏态的子集</p> 
<h6><a id="Agrawal_54"></a>为频繁集挖掘Agrawal数据</h6> 
<pre><code class="prism language-r">mynbparameters <span class="token operator">&lt;-</span> NBMinerParameters<span class="token punctuation">(</span>Agrawal.db<span class="token punctuation">)</span>
mynbminer <span class="token operator">&lt;-</span> NBMiner<span class="token punctuation">(</span>Agrawal.db<span class="token punctuation">,</span> parameter <span class="token operator">=</span> mynbparameters<span class="token punctuation">)</span>
summary<span class="token punctuation">(</span>mynbminer<span class="token punctuation">)</span>
</code></pre> 
<p>项目近乎均匀分布、项集长度1、2有较大偏斜</p> 
<h5><a id="213_Apriori_61"></a>2.1.3 Apriori</h5> 
<p>Apriori算法尝试找到数据集中常见的子集合，必须满足最小阈值以便核实关联，支持度默认为10，置信度默认值为80。</p> 
<h6><a id="_63"></a>用法</h6> 
<p>apriori()</p> 
<ul><li>参数<br> data 数据集<br> parameter 控制处理方式的参数列表，支持度默认值0.1，置信度默认值0.8，maxlen默认值10.<br> appearance 控制了所用的数据值<br> control 控制了算法，特别是分类的效能</li></ul> 
<h6><a id="_70"></a>评估购物篮中的关联</h6> 
<pre><code class="prism language-r">install.packages<span class="token punctuation">(</span><span class="token string">"arules"</span><span class="token punctuation">)</span>
library<span class="token punctuation">(</span>arules<span class="token punctuation">)</span>
tr <span class="token operator">&lt;-</span> read.transactions<span class="token punctuation">(</span><span class="token string">"http://fimi.ua.ac.be/data/retail.dat"</span><span class="token punctuation">,</span> format<span class="token operator">=</span><span class="token string">"basket"</span><span class="token punctuation">)</span>  <span class="token comment">#比利时杂货店数据</span>
summary<span class="token punctuation">(</span>tr<span class="token punctuation">)</span>   <span class="token comment">##结果表明成对项目很受欢迎，项目39有50675个</span>
itemFrequencyPlot<span class="token punctuation">(</span>tr<span class="token punctuation">,</span> support<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">)</span>	<span class="token comment">#最频繁项目</span>
rules <span class="token operator">&lt;-</span> apriori<span class="token punctuation">(</span>tr<span class="token punctuation">,</span> parameter<span class="token operator">=</span>list<span class="token punctuation">(</span>supp<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span>conf<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#构建关联规则</span>
summary<span class="token punctuation">(</span>rules<span class="token punctuation">)</span>  <span class="token comment">#规则摘要</span>
inspect<span class="token punctuation">(</span>rules<span class="token punctuation">)</span>  <span class="token comment">##具体规则 项目39加入购物篮率高</span>
<span class="token comment">## interestMeasure(rules, c("support", "chiSquare", "confidence", "conviction", "cosine", "leverage", "lift", "oddsRatio"), tr)</span>
</code></pre> 
<h5><a id="214_TraMineR_82"></a>2.1.4 用TraMineR确定序列</h5> 
<p>发现序列并可视化，可以将<strong>序列分布、序列频率及数据湍流</strong>等绘图。<br> 内置数据集：actcal（2000年以来每月活动单个的状态符号）、biofam（15-30岁期间单个的家庭生活状态）、mvad（每月活动单个的状态数据）</p> 
<h6><a id="_85"></a>用法</h6> 
<p>seqdef()</p> 
<ul><li>参数<br> <strong>data</strong> 矩阵<br> <strong>var</strong> 纵列列表，包含序列NULL<br> <strong>informat</strong> 原始数据的格式（STS\SPS\SPELL）<br> <strong>stsep</strong> 分隔符<br> <strong>alphabet</strong> 所以可能状态的列表<br> <strong>states</strong> 包含了短时状态的标记</li></ul> 
<h6><a id="_94"></a>确定训练和职业中的序列</h6> 
<pre><code class="prism language-r">install.packages<span class="token punctuation">(</span><span class="token string">"TraMineR"</span><span class="token punctuation">)</span>
library <span class="token punctuation">(</span><span class="token string">"TraMineR"</span><span class="token punctuation">)</span>
data<span class="token punctuation">(</span>mvad<span class="token punctuation">)</span> <span class="token comment">##mvad数据追踪了712个个体，自训练至工作的过程</span>
summary<span class="token punctuation">(</span>mvad<span class="token punctuation">)</span>
myseq <span class="token operator">&lt;-</span> seqdef<span class="token punctuation">(</span>mvad<span class="token punctuation">,</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">86</span><span class="token punctuation">)</span>  <span class="token comment">##截取序列数据，参照相关状态来获取所需的序列数据</span>
seqiplot<span class="token punctuation">(</span>myseq<span class="token punctuation">)</span> <span class="token comment">##指数图表：参照个人不同状态间界定的转换期</span>
seqfplot<span class="token punctuation">(</span>myseq<span class="token punctuation">)</span> <span class="token comment">## 频率图表：同一序列的人群集，经过一段时间训练后会有工作</span>
seqdplot<span class="token punctuation">(</span>myseq<span class="token punctuation">)</span> <span class="token comment">##分布图表：在上学或训练后开始工作</span>
seqHtplot<span class="token punctuation">(</span>myseq<span class="token punctuation">)</span> <span class="token comment">##序列的熵</span>
<span class="token comment">##数据湍流：从数据中可见的某个特定事例可以推导出多少不同的后续序列。</span>
<span class="token comment">##seqST函数将数据湍流可视化</span>
myturbulence <span class="token operator">&lt;-</span> seqSt<span class="token punctuation">(</span>myseq<span class="token punctuation">)</span>
hist<span class="token punctuation">(</span>myturbulence<span class="token punctuation">)</span>
</code></pre> 
<h5><a id="215__111"></a>2.1.5 序列相似点</h5> 
<p>TraMineR中的seqdist函数可以度量序列异同。<br> LCP（最长公共前缀）的比较、LCS（最长公共序列，两个序列的相同部分）、OM（最佳匹配距离，最佳编辑距离）</p> 
<h5><a id="_114"></a>用法</h5> 
<p>LCP计算函数seqdist()</p> 
<ul><li>参数<br> seqdata 状态序列（用seqdef界定）<br> method 包含了待用的LCP方法<br> refseq 可选参考序列<br> norm 距离标准化<br> indel 仅用于OM<br> sm 替代矩阵（忽略LCP）<br> with.missing TRUE 出现缺失间隙<br> full.matrix TRUE 返回全矩阵</li></ul> 
<h6><a id="_126"></a>示例</h6> 
<pre><code class="prism language-r">data<span class="token punctuation">(</span>famform<span class="token punctuation">)</span> 
seq <span class="token operator">&lt;-</span> seqdef<span class="token punctuation">(</span>famform<span class="token punctuation">)</span>  <span class="token comment">##界定可用的序列对象</span>
seq
seqLLCP<span class="token punctuation">(</span>seq<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">,</span>seq<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">#使用序列3、4的LCP，得到四个前置匹配即“S-U-M-MC”</span>
seqLLCS<span class="token punctuation">(</span>seq<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">,</span>seq<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">#计算1、2的LCS度量</span>
cost <span class="token operator">&lt;-</span> seqsubm<span class="token punctuation">(</span>seq<span class="token punctuation">,</span> method<span class="token operator">=</span><span class="token string">"CONSTANT"</span><span class="token punctuation">,</span> cval<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment">##确定OMD=2</span>
cost
</code></pre> 
<p>这一章节有很多都没有看明白。尴尬……</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/509a8385d23d52547bda015f25334ee0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">看书标记【数据科学：R语言实战 1】</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1d8b6483d2338fd5fdd3d0c7500bbb16/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">2023新版Onenet&#43;AndroidStudio（GET获取数据，Onenet安全鉴权）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>