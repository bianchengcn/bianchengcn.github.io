<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>2023æ–°ç‰ˆOnenet&#43;AndroidStudioï¼ˆGETè·å–æ•°æ®ï¼ŒOnenetå®‰å…¨é‰´æƒï¼‰ - ç¼–ç¨‹ä¸­å›½çš„åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="2023æ–°ç‰ˆOnenet&#43;AndroidStudioï¼ˆGETè·å–æ•°æ®ï¼ŒOnenetå®‰å…¨é‰´æƒï¼‰" />
<meta property="og:description" content="æ–‡ç« ç›®å½• æ¦‚è¦æ•´ä½“æ¶æ„æµç¨‹æŠ€æœ¯åè¯è§£é‡Šä¸¤ä¸ªç±»çš„å£°æ˜é‰´æƒç”Ÿæˆï¼ˆTokenï¼‰MainActivityä»£ç (Java)å°ç»“ æ¦‚è¦ æœ€è¿‘åšäº†ä¸ªå¤§ä½œä¸šï¼Œæ˜¯ç”¨AndroidStudioè·å–Onenetä¸Šé¢æ•°æ®çš„ã€‚
æœ¬æ–‡ä»‹ç»ä¸¤ä¸ªæ–¹æ³•ï¼ŒGETï¼ˆï¼‰å’ŒPOST()ã€‚ç”¨çš„æ˜¯javaè¯­è¨€ï¼Œkotlinè¯­è¨€å¯ä»¥ç›´æ¥æœkotlinï¼Œgetæ–¹æ³•ï¼Œå’Œjavaçš„æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚
æ•´ä½“æ¶æ„æµç¨‹ é¦–å…ˆè¦å¼•å…¥ä¾èµ–å’Œåº“ï¼Œæ¯”å¦‚è”ç½‘çš„ï¼ŒOkhttpçš„åº“
ç„¶åæ˜¯æ ¸å¿ƒçš„GETå’ŒPOSTä»£ç ï¼Œè¿™é‡Œè¦æ³¨æ„çš„æ˜¯é‰´æƒï¼Œæˆ‘æ‰¾äº†å¥½ä¹…æ‰åœ¨å®˜ç½‘æ‰¾åˆ°å®‰å…¨é‰´æƒçš„æ–¹å¼ã€‚ï¼ˆè¿™é‡Œåæ§½ä¸€ä¸‹Onenetçš„å¼€å‘è€…æ–‡æ¡£çš„å¯æŸ¥è¯¢æ€§å®åœ¨æ˜¯å¤ªå¼±äº†ï¼‰
æœ€åæ˜¯è·å–åˆ°è¿”å›æ•°æ®ã€‚
æŠ€æœ¯åè¯è§£é‡Š 1ï¼ŒOkhttp:OkHttpæ˜¯ä¸€ä¸ªå¼€æºçš„Javaåº“ï¼Œç”¨äºå¤„ç†HTTPè¯·æ±‚ã€‚å®ƒæ˜¯Squareå…¬å¸å¼€å‘çš„ï¼Œè®¾è®¡ç®€å•è€Œçµæ´»ï¼Œæ˜¯Androidå¼€å‘ä¸­å¹¿æ³›ä½¿ç”¨çš„HTTPå®¢æˆ·ç«¯ã€‚
ç¤ºä¾‹ä»£ç ï¼š
import okhttp3.OkHttpClient; import okhttp3.Request; import okhttp3.Response; public class OkHttpExample { public static void main(String[] args) throws Exception { OkHttpClient client = new OkHttpClient(); Request request = new Request.Builder() .url(&#34;https://www.baidu.com&#34;) .build(); try (Response response = client.newCall(request).execute()) { System.out.println(response.body().string()); } } } 2ï¼Œå®‰å…¨é‰´æƒï¼šåœ¨OkHttpä¸­ï¼Œ.header æ–¹æ³•ç”¨äºè®¾ç½®HTTPè¯·æ±‚å¤´ã€‚é€šè¿‡è¿™ä¸ªæ–¹æ³•ï¼Œä½ å¯ä»¥æ·»åŠ è‡ªå®šä¹‰çš„è¯·æ±‚å¤´ä¿¡æ¯ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•åœ¨OkHttpä¸­ä½¿ç”¨.headeræ–¹æ³•ï¼š
import okhttp3.OkHttpClient; import okhttp3.Request; import okhttp3.Response; public class OkHttpHeaderExample { public static void main(String[] args) throws Exception { OkHttpClient client = new OkHttpClient(); // æ„å»ºè¯·æ±‚æ—¶ä½¿ç”¨ ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/1d8b6483d2338fd5fdd3d0c7500bbb16/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-26T11:07:57+08:00" />
<meta property="article:modified_time" content="2024-01-26T11:07:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹ä¸­å›½çš„åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹ä¸­å›½çš„åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">2023æ–°ç‰ˆOnenet&#43;AndroidStudioï¼ˆGETè·å–æ•°æ®ï¼ŒOnenetå®‰å…¨é‰´æƒï¼‰</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h5><a id="_2"></a>æ–‡ç« ç›®å½•</h5> 
<ul><li> 
  <ul><li>æ¦‚è¦</li><li>æ•´ä½“æ¶æ„æµç¨‹</li><li>æŠ€æœ¯åè¯è§£é‡Š</li><li>ä¸¤ä¸ªç±»çš„å£°æ˜</li><li>é‰´æƒç”Ÿæˆï¼ˆTokenï¼‰</li><li>MainActivityä»£ç (Java)</li><li>å°ç»“</li></ul> </li></ul> 
<h4><a id="httpsblogcsdnnetMenaceRobertarticledetails134893470spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag7134893470nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag7134893470nullnullnonecase_12"></a><a href="https://blog.csdn.net/MenaceRobert/article/details/134893470?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-7-134893470-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-7-134893470-null-null.nonecase"></a>æ¦‚è¦</h4> 
<p>æœ€è¿‘åšäº†ä¸ªå¤§ä½œä¸šï¼Œæ˜¯ç”¨AndroidStudioè·å–Onenetä¸Šé¢æ•°æ®çš„ã€‚<br> æœ¬æ–‡ä»‹ç»ä¸¤ä¸ªæ–¹æ³•ï¼ŒGETï¼ˆï¼‰å’ŒPOST()ã€‚ç”¨çš„æ˜¯javaè¯­è¨€ï¼Œkotlinè¯­è¨€å¯ä»¥ç›´æ¥æœkotlinï¼Œgetæ–¹æ³•ï¼Œå’Œjavaçš„æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚</p> 
<h4><a id="httpsblogcsdnnetMenaceRobertarticledetails134893470spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag7134893470nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag7134893470nullnullnonecase_17"></a><a href="https://blog.csdn.net/MenaceRobert/article/details/134893470?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-7-134893470-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-7-134893470-null-null.nonecase"></a>æ•´ä½“æ¶æ„æµç¨‹</h4> 
<p>é¦–å…ˆè¦å¼•å…¥ä¾èµ–å’Œåº“ï¼Œæ¯”å¦‚è”ç½‘çš„ï¼ŒOkhttpçš„åº“<br> ç„¶åæ˜¯æ ¸å¿ƒçš„GETå’ŒPOSTä»£ç ï¼Œè¿™é‡Œè¦æ³¨æ„çš„æ˜¯<strong>é‰´æƒ</strong>ï¼Œæˆ‘æ‰¾äº†å¥½ä¹…æ‰åœ¨å®˜ç½‘æ‰¾åˆ°å®‰å…¨é‰´æƒçš„æ–¹å¼ã€‚ï¼ˆè¿™é‡Œåæ§½ä¸€ä¸‹Onenetçš„å¼€å‘è€…æ–‡æ¡£çš„å¯æŸ¥è¯¢æ€§å®åœ¨æ˜¯å¤ªå¼±äº†ï¼‰<br> æœ€åæ˜¯è·å–åˆ°è¿”å›æ•°æ®ã€‚<br> <img src="https://images2.imgbox.com/cb/aa/5l7fOuRi_o.png" alt="æ‰€æœ‰æ–‡ä»¶"></p> 
<h4><a id="httpsblogcsdnnetMenaceRobertarticledetails134893470spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag7134893470nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag7134893470nullnullnonecase_24"></a><a href="https://blog.csdn.net/MenaceRobert/article/details/134893470?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-7-134893470-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-7-134893470-null-null.nonecase"></a>æŠ€æœ¯åè¯è§£é‡Š</h4> 
<p>1ï¼ŒOkhttp:OkHttpæ˜¯ä¸€ä¸ªå¼€æºçš„Javaåº“ï¼Œç”¨äºå¤„ç†HTTPè¯·æ±‚ã€‚å®ƒæ˜¯Squareå…¬å¸å¼€å‘çš„ï¼Œè®¾è®¡ç®€å•è€Œçµæ´»ï¼Œæ˜¯Androidå¼€å‘ä¸­å¹¿æ³›ä½¿ç”¨çš„HTTPå®¢æˆ·ç«¯ã€‚<br> ç¤ºä¾‹ä»£ç ï¼š</p> 
<pre><code>import okhttp3.OkHttpClient;
import okhttp3.Request;
import okhttp3.Response;

public class OkHttpExample {
    public static void main(String[] args) throws Exception {
        OkHttpClient client = new OkHttpClient();

        Request request = new Request.Builder()
                .url("https://www.baidu.com")
                .build();

        try (Response response = client.newCall(request).execute()) {
            System.out.println(response.body().string());
        }
    }
}


</code></pre> 
<p>2ï¼Œå®‰å…¨é‰´æƒï¼šåœ¨OkHttpä¸­ï¼Œ.header æ–¹æ³•ç”¨äºè®¾ç½®HTTPè¯·æ±‚å¤´ã€‚é€šè¿‡è¿™ä¸ªæ–¹æ³•ï¼Œä½ å¯ä»¥æ·»åŠ è‡ªå®šä¹‰çš„è¯·æ±‚å¤´ä¿¡æ¯ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•åœ¨OkHttpä¸­ä½¿ç”¨.headeræ–¹æ³•ï¼š</p> 
<pre><code>import okhttp3.OkHttpClient;
import okhttp3.Request;
import okhttp3.Response;

public class OkHttpHeaderExample {
    public static void main(String[] args) throws Exception {
        OkHttpClient client = new OkHttpClient();

        // æ„å»ºè¯·æ±‚æ—¶ä½¿ç”¨ .header æ–¹æ³•æ·»åŠ è‡ªå®šä¹‰çš„è¯·æ±‚å¤´
        Request request = new Request.Builder()
                .url("https://www.example.com")
                .header("Authorization", "Bearer your_access_token") // æ·»åŠ  Authorization è¯·æ±‚å¤´
                .build();

        try (Response response = client.newCall(request).execute()) {
            System.out.println(response.body().string());
        }
    }
}

</code></pre> 
<h4><a id="httpsblogcsdnnetMenaceRobertarticledetails134893470spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag7134893470nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag7134893470nullnullnonecase_76"></a><a href="https://blog.csdn.net/MenaceRobert/article/details/134893470?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-7-134893470-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-7-134893470-null-null.nonecase"></a>ä¸¤ä¸ªç±»çš„å£°æ˜</h4> 
<p>ç¬¬ä¸€ä¸ªæ˜¯JsonRootBean.javaæ–‡ä»¶ï¼ˆè¿™ä¸ªæ–‡ä»¶å’ŒMainActivityå¹³è¡Œï¼‰</p> 
<pre><code>package com.example.myapplication;

import java.util.List;

public class JsonRootBean {//Jsonè½¬æ¢
    int code;
List&lt;Data&gt; data;
    String msg;
    String request_id;

}


</code></pre> 
<p>ç¬¬äºŒä¸ªæ˜¯data.java</p> 
<pre><code>package com.example.myapplication;
import androidx.annotation.VisibleForTesting;

import java.util.List;
public class Data {//ç”¨listå­˜æ”¾è·å–çš„æ•°æ®æµ
    String identifier;
    String time;
    String value;
    String data_type;
    String access_mode;
    String name;
    String description;
}


</code></pre> 
<h4><a id="httpsblogcsdnnetMenaceRobertarticledetails134893470spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag7134893470nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag7134893470nullnullnonecaseToken_116"></a><a href="https://blog.csdn.net/MenaceRobert/article/details/134893470?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-7-134893470-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-7-134893470-null-null.nonecase"></a>é‰´æƒç”Ÿæˆï¼ˆTokenï¼‰</h4> 
<p>Onenetçš„é‰´æƒä»‹ç»ç½‘å€ï¼š<a href="https://open.iot.10086.cn/doc/v5/fuse/detail/1464" rel="nofollow">å®‰å…¨é‰´æƒ</a><br> é‰´æƒç ç”Ÿæˆä»£ç ï¼š<a href="https://open.iot.10086.cn/doc/v5/fuse/detail/635" rel="nofollow">APIé‰´æƒ</a><br> æˆ‘è´´ä¸€ä¸‹æˆ‘çš„ä»£ç token.java</p> 
<pre><code>package com.example.myapplication;

import android.os.Build;

import java.io.UnsupportedEncodingException;
import java.net.URLEncoder;
import java.security.InvalidKeyException;
import java.security.NoSuchAlgorithmException;
import java.util.Base64;

import javax.crypto.Mac;
import javax.crypto.spec.SecretKeySpec;

public class Token {
    public static String TOKEN = "é»˜è®¤å€¼";

    public static void setMyString(String newValue) {
        TOKEN = newValue;
    }
    public static String assembleToken(String version, String resourceName, String expirationTime, String signatureMethod, String accessKey)
            throws UnsupportedEncodingException, NoSuchAlgorithmException, InvalidKeyException {
        StringBuilder sb = new StringBuilder();
        String res = URLEncoder.encode(resourceName, "UTF-8");
        String sig = URLEncoder.encode(generatorSignature(version, resourceName, expirationTime, accessKey, signatureMethod), "UTF-8");
        sb.append("version=")
                .append(version)
                .append("&amp;res=")
                .append(res)
                .append("&amp;et=")
                .append(expirationTime)
                .append("&amp;method=")
                .append(signatureMethod)
                .append("&amp;sign=")
                .append(sig);
        return sb.toString();
    }

    public static String generatorSignature(String version, String resourceName, String expirationTime, String accessKey, String signatureMethod)
            throws NoSuchAlgorithmException, InvalidKeyException {
        String encryptText = expirationTime + "\n" + signatureMethod + "\n" + resourceName + "\n" + version;
        String signature = null;
        byte[] bytes = HmacEncrypt(encryptText, accessKey, signatureMethod);
        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {
            signature = Base64.getEncoder().encodeToString(bytes);
        }
        return signature;
    }

    public static byte[] HmacEncrypt(String data, String key, String signatureMethod)
            throws NoSuchAlgorithmException, InvalidKeyException {
        //æ ¹æ®ç»™å®šçš„å­—èŠ‚æ•°ç»„æ„é€ ä¸€ä¸ªå¯†é’¥,ç¬¬äºŒå‚æ•°æŒ‡å®šä¸€ä¸ªå¯†é’¥ç®—æ³•çš„åç§°
        SecretKeySpec signinKey = null;
        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {
            signinKey = new SecretKeySpec(Base64.getDecoder().decode(key),
                    "Hmac" + signatureMethod.toUpperCase());
        }

        //ç”Ÿæˆä¸€ä¸ªæŒ‡å®š Mac ç®—æ³• çš„ Mac å¯¹è±¡
        Mac mac = null;
        mac = Mac.getInstance("Hmac" + signatureMethod.toUpperCase());

        //ç”¨ç»™å®šå¯†é’¥åˆå§‹åŒ– Mac å¯¹è±¡
        mac.init(signinKey);

        //å®Œæˆ Mac æ“ä½œ
        return mac.doFinal(data.getBytes());
    }

    public enum SignatureMethod {
        SHA1, MD5, SHA256;
    }

    public static void main(String args) throws UnsupportedEncodingException, NoSuchAlgorithmException, InvalidKeyException {
        String version = "2022-05-01";
        String resourceName = "userid/è¿™é‡Œå†™ä½ çš„ç”¨æˆ·id";
        String expirationTime = System.currentTimeMillis() / 1000 + 100 * 24 * 60 * 60 + "";
        String signatureMethod = SignatureMethod.SHA1.name().toLowerCase();
        String accessKey = "è¿™é‡Œæ”¾ä½ çš„AccessKeyï¼ˆåœ¨Onenetå®˜ç½‘çš„è´¦æˆ·ä¿¡æ¯é‡Œé¢ï¼‰";
        String token = assembleToken(version, resourceName, expirationTime, signatureMethod, accessKey);
        setMyString(token);
    }
}


</code></pre> 
<h4><a id="httpsblogcsdnnetMenaceRobertarticledetails134893470spm1001210030017377utm_mediumdistributepc_feed_blog_categorynonetaskblogclassify_tag7134893470nullnullnonecasedepth_1utm_sourcedistributepc_feed_blog_categorynonetaskblogclassify_tag7134893470nullnullnonecaseMainActivityJava_209"></a><a href="https://blog.csdn.net/MenaceRobert/article/details/134893470?spm=1001.2100.3001.7377&amp;utm_medium=distribute.pc_feed_blog_category.none-task-blog-classify_tag-7-134893470-null-null.nonecase&amp;depth_1-utm_source=distribute.pc_feed_blog_category.none-task-blog-classify_tag-7-134893470-null-null.nonecase"></a>MainActivityä»£ç (Java)</h4> 
<pre><code> public class MainActivity extends AppCompatActivity {
 String token="é‰´æƒå‚æ•°";
 protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);//UIçš„åŸºæœ¬å¸ƒå±€
        try {
            Token.main("æ‹¿é‰´æƒç ï¼Œè¿™é‡Œå‚æ•°æ— æ‰€è°“çš„");
        } catch (UnsupportedEncodingException | NoSuchAlgorithmException | InvalidKeyException e) {
            throw new RuntimeException(e);
        }
        token=Token.TOKEN;//èµ‹å€¼Tokenï¼ŒæŠŠé‰´æƒä¿¡æ¯æ‹¿åˆ°
`        requestPermissions(new String[]{"android.permission.INTERNET"}, 1);
        Get();}
        

</code></pre> 
<p>å¦‚å›¾ä¸Šé¢æ˜¯ä¸»å‡½æ•°ä»£ç ï¼Œè·å–ç½‘ç»œè¯·æ±‚åç›´æ¥GETå°±å¥½äº†ã€‚</p> 
<pre><code>public void Get(){
         new Thread(new Runnable() {
                    @Override
                    public void run() {
               		while (true) {
                    try {
                        OkHttpClient client = new OkHttpClient();
                        //http(s)://iot-api.heclouds.com/thingmodel/query-device-property?product_id=w50WLDzGBb&amp;device_name=light
                        //http://iot-api.heclouds.com/thingmodel/query-thing-model?product_id=w50WLDzGBb
                        Request request = new Request.Builder().url("http://iot-api.heclouds.com/thingmodel/query-device-property?product_id=è¿™é‡Œè¾“å…¥ä½ çš„äº§å“id&amp;device_name=ä½ çš„è®¾å¤‡åç§°")
                                .header("Authorization",token)
                                .build();
                        Response response = client.newCall(request).execute();
                        String responseData = response.body().string();
                          JsonRootBean app = new Gson().fromJson(responseData, JsonRootBean.class);

                       value=app.data.get(0).value.toString();//è·å¾—äº®åº¦
                        brightnessDisplay.post(new Runnable() {
                            @Override
                            public void run() {
                                brightnessDisplay.setText(String.format("BrightnessRightNow:%s", value));
                            }
                        });
                    } catch (IOException e) {
                        e.printStackTrace();}
                   try {
                       Thread.sleep(1000);
                   } catch (InterruptedException e) {
                       throw new RuntimeException(e);
                   }//å»¶æ—¶ä¸€ç§’è·å–ä¸€æ¬¡äº®åº¦
               }
            }
        }).start();

</code></pre> 
<p>åœ¨.headeråé¢è¿™ä¸ªtokenï¼Œå°±æ˜¯æˆ‘ä»¬è¦çš„é‰´æƒç ã€‚<br> ä¸Šé¢ä»£ç ä¸­çš„jsonRootbeanæ˜¯æˆ‘è‡ªå·±çš„ä¸€ä¸ªç±»ï¼Œæˆ‘GETè·å–çš„æ•°æ®æ˜¯ä¸€æ®µjsonæ ¼å¼çš„æ•°ç»„</p> 
<pre><code>{"code":0,
"data":[{"identifier":"bright","time":1700127636130,"value":"0.600000","data_type":"float","access_mode":"è¯»å†™","name":"bright"},
{"identifier":"setbright","data_type":"int32","access_mode":"è¯»å†™","name":"setbright"},
{"identifier":"state","time":1698234341316,"value":"2","data_type":"enum","access_mode":"è¯»å†™","name":"state","description":"å·¥ä½œæ¨¡å¼"},
{"identifier":"time","data_type":"date","access_mode":"è¯»å†™","name":"time"}],
"msg":"succ",
"request_id":"f97096fb25a94f2884a043c510821485"}

</code></pre> 
<p><a href="https://open.iot.10086.cn/doc/v5/fuse/detail/1421" rel="nofollow">ONENETå®˜ç½‘å…³äºGETæ–¹æ³•çš„è¿”å›æ•°ç»„</a><br> å¯ä»¥çœ‹åˆ°æœ‰4ä¸ªå¤§å‚æ•°ï¼Œcode,data,msg,request_id<br> dataæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œåœ¨æ•°ç»„çš„æ¯ä¸€ä¸ªé¡¹é‡Œé¢åˆåŒ…å«4ä¸ªå°å‚æ•°(å¦‚ä¸‹å›¾ï¼‰ï¼Œ<img src="https://images2.imgbox.com/70/26/WstTKEbZ_o.png" alt="identifier,data_type,access_mode,name"><br> æ‰€ä»¥æˆ‘ä»¬æ ¸å¿ƒçš„æ˜¯è·å–åˆ°dataé‡Œé¢çš„è¿™ä¸ªvalueå€¼ï¼Œå› æ­¤GETè·å–åˆ°æ•°æ®åï¼Œé‡‡ç”¨äº†ä¸‹é¢è¿™ä¸ªæ–¹å¼æå–åˆ°value</p> 
<pre><code> Response response = client.newCall(request).execute();
                        String responseData = response.body().string();
                          JsonRootBean app = new Gson().fromJson(responseData, JsonRootBean.class);

                       value=app.data.get(0).value.toString();//è·å¾—äº®åº¦

</code></pre> 
<p><a href="https://blog.csdn.net/Java_ZZZZZ/article/details/135558334?spm=1001.2014.3001.5502"></a><a href="https://blog.csdn.net/2301_82000445/article/details/135502608?spm=1001.2014.3001.5502"></a>é»‘å®¢å­¦ä¹ èµ„æºæ¨è</p> 
<p>æœ€åç»™å¤§å®¶åˆ†äº«ä¸€ä»½å…¨å¥—çš„ç½‘ç»œå®‰å…¨å­¦ä¹ èµ„æ–™ï¼Œç»™é‚£äº›æƒ³å­¦ä¹  ç½‘ç»œå®‰å…¨çš„å°ä¼™ä¼´ä»¬ä¸€ç‚¹å¸®åŠ©ï¼</p> 
<p>å¯¹äºä»æ¥æ²¡æœ‰æ¥è§¦è¿‡ç½‘ç»œå®‰å…¨çš„åŒå­¦ï¼Œæˆ‘ä»¬å¸®ä½ å‡†å¤‡äº†è¯¦ç»†çš„å­¦ä¹ æˆé•¿è·¯çº¿å›¾ã€‚å¯ä»¥è¯´æ˜¯æœ€ç§‘å­¦æœ€ç³»ç»Ÿçš„å­¦ä¹ è·¯çº¿ï¼Œå¤§å®¶è·Ÿç€è¿™ä¸ªå¤§çš„æ–¹å‘å­¦ä¹ å‡†æ²¡é—®é¢˜ã€‚</p> 
<p>ğŸ˜æœ‹å‹ä»¬å¦‚æœæœ‰éœ€è¦çš„è¯ï¼Œå¯ä»¥Væ‰«æä¸‹æ–¹äºŒç»´ç è”ç³»é¢†å–~</p> 
<p><img src="https://images2.imgbox.com/ff/f7/8imECUm8_o.png" alt=""></p> 
<h6><a id="1_310"></a>1ï¸âƒ£é›¶åŸºç¡€å…¥é—¨</h6> 
<h6><a id="_312"></a>å­¦ä¹ è·¯çº¿</h6> 
<p>å¯¹äºä»æ¥æ²¡æœ‰æ¥è§¦è¿‡ç½‘ç»œå®‰å…¨çš„åŒå­¦ï¼Œæˆ‘ä»¬å¸®ä½ å‡†å¤‡äº†è¯¦ç»†çš„<strong>å­¦ä¹ æˆé•¿è·¯çº¿å›¾</strong>ã€‚å¯ä»¥è¯´æ˜¯<strong>æœ€ç§‘å­¦æœ€ç³»ç»Ÿçš„å­¦ä¹ è·¯çº¿</strong>ï¼Œå¤§å®¶è·Ÿç€è¿™ä¸ªå¤§çš„æ–¹å‘å­¦ä¹ å‡†æ²¡é—®é¢˜ã€‚</p> 
<p><img src="https://images2.imgbox.com/3d/f8/g0y8WJkG_o.gif" alt="image"></p> 
<p>éœ€è¦è¯¦ç»†è·¯çº¿å›¾çš„ï¼Œä¸‹é¢è·å–</p> 
<p><img src="https://images2.imgbox.com/5e/9c/qy3sDQbv_o.png" alt=""></p> 
<h6><a id="_322"></a>è·¯çº¿å¯¹åº”å­¦ä¹ è§†é¢‘</h6> 
<p>åŒæ—¶æ¯ä¸ªæˆé•¿è·¯çº¿å¯¹åº”çš„æ¿å—éƒ½æœ‰é…å¥—çš„è§†é¢‘æä¾›ï¼š</p> 
<p><img src="https://images2.imgbox.com/9a/a2/AuMqmjH1_o.png" alt="image-20231025112050764"></p> 
<h6><a id="2_328"></a>2ï¸âƒ£è§†é¢‘é…å¥—å·¥å…·&amp;å›½å†…å¤–ç½‘å®‰ä¹¦ç±ã€æ–‡æ¡£</h6> 
<h6><a id="_330"></a>å·¥å…·</h6> 
<p><img src="https://images2.imgbox.com/bd/e3/BnjaSvEs_o.png" alt=""></p> 
<p>######è§†é¢‘</p> 
<p><img src="https://images2.imgbox.com/fa/f0/mikg15Vy_o.png" alt="image1"></p> 
<p>######ä¹¦ç±</p> 
<p><img src="https://images2.imgbox.com/b5/a0/xuI1VDuv_o.png" alt="image2"></p> 
<p>èµ„æºè¾ƒä¸ºæ•æ„Ÿï¼Œæœªå±•ç¤ºå…¨é¢ï¼Œéœ€è¦çš„ä¸‹é¢è·å–</p> 
<p><img src="https://images2.imgbox.com/a3/db/sW7OInG1_o.png" alt=""> ### 3ï¸âƒ£Pythoné¢è¯•é›†é”¦</p> 
<h6><a id="_346"></a>é¢è¯•èµ„æ–™</h6> 
<p><img src="https://images2.imgbox.com/87/2c/tfljCOrS_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><img src="https://images2.imgbox.com/07/8c/hGG0fLP0_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h6><a id="_350"></a>ç®€å†æ¨¡æ¿</h6> 
<p><img src="https://images2.imgbox.com/e7/2e/YaVU3epH_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><img src="https://images2.imgbox.com/b6/cf/HfBi2gI1_o.png" alt=""></p> 
<p><strong>å› ç¯‡å¹…æœ‰é™ï¼Œèµ„æ–™è¾ƒä¸ºæ•æ„Ÿä»…å±•ç¤ºéƒ¨åˆ†èµ„æ–™ï¼Œæ·»åŠ ä¸Šæ–¹å³å¯è·å–ğŸ‘†</strong></p> 
<p><strong>------ ğŸ™‡â€â™‚ï¸ æœ¬æ–‡è½¬è‡ªç½‘ç»œï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ ğŸ™‡â€â™‚ï¸ ------</strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3f9ccba324b775eb66ce71ce48769795/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">çœ‹ä¹¦æ ‡è®°ã€æ•°æ®ç§‘å­¦ï¼šRè¯­è¨€å®æˆ˜ 2ã€‘</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a705a5be840c74ae857a3dd526d228d1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">æ¯æ—¥ä¸€é¢˜ åŠ›æ‰£2846 è¾¹æƒé‡å‡ç­‰æŸ¥è¯¢</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 ç¼–ç¨‹ä¸­å›½çš„åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>