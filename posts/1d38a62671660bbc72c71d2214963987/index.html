<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Integer底层原理探究 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Integer底层原理探究" />
<meta property="og:description" content="目录
1. int和Integer的区别
2. 前提知识：
3. 实验比较：
1. int和Integer的区别 ● int是基本数据类型，代表整型数据，默认值是0；
● Integer是 int的包装类，属于引用类型，默认值为null；
● int 和 Integer 都可以表示某一个整型数值；
● Integer变量实际是对象的引用，当new一个Integer时，实际上是生成一个指针指向此对象；而int则是直接存储数据值；
● Integer可以区分出未赋值和值为 0 的区别，而int 则无法表达出未赋值的情况；
● int 和 Integer 不能够互用，因为他们是两种不同的数据类型；
● int在初始化时，可以直接写成 int=1 的形式；
● 因为Integer是包装类型，使用时可以采用 Integer i = new Integer(1) 的形式，但因为Java中的自动装箱和拆箱机制，使得对Integer类的赋值也可以使用 Integer i= 1 的形式；
● 如果我们只是进行一些加减乘除的运算 或者 作为参数进行传递，那么就可以直接使用int这样的基本数据类型；但如果想按照对象来进行操作处理，那么就要使用Integer来声明一个对象。
2. 前提知识： 1，装箱存在的情况： int 赋值给Integer 即基本类型赋值给包装类型时
Integer i = 1; 等价于 Integer i = Integer.valueOf(1); java自动完成装箱操作,
2，拆箱存在的情况： int与Integer比较 及基本类型和包装类型比较时" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/1d38a62671660bbc72c71d2214963987/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-31T10:32:18+08:00" />
<meta property="article:modified_time" content="2023-08-31T10:32:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Integer底层原理探究</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="-toc" style="margin-left:40px;"></p> 
<p id="h_622449721_1-toc" style="margin-left:40px;"><a href="#h_622449721_1" rel="nofollow">1. int和Integer的区别</a></p> 
<p id="2.%20%E5%89%8D%E6%8F%90%E7%9F%A5%E8%AF%86%EF%BC%9A-toc" style="margin-left:40px;"><a href="#2.%20%E5%89%8D%E6%8F%90%E7%9F%A5%E8%AF%86%EF%BC%9A" rel="nofollow">2. 前提知识：</a></p> 
<p id="3.%20%E5%AE%9E%E9%AA%8C%E6%AF%94%E8%BE%83%EF%BC%9A-toc" style="margin-left:40px;"><a href="#3.%20%E5%AE%9E%E9%AA%8C%E6%AF%94%E8%BE%83%EF%BC%9A" rel="nofollow">3. 实验比较：</a></p> 
<p id="-toc" style="margin-left:40px;"></p> 
<hr id="hr-toc"> 
<p></p> 
<h3 id="h_622449721_1"><strong>1. int和Integer的区别</strong></h3> 
<p>● int是基本数据类型，代表整型数据，默认值是0；<br> ● Integer是 int的包装类，属于引用类型，默认值为null；<br> ● int 和 Integer 都可以表示某一个整型数值；<br> ● Integer变量实际是对象的引用，当new一个Integer时，实际上是生成一个指针指向此对象；而int则是直接存储数据值；<br> ● Integer可以区分出未赋值和值为 0 的区别，而int 则无法表达出未赋值的情况；<br> ● int 和 Integer 不能够互用，因为他们是两种不同的数据类型；<br> ● int在初始化时，可以直接写成 int=1 的形式；<br> ● 因为Integer是包装类型，使用时可以采用 Integer i = new Integer(1) 的形式，但因为Java中的自动装箱和拆箱机制，使得对Integer类的赋值也可以使用 Integer i= 1 的形式；<br> ● 如果我们只是进行一些加减乘除的运算 或者 作为参数进行传递，那么就可以直接使用int这样的基本数据类型；但如果想按照对象来进行操作处理，那么就要使用Integer来声明一个对象。</p> 
<hr> 
<h3 id="2.%20%E5%89%8D%E6%8F%90%E7%9F%A5%E8%AF%86%EF%BC%9A">2. 前提知识：</h3> 
<p><strong>1，装箱存在的情况： int 赋值给Integer 即基本类型赋值给包装类型时</strong></p> 
<p>Integer i = 1; 等价于 Integer i = <strong>Integer.valueOf(1)</strong>; java自动完成装箱操作,</p> 
<p>2，<strong>拆箱存在的情况： int与Integer比较 及基本类型和包装类型比较时</strong></p> 
<pre>Integer i = new Integer(1);

int j = 1;

i == j //等价于 <strong>i.intValue() == j</strong> i对象会自动拆箱int类型和j进行比较</pre> 
<p>3，<strong>IntegerCache是个Integer的内部类，在类加载的时候创建了256个缓存Integer对象，范围-128至127，当生成的对象是这个范围内时默认使用缓存，除非是new 出来的；</strong></p> 
<p></p> 
<p> private static class IntegerCache {<!-- --><br>  static final int low = -128;<br>  static final int high;<br>  static final Integer cache[];</p> 
<p> static {<!-- --><br><br>  int h = 127;<br>  String integerCacheHighPropValue =<br>  sun.misc.VM.getSavedProperty("java.lang.Integer.IntegerCache.high");<br>  if (integerCacheHighPropValue != null) {<!-- --><br>  try {<!-- --><br>  int i = parseInt(integerCacheHighPropValue);<br>  i = Math.max(i, 127);<br><br>  h = Math.min(i, Integer.MAX_VALUE - (-low) -1);<br>  } catch( NumberFormatException nfe) {<!-- --><br><br>  }<br>  }<br>  high = h;</p> 
<p> cache = new Integer[(high - low) + 1];<br>  int j = low;<br>  for(int k = 0; k &lt; cache.length; k++)<br><strong> cache[k] = new Integer(j++);</strong></p> 
<p><br>  assert IntegerCache.high &gt;= 127;<br>  }</p> 
<p> private IntegerCache() {}<br>  }</p> 
<hr> 
<h3 id="3.%20%E5%AE%9E%E9%AA%8C%E6%AF%94%E8%BE%83%EF%BC%9A">3. 实验比较：<br>  </h3> 
<p>1，</p> 
<pre>Integer a=100;
Integer b=100;
System.out.println(a==b);//true（使用了缓存）</pre> 
<p>2，</p> 
<pre>Integer a1=new Integer(100);
Integer b1=new Integer(100);
System.out.println(a1==b1);//false（都是new出来的两个堆内对象）</pre> 
<p>3，</p> 
<pre>Integer a2=100;
Integer b2=new Integer(100);
System.out.println(a2==b2);//false（一个缓存一个new）</pre> 
<p>4,</p> 
<pre>Integer a3=1000;
Integer b3=1000;
System.out.println(a3==b3);//false(超出缓存范围都是new)</pre> 
<p>5,</p> 
<pre>Integer a4=1000;
int b4=1000;
System.out.println(a4==b4);//true(都转化为int比较）</pre> 
<hr> 
<h3>参考：</h3> 
<p>1. <a href="https://blog.csdn.net/lt_xiaodou/article/details/126570836" title="揭秘Integer实现原理及缓存机制_integer缓存机制_头顶假发的博客-CSDN博客">揭秘Integer实现原理及缓存机制_integer缓存机制_头顶假发的博客-CSDN博客</a></p> 
<p>2.<a href="https://zhuanlan.zhihu.com/p/622449721" rel="nofollow" title="从零开始学Java—Integer底层原理探究 - 知乎">从零开始学Java—Integer底层原理探究 - 知乎</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/990d09793588c48182175e29180f761a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">NodeJs-fs模块</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/60b362ef06612786aba194ad83def9fa/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">记录一下：基于nginx配置的封禁真实IP</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>