<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SpringBoot的配置文件类型 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SpringBoot的配置文件类型" />
<meta property="og:description" content="四、SpringBoot的配置文件 4.1 SpringBoot配置文件类型
4.1.1 SpringBoot配置文件类型和作用
SpringBoot是基于约定的，所以很多配置都有默认值，但如果想使用自己的配置替换默认配置的话，就可以使用
application.properties或者application.yml（application.yaml）进行配置。
SpringBoot默认会从Resources目录下加载application.properties或application.yml（application.yaml）文件 其中，application.properties文件是键值对类型的文件，之前一直在使用，所以此处不在对properties文件的格式
进行阐述。除了properties文件外，SpringBoot还可以使用yml文件进行配置，下面对yml文件进行讲解。
4.1.2 application.yml配置文件
4.1.2.1 yml配置文件简介
YML文件格式是YAML (YAML Aint Markup Language)编写的文件格式，YAML是一种直观的能够被电脑识别的的数
据数据序列化格式，并且容易被人类阅读，容易和脚本语言交互的，可以被支持YAML库的不同的编程语言程序导
入，比如： C/C&#43;&#43;, Ruby, Python, Java, Perl, C#, PHP等。YML文件是以数据为核心的，比传统的xml方式更加简
洁。
YML文件的扩展名可以使用.yml或者.yaml。
4.1.2.2 yml配置文件的语法
4.1.2.2.1 配置普通数据
语法： key: value示例代码： name: haohao 注意：value之前有一个空格
4.1.2.2.2 配置对象数据语法：key: key1: value1 key2: value2 或者： key: {key1: value1,key2: value2} 示例代码：
person: name: haohao age: 31 addr: beijing #或者 person: {name: haohao,age: 31,addr: beijing} 注意：key1前面的空格个数不限定，在yml语法中，相同缩进代表同一个级别
4.1.2.2.3 配置数组（List、Set）数据语法：key: value1value2 或者： key: [value1,value2] 示例代码：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/b184a3cda5fa38c10724ad3e81815289/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-05-20T21:10:09+08:00" />
<meta property="article:modified_time" content="2019-05-20T21:10:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SpringBoot的配置文件类型</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="SpringBoot_0"></a>四、SpringBoot的配置文件</h3> 
<p><strong>4.1 SpringBoot配置文件类型</strong><br> <strong>4.1.1 SpringBoot配置文件类型和作用</strong><br> SpringBoot是基于约定的，所以很多配置都有默认值，但如果想使用自己的配置替换默认配置的话，就可以使用<br> application.properties或者application.yml（application.yaml）进行配置。<br> SpringBoot默认会从Resources目录下加载application.properties或application.yml（application.yaml）文件 其中，application.properties文件是键值对类型的文件，之前一直在使用，所以此处不在对properties文件的格式<br> 进行阐述。除了properties文件外，SpringBoot还可以使用yml文件进行配置，下面对yml文件进行讲解。<br> <strong>4.1.2 application.yml配置文件</strong><br> <strong>4.1.2.1 yml配置文件简介</strong><br> YML文件格式是YAML (YAML Aint Markup Language)编写的文件格式，YAML是一种直观的能够被电脑识别的的数<br> 据数据序列化格式，并且容易被人类阅读，容易和脚本语言交互的，可以被支持YAML库的不同的编程语言程序导<br> 入，比如： C/C++, Ruby, Python, Java, Perl, C#, PHP等。YML文件是以数据为核心的，比传统的xml方式更加简<br> 洁。<br> YML文件的扩展名可以使用.yml或者.yaml。<br> <strong>4.1.2.2 yml配置文件的语法</strong><br> <strong>4.1.2.2.1 配置普通数据</strong></p> 
<ul><li>语法： key: value</li><li>示例代码：</li></ul> 
<pre><code>name: haohao
</code></pre> 
<ul><li>注意：value之前有一个空格<br> <strong>4.1.2.2.2 配置对象数据</strong></li><li>语法：</li><li>key: key1: value1 key2: value2 或者： key: {key1: value1,key2: value2}</li></ul> 
<p>示例代码：</p> 
<pre><code>	person:
		name: haohao
		age: 31
		addr: beijing
		#或者
		person: {name: haohao,age: 31,addr: beijing}
</code></pre> 
<ul><li>注意：key1前面的空格个数不限定，在yml语法中，相同缩进代表同一个级别<br> <strong>4.1.2.2.3 配置数组（List、Set）数据</strong></li><li>语法：</li><li>key: 
  <ul><li>value1</li><li>value2 或者： key: [value1,value2]</li></ul> </li></ul> 
<p><strong>示例代码：</strong></p> 
<pre><code>	city:
	- beijing
	- tianjin
	- shanghai
	- chongqing
#或者
	city: [beijing,tianjin,shanghai,chongqing]
	#集合中的元素是对象形式
	student:
	- name: zhangsan
	age: 18
	score: 100
	- name: lisi
	age: 28
	score: 88
	- name: wangwu
	age: 38
	score: 90
</code></pre> 
<ul><li>注意：value1与之间的 - 之间存在一个空格</li></ul> 
<p><strong>4.1.3 SpringBoot配置信息的查询</strong><br> 上面提及过，SpringBoot的配置文件，主要的目的就是对配置信息进行修改的，但在配置时的key从哪里去查询<br> 呢？我们可以查阅SpringBoot的官方文档<br> 文档URL：<a href="https://docs.spring.io/spring-boot/docs/2.0.1.RELEASE/reference/htmlsingle/#common-application-" rel="nofollow">https://docs.spring.io/spring-boot/docs/2.0.1.RELEASE/reference/htmlsingle/#common-application-</a><br> properties<br> <strong>常用的配置摘抄如下：</strong></p> 
<pre><code>spring.quartz.properties.*= # Additional Quartz Scheduler properties.
# ----------------------------------------
# WEB PROPERTIES
# ----------------------------------------
# EMBEDDED SERVER CONFIGURATION (ServerProperties)

server.port=8080 # Server HTTP port.
server.servlet.context-path= # Context path of the application.
server.servlet.path=/ # Path of the main dispatcher servlet.

# HTTP encoding (HttpEncodingProperties)
spring.http.encoding.charset=UTF-8 # Charset of HTTP requests and responses. Added to
the "Content-Type" header if not set explicitly.

# JACKSON (JacksonProperties)
spring.jackson.date-format= # Date format string or a fully-qualified date format
class name. For instance, `yyyy-MM-dd HH:mm:ss`.

# SPRING MVC (WebMvcProperties)
spring.mvc.servlet.load-on-startup=-1 # Load on startup priority of the dispatcher
servlet.
spring.mvc.static-path-pattern=/** # Path pattern used for static resources.
spring.mvc.view.prefix= # Spring MVC view prefix.
spring.mvc.view.suffix= # Spring MVC view suffix.

# DATASOURCE (DataSourceAutoConfiguration &amp; DataSourceProperties)
spring.datasource.driver-class-name= # Fully qualified name of the JDBC driver. Auto-
detected based on the URL by default.
spring.datasource.password= # Login password of the database.
spring.datasource.url= # JDBC URL of the database.
spring.datasource.username= # Login username of the database.

# JEST (Elasticsearch HTTP client) (JestProperties)
spring.elasticsearch.jest.password= # Login password.
spring.elasticsearch.jest.proxy.host= # Proxy host the HTTP client should use.
spring.elasticsearch.jest.proxy.port= # Proxy port the HTTP client should use.
spring.elasticsearch.jest.read-timeout=3s # Read timeout.
spring.elasticsearch.jest.username= # Login username.
</code></pre> 
<p>我们可以通过配置application.poperties 或者 application.yml 来修改SpringBoot的默认配置<br> 例如：<br> <em>application.properties文件</em></p> 
<pre><code>server.port=8888
server.servlet.context-path=demo
</code></pre> 
<p><em>application.yml文件</em></p> 
<pre><code>server:
	port: 8888
	servlet:
		context-path: /demo
</code></pre> 
<p><strong>4.2 配置文件与配置类的属性映射方式</strong><br> <strong>4.2.1 使用注解@Value映射</strong><br> 我们可以通过@Value注解将配置文件中的值映射到一个Spring管理的Bean的字段上<br> 例如：<br> <em>application.properties配置如下：</em></p> 
<pre><code>person:
	name: zhangsan
	age: 18
</code></pre> 
<p><em>或者，application.yml配置如下：</em></p> 
<pre><code>person:
	name: zhangsan
	age: 18
</code></pre> 
<p><em>实体Bean代码如下：</em></p> 
<pre><code>@Controller
public class QuickStartController {
	@Value("${person.name}")
	private String name;
	@Value("${person.age}")
	private Integer age;
	
	@RequestMapping("/quick")
	@ResponseBody
	public String quick(){
	return "springboot 访问成功! name="+name+",age="+age;
	}
}
</code></pre> 
<p>浏览器访问地址：<a href="http://localhost:8080/quick" rel="nofollow">http://localhost:8080/quick</a> 结果如下：<br> <img src="https://images2.imgbox.com/54/78/SNzaosmh_o.png" alt="在这里插入图片描述"><strong>4.2.2 使用注解@ConfigurationProperties映射</strong><br> 通过注解@ConfigurationProperties(prefix=“配置文件中的key的前缀”)可以将配置文件中的配置自动与实体进行映射<em>application.properties配置如下：</em></p> 
<pre><code>person:
	name: zhangsan
	age: 18
</code></pre> 
<p><em>或者，application.yml配置如下：</em></p> 
<pre><code>person:
	name: zhangsan
	age: 18
</code></pre> 
<p><em>实体Bean代码如下：</em></p> 
<pre><code>@Controller
@ConfigurationProperties(prefix = "person")
public class QuickStartController {
		private String name;
		private Integer age;
		
		@RequestMapping("/quick")
		@ResponseBody
		public String quick(){
		return "springboot 访问成功! name="+name+",age="+age;
		}
		
		public void setName(String name) {
		this.name = name;
		}
		public void setAge(Integer age) {
		this.age = age;
		}
}
</code></pre> 
<p>浏览器访问地址：<a href="http://localhost:8080/quick" rel="nofollow">http://localhost:8080/quick</a> 结果如下：<br> <img src="https://images2.imgbox.com/02/71/2ORa4qUJ_o.png" alt="在这里插入图片描述"><strong>注意：使用@ConfigurationProperties方式可以进行配置文件与实体字段的自动映射，但需要字段必须提供set方法才可以，而使用@Value注解修饰的字段不需要提供set方法</strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e86f808a71e84c23a2b5f57f48e315a8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java动态创建MultipartFile表单</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a4c24495b4535b94b792ec01016168d6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MSQL开机 High Severity Error</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>