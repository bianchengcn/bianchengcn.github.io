<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>如何基于 ESP32 芯片测试 WiFi 连接距离、获取连接的 AP 信号强度（RSSI）以及 WiFi吞吐测试 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="如何基于 ESP32 芯片测试 WiFi 连接距离、获取连接的 AP 信号强度（RSSI）以及 WiFi吞吐测试" />
<meta property="og:description" content="测试说明： 测试 WiFi 连接距离，是将 ESP32 作为 WiFi Station 模式来连接路由器，通过在开阔环境下进行拉距来测试。另外，可以通过增大 WiFi TX Power 来增大连接距离。
获取连接的 AP 信号强度，一般可以通过 WiFi 扫描（Scan）来获取周围环境下的热点的 AP 的信号强度，注意: 距离越远，信号强度越弱。
测试 WiFi 吞吐，一般是通过 UDP 协议频繁发包，来看传输速率。可以关闭 Power Save 模式来增加 WiFi 吞吐。
测试方法： 可以基于官方 esp-idf/examples/wifi/iperf 例程来完成这些测试。 软件设置： 设置 WiFi TX power
关闭 Power Save 模式
芯片下载 esp-idf/examples/wifi/iperf 例程之后，可通过运行如下指令来完成测试：
测试 WiFi 连接距离 sta cc2.4 espressif 参数说明：
sta: 代表将 ESP32 作为 WiFi Station 模式cc2.4 : 被连接的路由器的 SSID12345678: 被连接的路由器的 Password 获取 WiFI AP 的信号强度（RSSI） scan 测试 WiFi 吞吐 iperf -c 192." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/726f847942310982f2d2c6f1e2f59ff6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-26T18:14:38+08:00" />
<meta property="article:modified_time" content="2024-01-26T18:14:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">如何基于 ESP32 芯片测试 WiFi 连接距离、获取连接的 AP 信号强度（RSSI）以及 WiFi吞吐测试</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>测试说明：</h3> 
<ul><li> <p><strong>测试 WiFi 连接距离，是将 ESP32 作为 WiFi Station 模式来连接路由器，通过在开阔环境下进行拉距来测试。另外，可以通过<code>增大 WiFi TX Power</code> 来增大连接距离。</strong></p> </li><li> <p><strong>获取连接的 AP 信号强度，一般可以通过 WiFi 扫描（Scan）来获取周围环境下的热点的 AP 的信号强度，<code>注意: 距离越远，信号强度越弱。</code></strong></p> </li><li> <p><strong>测试 WiFi 吞吐，一般是通过 UDP 协议频繁发包，来看传输速率。可以<code>关闭 Power Save 模式</code>来增加 WiFi 吞吐。</strong></p> </li></ul> 
<h3><a id="_8"></a>测试方法：</h3> 
<ul><li><strong>可以基于官方 <a href="https://github.com/espressif/esp-idf/tree/master/examples/wifi/iperf">esp-idf/examples/wifi/iperf</a> 例程来完成这些测试。</strong></li></ul> 
<h3><a id="_12"></a>软件设置：</h3> 
<ul><li> <p><strong>设置 WiFi TX power</strong><br> <img src="https://images2.imgbox.com/fd/5e/cI78LuaM_o.png" alt="在这里插入图片描述"></p> </li><li> <p><strong>关闭 Power Save 模式</strong><br> <img src="https://images2.imgbox.com/a8/cf/9obDb94q_o.png" alt="在这里插入图片描述"></p> </li></ul> 
<p><strong>芯片下载 <a href="https://github.com/espressif/esp-idf/tree/master/examples/wifi/iperf">esp-idf/examples/wifi/iperf</a> 例程之后，可通过运行如下指令来完成测试：</strong></p> 
<ul><li><strong>测试 WiFi 连接距离</strong></li></ul> 
<pre><code class="prism language-bash">sta cc2.4 espressif
</code></pre> 
<blockquote> 
 <p><strong>参数说明：</strong></p> 
 <ul><li><strong><code>sta</code>: 代表将 ESP32 作为 WiFi Station 模式</strong></li><li><strong><code>cc2.4</code> : 被连接的路由器的 SSID</strong></li><li><strong><code>12345678</code>: 被连接的路由器的 Password</strong></li></ul> 
</blockquote> 
<ul><li><strong>获取 WiFI AP 的信号强度（RSSI）</strong></li></ul> 
<pre><code class="prism language-bash">scan
</code></pre> 
<p><img src="https://images2.imgbox.com/73/af/cHArUDCH_o.png" alt="在这里插入图片描述"></p> 
<ul><li><strong>测试 WiFi 吞吐</strong></li></ul> 
<pre><code class="prism language-bash">iperf -c <span class="token number">192.168</span>.1.1 -u -i <span class="token number">3</span> -t <span class="token number">30</span>
</code></pre> 
<blockquote> 
 <p><strong><code>Note ： 192.168.1.1 是路由器的 IP 地址</code></strong></p> 
 <p><strong>参数说明：</strong></p> 
 <ul><li><strong><code>-c</code> ： 代表将 ESP32 作为 Client 模式</strong></li><li><strong><code>192.168.1.1</code> ：是路由器的 IP 地址，将路由器作为 Server 模式</strong></li><li><strong><code>-u</code>：代表使用 UDP 协议</strong></li><li><strong><code>-i 3</code>： 代表每 3 秒统计一次传输速率</strong></li><li><strong><code>-t 30</code>：代表总共测试 30 秒</strong></li></ul> 
</blockquote> 
<p><img src="https://images2.imgbox.com/17/fc/eWeBArkL_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<p><strong>WiFi 性能优化文档：</strong></p> 
<ul><li><a href="https://docs.espressif.com/projects/esp-idf/zh_CN/latest/esp32/api-guides/wifi.html#how-to-improve-wi-fi-performance" rel="nofollow">如何提高 Wi-Fi 性能</a></li><li><a href="https://iperf.fr/iperf-doc.php" rel="nofollow">iperf 指令使用说明</a></li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/574de2e85db407c2b317c5ff584b51cf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">力扣hot100 腐烂的橘子 BFS 矢量数组 满注释版</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e0f66d3f1f95dc80a697f90bf66e96c9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">chatGPT辅助写硕士毕业论文</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>