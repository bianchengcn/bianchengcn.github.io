<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>19. 删除链表的倒数第 N 个结点（力扣LeetCode） - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="19. 删除链表的倒数第 N 个结点（力扣LeetCode）" />
<meta property="og:description" content="文章目录 19. 删除链表的倒数第 N 个结点题目描述将删除倒数第n个节点转化为删除第n个节点双指针 19. 删除链表的倒数第 N 个结点 题目描述 给你一个链表，删除链表的倒数第 n 个结点，并且返回链表的头结点。
示例 1：
输入：head = [1,2,3,4,5], n = 2
输出：[1,2,3,5]
示例 2：
输入：head = [1], n = 1
输出：[]
示例 3：
输入：head = [1,2], n = 1
输出：[1]
提示：
链表中结点的数目为 sz1 &lt;= sz &lt;= 300 &lt;= Node.val &lt;= 1001 &lt;= n &lt;= sz 将删除倒数第n个节点转化为删除第n个节点 先用一个哑节点（虚拟头节点）来简化删除头节点的情况。然后，它通过第一次遍历计算出链表的长度，接着计算出要到达的节点，最后通过第二次遍历找到目标节点的前一个节点。通过修改指针，实现了目标节点的删除，并且在结束前释放了删除节点和哑节点占用的内存。最终返回了新链表的头节点。
删除第n个节点时需要找到前一个节点才能删除
class Solution { public: ListNode* removeNthFromEnd(ListNode* head, int n) { ListNode* dummyhead = new ListNode(0); // 创建一个哑节点，其值为0，next指向链表的头节点head dummyhead-&gt;next = head; ListNode* cur = dummyhead; // 创建一个指针cur，初始化为指向哑节点 int size = 0; while(cur) { // 遍历整个链表来计算链表的长度 cur = cur-&gt;next; size&#43;&#43;; } cur = dummyhead; // 重置cur指针回到哑节点的位置，准备第二次遍历 int a = size - n - 1; // 计算正向第size-n个节点的索引（因为哑节点的存在，所以要额外减1） while(a--) { // 移动cur指针到正向第size-n个节点的前一个节点上 cur = cur-&gt;next; } ListNode* tmp = cur-&gt;next; // 创建一个临时指针tmp，指向要删除的节点 cur-&gt;next = cur-&gt;next-&gt;next; // 将要删除节点的前一个节点的next指向要删除节点的下一个节点，从而断开连接 delete tmp; // 删除tmp指针指向的节点，释放内存 ListNode* newHead = dummyhead-&gt;next; // 保存新的头节点，即哑节点的下一个节点 delete dummyhead; // 删除哑节点，释放内存 return newHead; // 返回新的头节点 } }; 双指针 通过使用两个指针来实现的，一个快指针（fast）首先向前移动 n 步，然后快指针和慢指针（slow）一起移动直到快指针到达链表尾部。此时慢指针指向的是倒数第 n 个节点的前一个节点。然后该节点被删除，并释放其内存。最后，函数删除了在开始时创建的哑节点（虚拟头节点），并返回链表的新头节点。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/e434222861c6f8e7e8336af0fa37213a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-29T04:51:02+08:00" />
<meta property="article:modified_time" content="2024-01-29T04:51:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">19. 删除链表的倒数第 N 个结点（力扣LeetCode）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#19__N__1" rel="nofollow">19. 删除链表的倒数第 N 个结点</a></li><li><ul><li><a href="#_2" rel="nofollow">题目描述</a></li><li><a href="#nn_29" rel="nofollow">将删除倒数第n个节点转化为删除第n个节点</a></li><li><a href="#_65" rel="nofollow">双指针</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="19__N__1"></a>19. 删除链表的倒数第 N 个结点</h2> 
<h3><a id="_2"></a>题目描述</h3> 
<p>给你一个链表，删除链表的倒数第 n 个结点，并且返回链表的头结点。</p> 
<p><strong>示例 1：</strong><br> <img src="https://images2.imgbox.com/ac/c7/ogV8Lwru_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>输入：head = [1,2,3,4,5], n = 2<br> 输出：[1,2,3,5]</p> 
</blockquote> 
<p><strong>示例 2：</strong></p> 
<blockquote> 
 <p>输入：head = [1], n = 1<br> 输出：[]</p> 
</blockquote> 
<p><strong>示例 3：</strong></p> 
<blockquote> 
 <p>输入：head = [1,2], n = 1<br> 输出：[1]</p> 
</blockquote> 
<p><strong>提示：</strong></p> 
<ul><li>链表中结点的数目为 sz</li><li>1 &lt;= sz &lt;= 30</li><li>0 &lt;= Node.val &lt;= 100</li><li>1 &lt;= n &lt;= sz</li></ul> 
<h3><a id="nn_29"></a>将删除倒数第n个节点转化为删除第n个节点</h3> 
<p>  先用一个哑节点（虚拟头节点）来简化删除头节点的情况。然后，它通过第一次遍历计算出链表的长度，接着计算出要到达的节点，最后通过第二次遍历找到目标节点的前一个节点。通过修改指针，实现了目标节点的删除，并且在结束前释放了删除节点和哑节点占用的内存。最终返回了新链表的头节点。<br>   <mark>删除第n个节点时需要找到前一个节点才能删除</mark><br> <img src="https://images2.imgbox.com/4d/65/AbXWjtOm_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    ListNode<span class="token operator">*</span> <span class="token function">removeNthFromEnd</span><span class="token punctuation">(</span>ListNode<span class="token operator">*</span> head<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        ListNode<span class="token operator">*</span> dummyhead <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">ListNode</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建一个哑节点，其值为0，next指向链表的头节点head</span>
        dummyhead<span class="token operator">-&gt;</span>next <span class="token operator">=</span> head<span class="token punctuation">;</span>
        ListNode<span class="token operator">*</span> cur <span class="token operator">=</span> dummyhead<span class="token punctuation">;</span> <span class="token comment">// 创建一个指针cur，初始化为指向哑节点</span>
        <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 遍历整个链表来计算链表的长度</span>
            cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
            size<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        cur <span class="token operator">=</span> dummyhead<span class="token punctuation">;</span> <span class="token comment">// 重置cur指针回到哑节点的位置，准备第二次遍历</span>
        <span class="token keyword">int</span> a <span class="token operator">=</span> size <span class="token operator">-</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 计算正向第size-n个节点的索引（因为哑节点的存在，所以要额外减1）</span>

        <span class="token keyword">while</span><span class="token punctuation">(</span>a<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 移动cur指针到正向第size-n个节点的前一个节点上</span>
            cur <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        ListNode<span class="token operator">*</span> tmp <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span> <span class="token comment">// 创建一个临时指针tmp，指向要删除的节点</span>
        cur<span class="token operator">-&gt;</span>next <span class="token operator">=</span> cur<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span> <span class="token comment">// 将要删除节点的前一个节点的next指向要删除节点的下一个节点，从而断开连接</span>

        <span class="token keyword">delete</span> tmp<span class="token punctuation">;</span> <span class="token comment">// 删除tmp指针指向的节点，释放内存</span>

        ListNode<span class="token operator">*</span> newHead <span class="token operator">=</span> dummyhead<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span> <span class="token comment">// 保存新的头节点，即哑节点的下一个节点</span>
        <span class="token keyword">delete</span> dummyhead<span class="token punctuation">;</span> <span class="token comment">// 删除哑节点，释放内存</span>
        
        <span class="token keyword">return</span> newHead<span class="token punctuation">;</span> <span class="token comment">// 返回新的头节点</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_65"></a>双指针</h3> 
<p>  通过使用两个指针来实现的，一个快指针（fast）首先向前移动 n 步，然后快指针和慢指针（slow）一起移动直到快指针到达链表尾部。此时慢指针指向的是倒数第 n 个节点的前一个节点。然后该节点被删除，并释放其内存。最后，函数删除了在开始时创建的哑节点（虚拟头节点），并返回链表的新头节点。</p> 
<ul><li>fast先移动n步<br> <img src="https://images2.imgbox.com/ad/4d/HrV71z6Z_o.png" alt="在这里插入图片描述"></li><li>然后fast和slow再<mark>同时移动</mark>，fast移动到NULL，slow随着fast一起移动就能找到需要删除的节点，因为删除节点需要找到删除节点的前一个结点，所以fast只需要移动到NULL的前一个结点，slow结点也就移动到删除节点的前一个结点<br> <img src="https://images2.imgbox.com/da/54/oSAfOUnK_o.png" alt="在这里插入图片描述"></li></ul> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    ListNode<span class="token operator">*</span> <span class="token function">removeNthFromEnd</span><span class="token punctuation">(</span>ListNode<span class="token operator">*</span> head<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 创建一个哑节点（dummy head），其值不重要，目的是为了简化边缘情况的处理，</span>
        <span class="token comment">// 比如删除的是链表的头节点。哑节点的下一个节点是链表的实际头节点。</span>
        ListNode<span class="token operator">*</span> dummyhead <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">ListNode</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dummyhead<span class="token operator">-&gt;</span>next <span class="token operator">=</span> head<span class="token punctuation">;</span>

        <span class="token comment">// 创建两个指针，fast 和 slow，都开始时指向哑节点</span>
        ListNode<span class="token operator">*</span> fast <span class="token operator">=</span> dummyhead<span class="token punctuation">;</span>
        ListNode<span class="token operator">*</span> slow <span class="token operator">=</span> dummyhead<span class="token punctuation">;</span>

        <span class="token comment">// 移动快指针fast，使其领先慢指针slow n 个节点。</span>
        <span class="token comment">// 这是为了当fast指针到达链表末尾时，slow指针将指向倒数第n个节点的前一个节点。</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span>
            fast <span class="token operator">=</span> fast<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>

        <span class="token comment">// 同时移动快指针和慢指针，直到快指针到达最后一个节点。</span>
        <span class="token comment">// 这样做是为了找到倒数第n个节点，因为当快指针到达链表尾部时，</span>
        <span class="token comment">// 慢指针将会指向倒数第n个节点前的一个节点。</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>fast<span class="token operator">-&gt;</span>next <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            fast <span class="token operator">=</span> fast<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
            slow <span class="token operator">=</span> slow<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// slow指针现在指向倒数第n个节点的前一个节点，</span>
        <span class="token comment">// tmp是倒数第n个节点，准备删除这个节点。</span>
        ListNode<span class="token operator">*</span> tmp <span class="token operator">=</span> slow<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>

        <span class="token comment">// 断开倒数第n个节点的连接，将其前一个节点的next指向其下一个节点，</span>
        <span class="token comment">// 从而将其从链表中移除。</span>
        slow<span class="token operator">-&gt;</span>next <span class="token operator">=</span> slow<span class="token operator">-&gt;</span>next<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>

        <span class="token comment">// 删除tmp指针指向的节点，即释放倒数第n个节点的内存。</span>
        <span class="token keyword">delete</span> tmp<span class="token punctuation">;</span>
        <span class="token comment">// 将tmp设置为nullptr，防止悬挂指针导致的未定义行为。</span>
        tmp <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>

        <span class="token comment">// newhead是指向链表新头节点的指针，即哑节点之后的节点。</span>
        ListNode<span class="token operator">*</span> newhead <span class="token operator">=</span> dummyhead<span class="token operator">-&gt;</span>next<span class="token punctuation">;</span>

        <span class="token comment">// 删除哑节点，释放其内存。</span>
        <span class="token keyword">delete</span> dummyhead<span class="token punctuation">;</span>
        <span class="token comment">// 将dummyhead设置为nullptr，防止悬挂指针导致的未定义行为。</span>
        dummyhead <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>

        <span class="token comment">// 返回链表的新头节点。</span>
        <span class="token keyword">return</span> newhead<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3f90ac47fe3b0fb6de2639ec1247e3b8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">操作系统（7）----调度相关知识点（万字总结~）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/24843bd295fac870acb71bdf3a3cfda4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">AI智能化办公：巧用ChatGPT高效搞定Excel数据分析</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>