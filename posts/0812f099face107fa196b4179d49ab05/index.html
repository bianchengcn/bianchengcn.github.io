<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>JMeter 测试脚本编写技巧 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="JMeter 测试脚本编写技巧" />
<meta property="og:description" content="JMeter 是一款开源软件，用于进行负载测试、性能测试及功能测试。测试人员可以使用 JMeter 编写测试脚本，模拟多种不同的负载情况，从而评估系统的性能和稳定性。以下是编写 JMeter 测试脚本的步骤。
第 1 步：创建测试计划 在JMeter中，测试计划是测试的最高级别，它包含了各种元素和配置，如线程组、断言、监听器等。测试人员需要在JMeter中创建一个新的测试计划，并添加必要的元素和配置。
要创建新的测试计划，请选择： 文件 &gt; 新建 &gt; 填写计划名称。
第 2 步：添加线程组 在测试计划中，测试人员需要添加一个或多个线程组。线程组是测试的基本单位，它定义了测试的并发用户数量、持续时间和其他属性。测试人员需要根据需求设置线程组的属性。
要创建线程组，请右击测试计划并选择： 添加 &gt; 线程(用户) &gt; 线程组。
填写线程组信息。
线程数：10 个线程就是模拟 10 个用户。Ramp-Up 时间 (秒)：线程准备时长。如果线程数为 10，准备时长为 10，那么需要 1秒钟启动 1 个线程。循环次数。如果线程数为 10，循环次数为 10，那么每个线程发送 10 次请求。总请求数为 10*10 =
100。如果勾选了“永远”，那么所有线程会一直发送请求，直到手动停止。 第 3 步：添加取样器 取样器 是 JMeter 测试的核心组件，它模拟了用户执行的操作。测试人员需要添加一个或多个取样器，并设置它们的属性。常见的取样器类型包括 HTTP 请求、TCP 请求、FTP 请求、JDBC 请求等。
这边以添加 HTTP 请求为例。添加 HTTP 请求，右击线程组并选择：添加 &gt; 取样器 &gt; HTTP 请求。
填写 HTTP 的调用信息。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/0812f099face107fa196b4179d49ab05/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-28T16:15:46+08:00" />
<meta property="article:modified_time" content="2023-07-28T16:15:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">JMeter 测试脚本编写技巧</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>JMeter 是一款开源软件，用于进行负载测试、性能测试及功能测试。测试人员可以使用 JMeter 编写测试脚本，模拟多种不同的负载情况，从而评估系统的性能和稳定性。以下是编写 JMeter 测试脚本的步骤。</p> 
<h3><a id="_1__2"></a>第 1 步：创建测试计划</h3> 
<p>在JMeter中，测试计划是测试的最高级别，它包含了各种元素和配置，如线程组、断言、监听器等。测试人员需要在JMeter中创建一个新的测试计划，并添加必要的元素和配置。</p> 
<p>要创建新的测试计划，请选择： 文件 &gt; 新建 &gt; 填写计划名称。</p> 
<h3><a id="_2__9"></a>第 2 步：添加线程组</h3> 
<p>在测试计划中，测试人员需要添加一个或多个线程组。线程组是测试的基本单位，它定义了测试的并发用户数量、持续时间和其他属性。测试人员需要根据需求设置线程组的属性。</p> 
<p>要创建线程组，请右击测试计划并选择： 添加 &gt; 线程(用户) &gt; 线程组。</p> 
<p><img src="https://images2.imgbox.com/89/31/j8E915Vq_o.png" alt="在这里插入图片描述"></p> 
<p>填写线程组信息。</p> 
<p><img src="https://images2.imgbox.com/90/2b/z0nd7PEg_o.png" alt="在这里插入图片描述"></p> 
<ul><li>线程数：10 个线程就是模拟 10 个用户。</li><li>Ramp-Up 时间 (秒)：线程准备时长。如果线程数为 10，准备时长为 10，那么需要 1秒钟启动 1 个线程。</li><li>循环次数。如果线程数为 10，循环次数为 10，那么每个线程发送 10 次请求。总请求数为 10*10 =<br> 100。如果勾选了“永远”，那么所有线程会一直发送请求，直到手动停止。</li></ul> 
<h3><a id="_3__27"></a>第 3 步：添加取样器</h3> 
<p>取样器 是 JMeter 测试的核心组件，它模拟了用户执行的操作。测试人员需要添加一个或多个取样器，并设置它们的属性。常见的取样器类型包括 HTTP 请求、TCP 请求、FTP 请求、JDBC 请求等。</p> 
<p>这边以添加 HTTP 请求为例。添加 HTTP 请求，右击线程组并选择：添加 &gt; 取样器 &gt; HTTP 请求。</p> 
<p><img src="https://images2.imgbox.com/14/36/sMJgN2j0_o.png" alt="在这里插入图片描述"></p> 
<p>填写 HTTP 的调用信息。</p> 
<p><img src="https://images2.imgbox.com/64/79/aaup2dUt_o.png" alt="在这里插入图片描述"></p> 
<p>传过去的数据是 json 格式的，因此要添加头信息：Content-Type：application/json。右击 HTTP 请求并选择：添加 &gt; 配置元件 &gt; HTTP 信息头管理。</p> 
<p><img src="https://images2.imgbox.com/0b/9d/trrOR0b5_o.png" alt="在这里插入图片描述"></p> 
<p>添加头信息：Content-Type：application/json。</p> 
<p><img src="https://images2.imgbox.com/06/12/LoWtWOUN_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_4__49"></a>第 4 步：添加断言</h3> 
<p>断言是 JMeter 测试中的重要组件，它用于验证服务器的响应是否符合预期。测试人员需要添加一个或多个断言，并设置它们的属性。</p> 
<ul><li>常见的断言类型包括响应断言 和 JSON 断言：</li><li>响应断言包括：文本、响应代码、响应头、响应时间等。</li></ul> 
<p>JSON 断言允许用户指定 JSON 路径表达式并验证 JSON 响应是否符合该表达式。</p> 
<h3><a id="_58"></a>响应断言</h3> 
<p>添加响应断言: 右击接口 &gt; 添加 &gt; 断言 &gt; 响应断言。</p> 
<p><img src="https://images2.imgbox.com/53/40/t1TEYEWa_o.png" alt="在这里插入图片描述"></p> 
<p>对 响应文本中 包含字符串 “Apple” 做断言：</p> 
<p><img src="https://images2.imgbox.com/0c/ca/pyddyjfC_o.png" alt="在这里插入图片描述"></p> 
<p>对 HTTP 的响应码 做断言：</p> 
<p><img src="https://images2.imgbox.com/b0/7b/ibKg46xD_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="JSON__74"></a>JSON 断言</h3> 
<p>添加 JSON 断言: 右击接口 &gt; 添加 &gt; 断言 &gt; JSON断言。</p> 
<p><img src="https://images2.imgbox.com/85/f5/R3eIfvh0_o.png" alt="在这里插入图片描述"></p> 
<p>对接口返回的 total 做断言：</p> 
<p><img src="https://images2.imgbox.com/0b/9e/0MEVfLA1_o.png" alt="在这里插入图片描述"></p> 
<p>对接口返回的 data 的第 1 项 name 做断言：</p> 
<p><img src="https://images2.imgbox.com/d7/ba/wpPteYjU_o.png" alt="在这里插入图片描述"></p> 
<p>上面的 JSON Path 指的是 JSON 路径表达式。表达式由一系列的属性名和数组索引组成：以 “$.” 开头，用“.”和“[]”分隔。例如，以下 JSON 响应：</p> 
<pre><code class="prism language-bash"><span class="token punctuation">{<!-- --></span>
    <span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"John"</span>,
    <span class="token string">"age"</span><span class="token builtin class-name">:</span> <span class="token number">30</span>,
    <span class="token string">"cars"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"Ford"</span>,
            <span class="token string">"models"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">"Fiesta"</span>,
                <span class="token string">"Focus"</span>,
                <span class="token string">"Mustang"</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{<!-- --></span>
            <span class="token string">"name"</span><span class="token builtin class-name">:</span> <span class="token string">"BMW"</span>,
            <span class="token string">"models"</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">"320"</span>,
                <span class="token string">"X3"</span>,
                <span class="token string">"X5"</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>可以使用以下表达式获取相应的值：</p> 
<ul><li>$.name：获取 “John”。</li><li>$.cars[0].name：获取 “Ford”。</li><li>$.cars[1].models[2]：获取 “X5”。</li></ul> 
<h3><a id="_124"></a>断言结果</h3> 
<p>运行用例。如果 响应符合断言，则什么都不会发生。否则，在 结果树监听器 中会看到报错信息。</p> 
<p><img src="https://images2.imgbox.com/0d/99/wxOmJG8I_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_5__131"></a>第 5 步：添加监听器</h3> 
<p>监听器是 JMeter 测试中的另一个重要组件，它用于收集测试结果并生成报告。测试人员需要添加一个或多个监听器，并设置它们的属性。以下是一些常用的 JMeter 监听器：</p> 
<ul><li>聚合报告：提供有关事务响应时间、吞吐量和错误率的信息。</li><li>查看结果树：显示每个请求的响应，包括请求头、请求正文和响应正文。</li><li>监听器图形结果：将测试结果可视化，以便更轻松地分析性能问题。</li><li>断言结果：验证响应是否满足特定条件。</li><li>分布式负载测试图：显示不同服务器上的负载情况。</li></ul> 
<p>添加监听器：请右键单击线程组(或取样器) &gt; 添加 &gt; 监视器 &gt; 具体的监视器。这里以最常用的 “查看结果树” 为例。</p> 
<p><img src="https://images2.imgbox.com/6b/39/96AnBb4z_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_6__145"></a>第 6 步：运行测试计划，查看报告</h3> 
<p>测试人员完成测试计划的配置后，可以运行测试计划并收集测试结果。测试人员可以通过监听器生成报告，并根据结果调整测试计划的配置。</p> 
<p>等用例运行结束，可以在配置不同的监视器中看到对应的结果。</p> 
<p>查看结果树：</p> 
<p><img src="https://images2.imgbox.com/aa/f8/ctpayxYA_o.png" alt="在这里插入图片描述"></p> 
<p>汇总报告：</p> 
<p><img src="https://images2.imgbox.com/0b/83/FkGxJTfk_o.png" alt="在这里插入图片描述"></p> 
<p>图形结果：</p> 
<p><img src="https://images2.imgbox.com/89/2f/QbuIPn5O_o.png" alt="在这里插入图片描述"></p> 
<p>以上是JMeter测试脚本编写的基本步骤。测试人员需要根据具体需求和场景，灵活运用JMeter的各种功能和组件，编写高效、准确的测试脚本。</p> 
<h3><a id="_JMeter__API_Apifox_166"></a>试试比 JMeter 更好用的 API 工具：Apifox</h3> 
<p>用 Apifox 做测试脚本更容易。以下是用 Apifox 做测试脚本的方法。</p> 
<h3><a id="_170"></a>创建接口</h3> 
<p><img src="https://images2.imgbox.com/06/97/h7zylfV2_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_173"></a>调用接口</h3> 
<p>直接点击 “发送” 按钮就可以看到接口的返回。</p> 
<p><img src="https://images2.imgbox.com/ba/e6/JzWxrgHE_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_179"></a>添加断言</h3> 
<p><img src="https://images2.imgbox.com/e2/d2/wiorYCtI_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_183"></a>创建测试用例</h3> 
<p>编辑测试步骤，配置压测参数。</p> 
<p><img src="https://images2.imgbox.com/88/5e/8Lty7FBo_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_189"></a>运行测试用例，查看报告</h3> 
<p><img src="https://images2.imgbox.com/19/34/H4SLZMx2_o.png" alt="在这里插入图片描述"></p> 
<p>JMeter 可以用来做性能测试，但在日常工作中，我们还有更多的内容要做： API 设计，API 调试，API Mock 等。我们可能会使用多个工具，但在多个工具之间频繁切换（API 设计工具 Swagger、API 测试工具 JMeter）经常会导致数据不一致和团队协作低效率。</p> 
<p>Apifox 是一款更加智能化的 API 设计/开发/测试工具，相较于 JMeter 软件，Apifox 有以下优势：</p> 
<p><img src="https://images2.imgbox.com/cb/a6/vjD9OIgT_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_198"></a>易于使用</h3> 
<p>Apifox 提供简单易用的界面和交互方式，用户不需要编写脚本或进行复杂的配置即可完成 API 测试。此外，Apifox 还提供了免费的模板和示例，帮助用户更快地创建 API 请求。</p> 
<h3><a id="_202"></a>自动化测试</h3> 
<p>Apifox 提供了自动化测试的功能，用户可以通过自动化测试来减少测试时间和人力成本。用户只需要设置测试计划，Apifox 就可以自动运行测试，并生成测试结果和报告。此外，Apifox 还支持测试套件，可以一次性运行多个测试用例，提高测试效率。</p> 
<h3><a id="_206"></a>多环境支持</h3> 
<p>Apifox 支持多个测试环境，用户可以通过切换环境来测试不同的 API。用户只需要设置环境变量，Apifox 就可以自动切换 API 请求的 URL 和参数。此外，Apifox 还支持环境导入和导出，方便用户在不同的设备或团队之间共享测试环境。</p> 
<h3><a id="_210"></a>协作和分享</h3> 
<p>Apifox 提供了协作和分享的功能，用户可以与团队成员或其他人分享测试结果和测试数据。用户还可以将测试结果和报告导出为 HTML 格式。此外，Apifox 还支持团队协作和权限管理，可以让团队成员共享 API 设计和测试资源。</p> 
<p>总之，相较于 JMeter，Apifox 更加易于使用和智能化，可以帮助用户更高效地进行 API 测试和管理。无论是个人开发者还是企业团队，都可以通过 Apifox 提高 API 测试的效率和质量。因此，越来越多人开始选择使用 Apifox 替代 JMeter。</p> 
<p><strong>最后：</strong> 为了回馈铁杆粉丝们，我给大家整理了完整的软件测试视频学习教程，朋友们 如果需要可以自行免费领取 <strong><code>【保证100%免费】</code></strong> <br> <img src="https://images2.imgbox.com/5a/5a/rKKj6aZF_o.png" alt="在这里插	入图片描述"></p> 
<p><strong>软件测试面试文档</strong></p> 
<p>我们学习必然是为了找到高薪的工作，下面这些面试题是来自阿里、腾讯、字节等一线互联网大厂最新的面试资料，并且有字节大佬给出了权威的解答，刷完这一套面试资料相信大家都能找到满意的工作。</p> 
<p><img src="https://images2.imgbox.com/20/df/PrdB8WJ4_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d4/20/40ruUgu2_o.gif" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f580e073d8cfed0f3ffe4b2a7cd9f6d2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">文创产品火出圈，熊猫伴伴受到大家喜爱</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fc4e11da959ade1ad9486c80e418bb0f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java&#43;swing&#43;mysql 实现简单的班级管理系统</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>