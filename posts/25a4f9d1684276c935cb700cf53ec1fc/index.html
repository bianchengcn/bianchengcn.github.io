<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>pyqt5 学习总结 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="pyqt5 学习总结" />
<meta property="og:description" content="(1) 无边框化设计
self.setWindowFlags(Qt.FramelessWindowHint)
这句话加在self.setupUi(self)下面 (2) 设置style 加在__init__（self）内
self.style = &#34;&#34;&#34; QPushButton{ color: #003300; border-top-right-radius: 4px; border-bottom-right-radius: 4px; background-color: #CCCC99; font-size: 15px; font-family: &#39;&#39;; } QPushButton#pushButton{; background-color: blue; } QPushButton:Hover{ background-color: #009966; color: white; } QTextEdit{ border-top-left-radius: 4px; border-bottom-left-radius: 4px; background-color: #CCCCCC; selection-color: #CCCCCC; selection-background-color: #222222; color: black; } QPushButton:pressed {background-color: ;border-style: inset;} &#34;&#34;&#34; self.setStyleSheet(self.style) (3) 长按按钮触发
setAutoRepeat()设置button是否在用户长按按钮的时候可以自动重复执行。
self.pushButton.setIcon(QIcon(&#34;C://alolf_train//icons//delete.gif&#34;)) self.pushButton.setAutoRepeat(True) (4) 图片填满button
self.pushButton.setFixedSize(QPixmap(&#34;C://alolf_train//icons//GantryKeyUp128.png&#34;).size()); self.pushButton.setStyleSheet(&#34;border-image:url(C://alolf_train//icons//GantryKeyUp128.png)&#34;); (5) 按钮图片状态变化
self.pushButton.setStyleSheet(&#34;QPushButton{border-image:url(C://alolf_train//icons//GantryKeyUp128.png);}&#34; &#34;QPushButton:hover{border-image: url(C://alolf_train//icons//GantryKeyUp128_Lit.png);}&#34; &#34;QPushButton:pressed{border-image: url(C://alolf_train//icons//GantryKeyUp128_Pod." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/25a4f9d1684276c935cb700cf53ec1fc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-07-03T14:24:30+08:00" />
<meta property="article:modified_time" content="2018-07-03T14:24:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">pyqt5 学习总结</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>(1)    无边框化设计</p> 
<p>self.setWindowFlags(Qt.FramelessWindowHint)</p> 
<pre><code class="language-html hljs"><span style="color:#f33b45;">这句话加在self.setupUi(self)下面</span></code></pre> 
<p>(2)    设置style 加在__init__（self）内</p> 
<pre><code class="language-html hljs"><span style="color:#f33b45;">self.style = """ 
    QPushButton{
        color: #003300;
        border-top-right-radius: 4px;
        border-bottom-right-radius: 4px;
        background-color: #CCCC99;
        font-size: 15px;
        font-family: '';
        }
    QPushButton#pushButton{;
        background-color: blue;
    }
    QPushButton:Hover{
        background-color: #009966;
        color: white;
        }
    QTextEdit{
        border-top-left-radius: 4px;
        border-bottom-left-radius: 4px;
        background-color: #CCCCCC;
        selection-color: #CCCCCC;
        selection-background-color: #222222;
        color: black;
        }
    QPushButton:pressed {background-color: ;border-style: inset;} 
            """
self.setStyleSheet(self.style)</span></code></pre> 
<p>(3)    长按按钮触发</p> 
<p>     setAutoRepeat()设置button是否在用户长按按钮的时候可以自动重复执行。</p> 
<pre><code class="language-html hljs">self.pushButton.setIcon(QIcon("C://alolf_train//icons//delete.gif"))
self.pushButton.setAutoRepeat(True)</code></pre> 
<p>(4)    图片填满button</p> 
<pre><code class="language-html hljs">self.pushButton.setFixedSize(QPixmap("C://alolf_train//icons//GantryKeyUp128.png").size());
self.pushButton.setStyleSheet("border-image:url(C://alolf_train//icons//GantryKeyUp128.png)");</code></pre> 
<p>(5)    按钮图片状态变化</p> 
<pre><code class="language-html hljs">self.pushButton.setStyleSheet("QPushButton{border-image:url(C://alolf_train//icons//GantryKeyUp128.png);}"
                              "QPushButton:hover{border-image: url(C://alolf_train//icons//GantryKeyUp128_Lit.png);}"
                              "QPushButton:pressed{border-image: url(C://alolf_train//icons//GantryKeyUp128_Pod.png);}"
                              );</code></pre> 
<p>(6)    不规则按钮实现  空白区域，按了无反应</p> 
<pre><code class="language-html hljs">pixmap_1 = QPixmap('C://alolf_train//icons//EmergencyStop.gif')
self.pushButton_1.setMask(pixmap_1.mask())</code></pre> 
<p>(7)    打包成exe文件</p> 
<p>安装pyinstaller  python/Scripts 目录下 pip.exe installPyInstaller</p> 
<p> </p> 
<p>在Scripts目录下，</p> 
<p>pyinstaller -F-w -i ico的路径.py文件路径</p> 
<p> </p> 
<p>注意图片资源的打包:新建一个后缀为.qrc的资源文件，与icons文件夹同一目录下，里面的内容如下：</p> 
<p>     &lt;RCC&gt;</p> 
<p>     &lt;qresource&gt;</p> 
<p>         &lt;file&gt;icons/Add.png&lt;/file&gt;</p> 
<p>     &lt;/qresource&gt;</p> 
<p>     &lt;/RCC&gt;</p> 
<p>然后去文件目录下执行 pyrcc5 -oicons_qr.py icons.qrc 命令,最后在代码中 import icons_qr.py,并且修改下图片路径,一定要在路径前面加上冒号:。</p> 
<p>import icons_qr.py</p> 
<p><span style="color:#94558d;">self</span><span style="color:#a9b7c6;">.DownButton.setFixedSize(QPixmap(</span><span style="color:#6a8759;">":/icons/GantryLeftDown128.png"</span><span style="color:#a9b7c6;">).size());</span><br><span style="color:#94558d;">self</span><span style="color:#a9b7c6;">.DownButton.setStyleSheet(</span><span style="color:#6a8759;">"QPushButton{border-image:url(:/icons/GantryLeftDown128.png);}"</span></p> 
<p>(8)    ubuntu下打包生成可执行文件</p> 
<p>先安装 pyinstaller   <span style="color:#454545;">sudopip install pyinstaller</span></p> 
<p><span style="color:#454545;">进入py</span>文件的目录 pyinstaller xx.py</p> 
<p><span style="color:#454545;">在dist</span>目录下可以找到执行文件。 创建连接到桌面 可以打开</p> 
<p><span style="color:#454545;">参考：<a name="OLE_LINK2"></a><a name="OLE_LINK1"></a></span><a href="http://blog.csdn.net/qqqqqqqqqq1qqqqqqqqq/article/details/46279963">http://blog.csdn.net/qqqqqqqqqq1qqqqqqqqq/article/details/46279963</a></p> 
<p>(9)    去掉按钮等控件的虚线框(解决linux系统中按下button后会用阴影，方框) <a href="https://blog.csdn.net/caoshangpa/article/details/51771696">https://blog.csdn.net/caoshangpa/article/details/51771696</a></p> 
<p>self.ExitButton.setStyleSheet("QPushButton{border-image:url(:/icons/Exit64.png);}"</p> 
<p>                 <span style="color:#c00000;">"QPushButton{outline:none;}"</span></p> 
<p>                    )</p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bfe1e8ff97b63dde3660c929da8f5a7f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Calendar类计算两个日期相差多少天</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/18321a421194a0defff5e1a335e7fc11/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MUI-APP开发之mui框架封装获取文件方式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>