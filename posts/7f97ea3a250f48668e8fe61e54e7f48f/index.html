<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CocosCreator官方示例 - spine系列 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CocosCreator官方示例 - spine系列" />
<meta property="og:description" content="1.动态加载spine动画 挂载spine动画依赖sp.Skeleton组件 设置spine动画三个重要的属性，也可以代码动态设置 Skeleton Data骨骼信息数据，拖拽 Spine 导出后的骨骼资源到该属性中Default Skin选择默认的皮肤Animation 当前播放的动画名称
通过代码加载，读取assets/resources目录下的资源初始化spine动画 cc.loader.loadRes(&#39;loadSpine/alien-ess&#39;, sp.SkeletonData, this.onProcess.bind(this), this.onComplete.bind(this));
在onComplete回调里执行下面操作 let spine = this.getComponent(&#39;sp.Skeleton&#39;);
spine.skeletonData = res;
let animate = spine.setAnimation(0, &#39;run&#39;, true);
这样就完成了动态加载spine动画
2.spine动画的动作 setMix(fromAnimation, toAnimation, duration) 为所有关键帧设定混合及混合时间（从当前值开始差值）
说白了就是两个动作切换时，不在是生硬的切换，而是上一个动作快结束时，下一个动作开始进入
具体详情点击 https://www.cnblogs.com/BigFeng/p/6781855.html
setAnimation(trackIndex, name, loop) 设置当前动画。队列中的任何的动画将被清除，返回一个 sp.spine.TrackEntry 对象。
set相同的trackIndex 上一个动作会被覆盖
假如trackIndex == 0是walk动作，此时想播放射击动作，因为walk动作不能停下，那么就将shoot动作的trackIndex设置为1
addAnimation(trackIndex, name, loop, delay) 添加一个动画到动画队列尾部，还可以延迟指定的秒数，返回一个 sp.spine.TrackEntry 对象
3.Spine 换装 具体详见 https://docs.cocos.com/creator/2.2/manual/zh/components/spine.html#spine-%E6%8D%A2%E8%A3%85
部分换装 简单点说就是通过替换 findSlot 插槽的 attachment 对象，产生局部换装的效果，attachment 对象的是通过 findSlot 找到的
下面是spine动画的部分json数据" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/7f97ea3a250f48668e8fe61e54e7f48f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-11-13T11:50:42+08:00" />
<meta property="article:modified_time" content="2019-11-13T11:50:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CocosCreator官方示例 - spine系列</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>1.动态加载spine动画</h3> 
<ul><li>挂载spine动画依赖sp.Skeleton组件</li></ul> 
<p><img alt="" class="has" height="414" src="https://images2.imgbox.com/4c/f3/oBjxf4Po_o.png" width="305"></p> 
<ul><li>设置spine动画三个重要的属性，也可以代码动态设置</li></ul> 
<table><tbody><tr><td>Skeleton Data</td><td>骨骼信息数据，拖拽 Spine 导出后的骨骼资源到该属性中</td></tr><tr><td>Default Skin</td><td>选择默认的皮肤</td></tr><tr><td>Animation</td><td> <p>当前播放的动画名称</p> </td></tr></tbody></table> 
<ul><li>通过代码加载，读取assets/resources目录下的资源初始化spine动画</li></ul> 
<p>    cc.loader.loadRes('loadSpine/alien-ess', sp.SkeletonData, this.onProcess.bind(this), this.onComplete.bind(this));</p> 
<ul><li>在onComplete回调里执行下面操作</li></ul> 
<p>    let spine = this.getComponent('sp.Skeleton');</p> 
<p>    spine.skeletonData = res;</p> 
<p>    let animate = spine.setAnimation(0, 'run', true);</p> 
<p>这样就完成了动态加载spine动画</p> 
<h3>2.spine动画的动作</h3> 
<ul><li>setMix(fromAnimation, toAnimation, duration)</li></ul> 
<p>为所有关键帧设定混合及混合时间（从当前值开始差值）</p> 
<p>说白了就是两个动作切换时，不在是生硬的切换，而是上一个动作快结束时，下一个动作开始进入</p> 
<p>具体详情点击 <a href="https://www.cnblogs.com/BigFeng/p/6781855.html" rel="nofollow">https://www.cnblogs.com/BigFeng/p/6781855.html</a></p> 
<ul><li>setAnimation(trackIndex, name, loop)</li></ul> 
<p>设置当前动画。队列中的任何的动画将被清除，返回一个 <a href="https://docs.cocos.com/creator/2.2/api/zh/modules/sp.spine.html" rel="nofollow">sp.spine</a>.TrackEntry 对象。</p> 
<p>set相同的trackIndex 上一个动作会被覆盖</p> 
<p>假如trackIndex == 0是walk动作，此时想播放射击动作，因为walk动作不能停下，那么就将shoot动作的trackIndex设置为1</p> 
<ul><li>addAnimation(trackIndex, name, loop, delay)</li></ul> 
<p>添加一个动画到动画队列尾部，还可以延迟指定的秒数，返回一个 <a href="https://docs.cocos.com/creator/2.2/api/zh/modules/sp.spine.html" rel="nofollow">sp.spine</a>.TrackEntry 对象</p> 
<h3>3.Spine 换装</h3> 
<p>具体详见 <a href="https://docs.cocos.com/creator/2.2/manual/zh/components/spine.html#spine-%E6%8D%A2%E8%A3%85" rel="nofollow">https://docs.cocos.com/creator/2.2/manual/zh/components/spine.html#spine-%E6%8D%A2%E8%A3%85</a></p> 
<ul><li>部分换装</li></ul> 
<p>简单点说就是通过替换 findSlot 插槽的 attachment 对象，产生局部换装的效果，attachment 对象的是通过 findSlot 找到的</p> 
<p>下面是spine动画的部分json数据</p> 
<p><img alt="" class="has" height="315" src="https://images2.imgbox.com/dd/c0/cPNvzPgJ_o.png" width="432"></p> 
<ul><li>整体换装</li></ul> 
<p>setSkin('goblin')</p> 
<p>setSlotsToSetupPose()</p> 
<p><img alt="" class="has" height="809" src="https://images2.imgbox.com/42/18/41lufNLu_o.png" width="433"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ba21019715adc8666237e3eadcdedec5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">LeNet-5详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/084328529d502499f707e097709973c8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【牛客网】排序子序列问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>