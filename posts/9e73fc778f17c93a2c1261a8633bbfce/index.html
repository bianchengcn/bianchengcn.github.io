<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>如何在 Ubuntu 20.04 上安装 MySQL - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="如何在 Ubuntu 20.04 上安装 MySQL" />
<meta property="og:description" content="介绍 MySQL是一个开源数据库管理系统，通常作为流行的LAMP（Linux、Apache、MySQL、PHP/Python/Perl）堆栈的一部分安装。它实现关系模型并使用结构化查询语言（更称为 SQL）来管理其数据。
本教程将介绍如何在 Ubuntu 20.04 服务器上安装 MySQL 8.0 版本。通过完成它，您将拥有一个可工作的关系数据库，您可以使用它来构建您的下一个网站或应用程序。
使用DigitalOcean 托管数据库快速创建 MySQL 数据库。让DigitalOcean专注于维护、升级和备份。
先决条件 要学习本教程，您将需要：
一台 Ubuntu 20.04 服务器，具有非 root 管理用户和配置了 UFW 的防火墙。要进行此设置，请遵循我们的Ubuntu 20.04 初始服务器设置指南。 第 1 步 — 安装 MySQL 在 Ubuntu 20.04 上，您可以使用 APT 软件包存储库安装 MySQL。在撰写本文时，默认 Ubuntu 存储库中可用的 MySQL 版本是 8.0.27 版本。
要安装它，请更新服务器上的包索引
sudo apt update 然后安装mysql-server包：
sudo apt install mysql-server 使用以下命令确保服务器正在运行systemctl start：
sudo systemctl start mysql.service 这些命令将安装并启动 MySQL，但不会提示您设置密码或进行任何其他配置更改。因为这会使您的 MySQL 安装不安全，所以我们接下来将解决这个问题。
第 2 步 — 配置 MySQL 对于全新安装的 MySQL，您需要运行 DBMS 包含的安全脚本。此脚本更改了一些不太安全的默认选项，例如远程 root 登录和示例用户。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/9e73fc778f17c93a2c1261a8633bbfce/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-26T17:31:43+08:00" />
<meta property="article:modified_time" content="2024-01-26T17:31:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">如何在 Ubuntu 20.04 上安装 MySQL</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4 id="introduction" style="margin-left:0;"><span style="color:#4d5b7c;"><a href="https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-20-04#introduction" rel="nofollow" title="介绍">介绍</a></span></h4> 
<p style="margin-left:0;"><span style="color:#4d5b7c;"><a href="https://www.mysql.com/" rel="nofollow" title="MySQL">MySQL</a>是一个开源数据库管理系统，通常作为流行的<a href="https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-on-ubuntu-20-04" rel="nofollow" title="LAMP">LAMP</a>（Linux、Apache、MySQL、PHP/Python/Perl）堆栈的一部分安装。它实现关系模型并使用结构化查询语言（更称为 SQL）来管理其数据。</span></p> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">本教程将介绍如何在 Ubuntu 20.04 服务器上安装 MySQL 8.0 版本。通过完成它，您将拥有一个可工作的关系数据库，您可以使用它来构建您的下一个网站或应用程序。</span></p> 
<div style="margin-left:0;"> 
 <p style="margin-left:0;"><span style="background-color:#c6e3ff;"><span style="color:#000c2a;"><a href="https://www.digitalocean.com/products/managed-databases" rel="nofollow" title="使用DigitalOcean 托管数据库">使用DigitalOcean 托管数据库</a>快速创建 MySQL 数据库。让DigitalOcean专注于维护、升级和备份。</span></span></p> 
</div> 
<h3 id="prerequisites" style="margin-left:0;"><span style="color:#4d5b7c;"><a href="https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-20-04#prerequisites" rel="nofollow" title="先决条件">先决条件</a></span></h3> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">要学习本教程，您将需要：</span></p> 
<ul style="margin-left:0;"><li>一台 Ubuntu 20.04 服务器，具有非 root 管理用户和配置了 UFW 的防火墙。要进行此设置，请遵循我们的<a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-20-04" rel="nofollow" title="Ubuntu 20.04 初始服务器设置指南">Ubuntu 20.04 初始服务器设置指南</a>。</li></ul> 
<h3 id="step-1-installing-mysql" style="margin-left:0;"><span style="color:#4d5b7c;"><a href="https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-20-04#step-1-installing-mysql" rel="nofollow" title="第 1 步 — 安装 MySQL">第 1 步 — 安装 MySQL</a></span></h3> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">在 Ubuntu 20.04 上，您可以使用 APT 软件包存储库安装 MySQL。在撰写本文时，默认 Ubuntu 存储库中可用的 MySQL 版本是 8.0.27 版本。</span></p> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">要安装它，请更新服务器上的包索引</span></p> 
<p style="margin-left:0;"><span style="color:#4d5b7c;"><code><span style="color:#ffaf8c;">sudo</span> <span style="color:#ffaf8c;">apt</span> update </code></span></p> 
<div style="margin-left:0;"> 
 <div style="margin-left:0;"> 
  <div style="margin-left:0;"></div> 
 </div> 
</div> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">然后安装<code>mysql-server</code>包：</span></p> 
<p style="margin-left:0;"><span style="color:#4d5b7c;"><code><span style="color:#ffaf8c;">sudo</span> <span style="color:#ffaf8c;">apt</span> <span style="color:#ffaf8c;">install</span> mysql-server </code></span></p> 
<div style="margin-left:0;"> 
 <div style="margin-left:0;"> 
  <div style="margin-left:0;"></div> 
 </div> 
</div> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">使用以下命令确保服务器正在运行<code>systemctl start</code>：</span></p> 
<div style="margin-left:0;"> 
 <pre class="command language-bash prefixed" style="margin-left:0;"><span style="color:#4d5b7c;"><code><span style="color:#ffaf8c;">sudo</span> systemctl start mysql.service </code></span></pre> 
 <div style="margin-left:0;"> 
  <div style="margin-left:0;"></div> 
 </div> 
</div> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">这些命令将安装并启动 MySQL，但不会提示您设置密码或进行任何其他配置更改。因为这会使您的 MySQL 安装不安全，所以我们接下来将解决这个问题。</span></p> 
<h3 id="step-2-configuring-mysql" style="margin-left:0;"><span style="color:#4d5b7c;"><a href="https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-20-04#step-2-configuring-mysql" rel="nofollow" title="第 2 步 — 配置 MySQL">第 2 步 — 配置 MySQL</a></span></h3> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">对于全新安装的 MySQL，您需要运行 DBMS 包含的安全脚本。此脚本更改了一些不太安全的默认选项，例如远程 root 登录和示例用户。</span></p> 
<div style="margin-left:0;"> 
 <p style="margin-left:0;"><span style="color:#0d0016;"><span style="background-color:#ffbab5;">由</span>于该<code>mysql_secure_installation</code>脚本执行许多其他操作对于确保 MySQL 安装安全非常有用，因此仍然建议您在开始使用 MySQL 管理数据之前运行它。不过，为了避免进入此递归循环，您需要首先调整MySQL<strong>根</strong>用户的身份验证方式。</span></p> 
 <p style="margin-left:0;"><span style="color:#0d0016;">首先，打开MySQL提示符：</span></p> 
 <p style="margin-left:0;"><span style="color:#0d0016;"><code>sudo mysql </code></span></p> 
 <div style="margin-left:0;"> 
  <div style="margin-left:0;"> 
   <div style="margin-left:0;"></div> 
  </div> 
 </div> 
 <p style="margin-left:0;"><span style="color:#0d0016;">然后运行以下命令将<strong>root</strong><code>ALTER USER</code>用户的身份验证方法更改为使用密码的身份验证方法。以下示例将身份验证方法更改为：<code>mysql_native_password</code></span></p> 
 <p style="margin-left:0;"><span style="color:#0d0016;"><code>ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'password'; </code></span></p> 
 <div style="margin-left:0;"> 
  <div style="margin-left:0;"> 
   <div style="margin-left:0;"> 
    <span style="color:#0d0016;"> </span> 
   </div> 
  </div> 
 </div> 
 <p style="margin-left:0;"><span style="color:#000c2a;">进行此更改后，退出 MySQL 提示符：<code><span style="color:#ffaf8c;">exit</span> </code></span><span style="color:#000c2a;"> </span></p> 
 <p style="margin-left:0;"><span style="color:#000c2a;">之后，您可以<code>mysql_secure_installation</code>毫无问题地运行脚本。</span></p> 
 <p style="margin-left:0;"><span style="color:#000c2a;">安全脚本完成后，您可以重新打开 MySQL 并将<strong>root</strong>用户的身份验证方法更改回默认的<code>auth_socket</code>. 要使用密码作为<strong>root MySQL 用户进行身份验证，请运行以下命令：</strong></span></p> 
 <div style="margin-left:0;"> 
  <p><span style="color:#0d0016;"><code>mysql -u root -p </code></span></p> 
  <div style="margin-left:0;"> 
   <div style="margin-left:0;"></div> 
  </div> 
 </div> 
</div> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">使用以下命令运行安全脚本<code>sudo</code>：</span><span style="color:#4d5b7c;"><code><span style="color:#ffaf8c;">sudo</span> mysql_secure_installation </code></span></p> 
<div style="margin-left:0;"> 
 <div style="margin-left:0;"> 
  <div style="margin-left:0;"> 
   <span style="color:#4d5b7c;">复制</span> 
  </div> 
 </div> 
</div> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">这将引导您完成一系列提示，您可以在其中对 MySQL 安装的安全选项进行一些更改。第一个提示将询问您是否要设置验证密码插件，该插件可用于在认为新 MySQL 用户有效之前测试其密码强度。</span></p> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">如果您选择设置验证密码插件，则您创建的使用密码进行身份验证的任何 MySQL 用户都将需要拥有满足您选择的策略的密码。最强的策略级别（您可以通过输入来选择<code>2</code>）将要求密码长度至少为八个字符，并包含大写、小写、数字和特殊字符的组合：</span></p> 
<div style="margin-left:0;"> 
 <span style="color:#9fddff;"><code>Output</code></span> 
</div> 
<p><code>Securing the MySQL server deployment. Connecting to MySQL using a blank password. VALIDATE PASSWORD COMPONENT can be used to test passwords and improve security. It checks the strength of password and allows the users to set only those passwords which are secure enough. Would you like to setup VALIDATE PASSWORD component? Press y|Y for Yes, any other key for No: Y There are three levels of password validation policy: LOW Length &gt;= 8 MEDIUM Length &gt;= 8, numeric, mixed case, and special characters STRONG Length &gt;= 8, numeric, mixed case, special characters and dictionary file Please enter 0 = LOW, 1 = MEDIUM and 2 = STRONG: 2 </code></p> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">无论您是否选择设置验证密码插件，下一个提示都会是为 MySQL <strong>root</strong>用户设置密码。输入并确认您选择的安全密码：</span></p> 
<div style="margin-left:0;"> 
 <span style="color:#9fddff;"><code>Output</code></span> 
</div> 
<p><code>Please set the password for root here. New password: Re-enter new password: </code></p> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">请注意，即使您已经为MySQL <strong>root</strong>用户设置了密码，该用户当前也未配置为在连接到 MySQL shell 时使用密码进行身份验证。</span></p> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">如果您使用验证密码插件，您将收到有关新密码强度的反馈。然后脚本将询问您是否要继续使用刚刚输入的密码或是否要输入新密码。假设您对刚刚输入的密码强度感到满意，请输入<code>Y</code>以继续执行脚本：</span></p> 
<div style="margin-left:0;"> 
 <span style="color:#9fddff;"><code>Output</code></span> 
</div> 
<p><code>Estimated strength of the password: 100 Do you wish to continue with the password provided?(Press y|Y for Yes, any other key for No) : Y </code></p> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">从那里，您可以按<code>Y</code>，然后<code>ENTER</code>接受所有后续问题的默认值。这将删除一些匿名用户和测试数据库，禁用远程 root 登录，并加载这些新规则，以便 MySQL 立即尊重您所做的更改。</span></p> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">脚本完成后，您的 MySQL 安装将受到保护。您现在可以继续使用 MySQL 客户端创建专用数据库用户。</span></p> 
<h3 id="step-3-creating-a-dedicated-mysql-user-and-granting-privileges" style="margin-left:0;"><span style="color:#4d5b7c;"><a href="https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-20-04#step-3-creating-a-dedicated-mysql-user-and-granting-privileges" rel="nofollow" title="第 3 步 — 创建专用 MySQL 用户并授予权限">第 3 步 — 创建专用 MySQL 用户并授予权限</a></span></h3> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">安装后，MySQL 会创建一个<strong>root</strong>用户帐户，您可以用它来管理数据库。该用户对 MySQL 服务器拥有完全权限，这意味着它可以完全控制每个数据库、表、用户等。因此，最好避免在管理功能之外使用此帐户。此步骤概述了如何使用<strong>root</strong> MySQL 用户创建新用户帐户并授予其权限。</span></p> 
<p style="margin-left:0;"><span style="color:#4d5b7c;"><code>5.7</code>在运行 MySQL （及更高版本）的 Ubuntu 系统中，MySQL <strong>root</strong>用户默认设置为使用<code>auth_socket</code>插件进行身份验证，而不是使用密码。该插件要求调用 MySQL 客户端的操作系统用户名与命令中指定的 MySQL 用户名匹配，因此您必须使用<code>mysql</code>特权<code>sudo</code>调用才能获得对<strong>root</strong> MySQL 用户的访问权限：</span></p> 
<div style="margin-left:0;"> 
 <ol style="margin-left:0;"><li><span style="color:#4d5b7c;"><code><span style="color:#ffaf8c;">sudo</span> mysql </code></span></li></ol> 
 <div style="margin-left:0;"> 
  <div style="margin-left:0;"> 
   <span style="color:#4d5b7c;">复制</span> 
  </div> 
 </div> 
</div> 
<div style="margin-left:0;"> 
 <p style="margin-left:0;"><span style="color:#000c2a;"><strong>注意：</strong>如果您使用其他教程安装了 MySQL 并为<strong>root</strong>启用了密码身份验证，则需要使用不同的命令来访问 MySQL shell。以下将以常规用户权限运行您的 MySQL 客户端，并且您只能通过身份验证获得数据库内的管理员权限：</span></p> 
 <div style="margin-left:0;"> 
  <p><span style="color:#0d0016;"><code>mysql -u root -p </code></span></p> 
  <div style="margin-left:0;"> 
   <div style="margin-left:0;"></div> 
  </div> 
 </div> 
</div> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">一旦您可以访问 MySQL 提示符，您就可以使用<code>CREATE USER</code>语句创建一个新用户。它们遵循以下一般语法：</span></p> 
<div style="margin-left:0;"> 
 <p><span style="color:#0d0016;"><code>CREATE USER 'username'@'host' IDENTIFIED WITH authentication_plugin BY 'password'; </code></span></p> 
 <div style="margin-left:0;"> 
  <div style="margin-left:0;"> 
   <span style="color:#4d5b7c;">复制</span> 
  </div> 
 </div> 
</div> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">之后<code>CREATE USER</code>，您指定一个用户名。紧接着是一个<code>@</code>符号，然后是该用户将连接的主机名。如果您只计划从 Ubuntu 服务器本地访问此用户，则可以指定<code>localhost</code>。将用户名和主机都用单引号括起来并不总是必要的，但这样做可以帮助防止错误。</span></p> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">在选择用户的身份验证插件时，您有多种选择。前面提到的插件<code>auth_socket</code>很方便，因为它提供了强大的安全性，无需有效用户输入密码即可访问数据库。但它也会阻止远程连接，当外部程序需要与 MySQL 交互时，这会使事情变得复杂。</span></p> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">作为替代方案，您可以完全省略部分语法，让用户使用 MySQL 的默认插件 进行身份验证。<a href="https://dev.mysql.com/doc/refman/8.0/en/upgrading-from-previous-series.html#upgrade-caching-sha2-password" rel="nofollow" title="MySQL文档推荐这个插件">MySQL文档推荐这个插件</a>给想要使用密码登录的用户，因为它具有强大的安全功能。<code>WITH authentication_plugin</code><code>caching_sha2_password</code></span></p> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">运行以下命令来创建使用 进行身份验证的用户<code>caching_sha2_password</code>。请务必更改<code>sammy</code>为您首选的用户名和<code>password</code>您选择的强密码：</span></p> 
<div style="margin-left:0;"> 
 <pre class="custom_prefix language-bash prefixed" style="margin-left:0;"></pre> 
 <p><span style="color:#0d0016;"><code>CREATE USER 'sammy'@'localhost' IDENTIFIED BY 'password'; </code></span></p> 
 <div style="margin-left:0;"> 
  <div style="margin-left:0;"></div> 
 </div> 
</div> 
<div style="margin-left:0;"> 
 <p style="margin-left:0;"><span style="background-color:#d5f0c3;"><span style="color:#000c2a;"><strong>注意</strong>：某些版本的 PHP 存在一个已知问题，会导致<code>caching_sha2_password</code>. 如果您计划将此数据库与 PHP 应用程序（例如 phpMyAdmin）一起使用，您可能需要创建一个用户，该用户将使用较旧但仍然安全的<code>mysql_native_password</code>插件进行身份验证：</span></span></p> 
 <div style="margin-left:0;"> 
  <pre class="custom_prefix language-bash prefixed" style="margin-left:0;"><span style="color:#000c2a;"><code><span style="background-color:#0d0016;">CREATE </span><span style="color:#9fddff;"><span style="background-color:#0d0016;">USER</span></span><span style="background-color:#0d0016;"> </span><span style="color:#b1e490;"><span style="background-color:#0d0016;">'sammy'</span></span><span style="background-color:#0d0016;">@</span><span style="color:#b1e490;"><span style="background-color:#0d0016;">'localhost'</span></span><span style="background-color:#0d0016;"> IDENTIFIED WITH mysql_native_password BY </span><span style="color:#b1e490;"><span style="background-color:#0d0016;">'password'</span></span><span style="color:#f7f8fb;"><span style="background-color:#0d0016;">;</span></span><span style="background-color:#0d0016;"> </span></code></span></pre> 
  <div style="margin-left:0;"> 
   <div style="margin-left:0;"></div> 
  </div> 
 </div> 
 <p style="margin-left:0;"><span style="background-color:#d5f0c3;"><span style="color:#000c2a;">如果您不确定，您始终可以创建一个用户进行身份验证<code>caching_sha2_plugin</code>，然后<code>ALTER</code>使用以下命令进行身份验证：</span></span></p> 
 <p style="margin-left:0;"><span style="background-color:#d5f0c3;"><span style="color:#000c2a;"><code>ALTER <span style="color:#9fddff;">USER</span> <span style="color:#b1e490;">'sammy'</span>@<span style="color:#b1e490;">'localhost'</span> IDENTIFIED WITH mysql_native_password BY <span style="color:#b1e490;">'password'</span><span style="color:#f7f8fb;">;</span> </code></span></span></p> 
 <div style="margin-left:0;"> 
  <div style="margin-left:0;"> 
   <div style="margin-left:0;"></div> 
  </div> 
 </div> 
</div> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">创建新用户后，您可以授予他们适当的权限。授予用户权限的一般语法如下：</span></p> 
<div style="margin-left:0;"> 
 <pre class="custom_prefix language-bash prefixed" style="margin-left:0;"></pre> 
 <p><span style="color:#4d5b7c;"><code>GRANT PRIVILEGE ON database.table TO <span style="color:#b1e490;">'username'</span>@<span style="color:#b1e490;">'host'</span><span style="color:#f7f8fb;">;</span> </code></span></p> 
 <div style="margin-left:0;"> 
  <div style="margin-left:0;"> 
   <span style="color:#4d5b7c;">复制</span> 
  </div> 
 </div> 
</div> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">此示例语法中的值<code>PRIVILEGE</code>定义允许用户对指定的<code>database</code>和执行哪些操作<code>table</code>。您可以在一个命令中向同一用户授予多个权限，并用逗号分隔各个权限。<code>*</code>您还可以通过输入星号 ( ) 代替数据库和表名称来授予用户全局权限。在 SQL 中，星号是用于表示“所有”数据库或表的特殊字符。</span></p> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">为了说明这一点，以下命令授予用户对<code>CREATE</code>、<code>ALTER</code>、 和<code>DROP</code>数据库、表和用户的全局权限，以及对服务器上任何表中 、 和 数据的<code>INSERT</code>权限<code>UPDATE</code>。<code>DELETE</code>它还授予用户使用 查询数据<code>SELECT</code>、使用关键字创建外键<code>REFERENCES</code>以及<code>FLUSH</code>使用权限执行操作的能力<code>RELOAD</code>。但是，您应该只授予用户所需的权限，因此请根据需要随意调整您自己的用户的权限。</span></p> 
<p style="margin-left:0;"><span style="color:#4d5b7c;"><a href="https://dev.mysql.com/doc/refman/8.0/en/privileges-provided.html#privileges-provided-summary" rel="nofollow" title="您可以在官方 MySQL 文档">您可以在官方 MySQL 文档</a>中找到可用权限的完整列表。</span></p> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">运行此<code>GRANT</code>语句，替换<code>sammy</code>为您自己的 MySQL 用户名，以向您的用户授予这些权限：</span></p> 
<div style="margin-left:0;"> 
 <pre class="custom_prefix language-bash prefixed" style="margin-left:0;"></pre> 
 <ol style="margin-left:0;"><li><span style="color:#0d0016;"><code>GRANT CREATE, ALTER, DROP, INSERT, UPDATE, INDEX, DELETE, SELECT, REFERENCES, RELOAD on *.* TO 'sammy'@'localhost' WITH GRANT OPTION; </code></span></li></ol> 
 <div style="margin-left:0;"> 
  <div style="margin-left:0;"> 
   <span style="color:#0d0016;">复制</span> 
  </div> 
 </div> 
</div> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">请注意，该声明还包括<code>WITH GRANT OPTION</code>. 这将允许您的 MySQL 用户向系统上的其他用户授予其拥有的任何权限。</span></p> 
<div style="margin-left:0;"> 
 <p style="margin-left:0;"><span style="color:#000c2a;"><strong>警告</strong>：某些用户可能希望授予其 MySQL 用户该<code>ALL PRIVILEGES</code>权限，这将为他们提供类似于<strong>root</strong>用户权限的广泛超级用户权限，如下所示：</span></p> 
 <div style="margin-left:0;"> 
  <pre class="custom_prefix language-bash prefixed" style="margin-left:0;"></pre> 
  <ol style="margin-left:0;"><li><span style="color:#0d0016;"><code>GRANT ALL PRIVILEGES ON *.* TO 'sammy'@'localhost' WITH GRANT OPTION; </code></span></li></ol> 
  <div style="margin-left:0;"> 
   <div style="margin-left:0;"> 
    <span style="color:#000c2a;">复制</span> 
   </div> 
  </div> 
 </div> 
 <p style="margin-left:0;"><span style="color:#000c2a;"><strong>不应轻易授予</strong>如此广泛的权限，因为任何有权访问此 MySQL 用户的人都将完全控制服务器上的每个数据库。</span></p> 
</div> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">接下来，最好运行该<code>FLUSH PRIVILEGES</code>命令。这将释放服务器由于前面的<code>CREATE USER</code>和<code>GRANT</code>语句而缓存的所有内存：</span></p> 
<div style="margin-left:0;"> 
 <pre class="custom_prefix language-bash prefixed" style="margin-left:0;"></pre> 
 <p><span style="color:#4d5b7c;"><code>FLUSH PRIVILEGES<span style="color:#f7f8fb;">;</span> </code></span></p> 
 <div style="margin-left:0;"> 
  <div style="margin-left:0;"></div> 
 </div> 
</div> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">然后就可以退出MySQL客户端了：</span></p> 
<div style="margin-left:0;"> 
 <pre class="custom_prefix language-bash prefixed" style="margin-left:0;"></pre> 
 <p><span style="color:#4d5b7c;"><code><span style="color:#ffaf8c;">exit</span> </code></span></p> 
 <div style="margin-left:0;"> 
  <div style="margin-left:0;"></div> 
 </div> 
</div> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">将来，要以新的 MySQL 用户身份登录，您可以使用如下命令：</span></p> 
<div style="margin-left:0;"> 
 <pre class="command language-bash prefixed" style="margin-left:0;"><span style="color:#4d5b7c;"><code>mysql <span style="color:#b1e490;">-u</span> sammy <span style="color:#b1e490;">-p</span> </code></span></pre> 
 <div style="margin-left:0;"> 
  <div style="margin-left:0;"></div> 
 </div> 
</div> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">该<code>-p</code>标志将导致 MySQL 客户端提示您输入 MySQL 用户的密码以便进行身份验证。</span></p> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">最后，我们测试一下MySQL的安装情况。</span></p> 
<h3 id="step-4-testing-mysql" style="margin-left:0;"><span style="color:#4d5b7c;"><a href="https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-20-04#step-4-testing-mysql" rel="nofollow" title="第 4 步 — 测试 MySQL">第 4 步 — 测试 MySQL</a></span></h3> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">不管你如何安装它，MySQL 都应该已经开始自动运行。要对此进行测试，请检查其状态。</span></p> 
<div style="margin-left:0;"> 
 <pre class="command language-bash prefixed" style="margin-left:0;"><span style="color:#4d5b7c;"><code>systemctl status mysql.service </code></span>
</pre> 
</div> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">您将看到类似于以下内容的输出：</span></p> 
<pre style="margin-left:0;"><code>mysql.service - MySQL Community Server Loaded: loaded (/lib/systemd/system/mysql.service; enabled; vendor preset: enabled) Active: active (running) since Tue 2020-04-21 12:56:48 UTC; 6min ago Main PID: 10382 (mysqld) Status: "Server is operational" Tasks: 39 (limit: 1137) Memory: 370.0M CGroup: /system.slice/mysql.service └─10382 /usr/sbin/mysqld </code></pre> 
<p style="margin-left:0;"><span style="color:#4d5b7c;">如果 MySQL 没有运行，您可以使用 启动它<code>sudo systemctl start mysql</code>。</span></p> 
<p style="margin-left:0;"></p> 
<p style="margin-left:0;"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/632c3858451baf510e716f39c2b65c17/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">关于three.js在使用transformControl后的卡顿问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/574de2e85db407c2b317c5ff584b51cf/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">力扣hot100 腐烂的橘子 BFS 矢量数组 满注释版</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>