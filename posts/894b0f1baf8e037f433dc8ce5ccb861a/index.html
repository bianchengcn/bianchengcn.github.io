<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>EL表达式 （详解） - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="EL表达式 （详解）" />
<meta property="og:description" content="1、EL简介 1）语法结构 ${expression} 2）[]与.运算符 EL 提供.和[]两种运算符来存取数据。 当要存取的属性名称中包含一些特殊字符，如.或?等并非字母或数字的符号，就一定要使用 []。 例如： ${user.My-Name}应当改为${user[&#34;My-Name&#34;] } 如果要动态取值时，就可以用[]来做，而.无法做到动态取值。例如： ${sessionScope.user[data]}中data 是一个变量 3）变量 EL存取变量数据的方法很简单，例如：${username}。它的意思是取出某一范围中名称为 username的变量。 因为我们并没有指定哪一个范围的username，所以它会依序从Page、Request、Session、 Application范围查找。 假如途中找到username，就直接回传，不再继续找下去，但是假如全部的范围都没有找到时， 就回传null。 属性范围在EL中的名称 Page PageScope Request RequestScope Session SessionScope Application ApplicationScope 4) 1--EL表达式用${}表示,可用在所有的HTML和JSP标签中作用是代替JSP页面中复杂的JAVA代码. 2--EL表达式可操作常量 变量 和隐式对象. 最常用的 隐式对象有${param}和${paramValues}. ${param}表示返回请求参数中单个字符串的值. ${paramValues}表示返回请求参数的一组 值.pageScope表示页面范围的变量.requestScope表示请求对象的变量. sessionScope表示会话 范围内的变量.applicationScope表示应用范围的变量. 3 --&lt;%@ page isELIgnored=&#34;true&#34;%&gt; 表示是否禁用EL语言,TRUE表示禁止.FALSE表示不禁 止.JSP2.0中默认的启用EL语言. 4-- EL语言可显示 逻辑表达式如${true and false}结果是false 关系表达式如${5&gt;6} 结 果是false 算术表达式如 ${5&#43;5} 结果是10 5--EL中的变量搜索范围是:page request session application 点运算符(.)和&#34;[ ]&#34;都是 表示获取变量的值.区别是[ ]可以显示非词类的变量 2、EL隐含对象 1)与范围有关的隐含对象 与范围有关的EL 隐含对象包含以下四个：pageScope、requestScope、sessionScope 和 applicationScope； 它们基本上就和JSP的pageContext、request、session和application一样； 在EL中，这四个隐含对象只能用来取得范围属性值，即getAttribute(String name)，却不能取得 其他相关信息。 例如：我们要取得session中储存一个属性username的值，可以利用下列方法： session." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/894b0f1baf8e037f433dc8ce5ccb861a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2011-08-09T08:27:52+08:00" />
<meta property="article:modified_time" content="2011-08-09T08:27:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">EL表达式 （详解）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    1、EL简介 
<br>1）语法结构 
<br> ${expression} 
<br>2）[]与.运算符 
<br> EL 提供.和[]两种运算符来存取数据。 
<br> 当要存取的属性名称中包含一些特殊字符，如.或?等并非字母或数字的符号，就一定要使用 []。 
<br>例如： 
<br> ${user.My-Name}应当改为${user["My-Name"] } 
<br> 如果要动态取值时，就可以用[]来做，而.无法做到动态取值。例如： 
<br> ${sessionScope.user[data]}中data 是一个变量 
<br>3）变量 
<br> EL存取变量数据的方法很简单，例如：${username}。它的意思是取出某一范围中名称为 
<br>username的变量。 
<br> 因为我们并没有指定哪一个范围的username，所以它会依序从Page、Request、Session、 
<br>Application范围查找。 
<br> 假如途中找到username，就直接回传，不再继续找下去，但是假如全部的范围都没有找到时， 
<br>就回传null。 
<br> 属性范围在EL中的名称 
<br> Page PageScope 
<br> Request RequestScope 
<br> Session SessionScope 
<br> Application ApplicationScope 
<br>4) 1--EL表达式用${}表示,可用在所有的HTML和JSP标签中作用是代替JSP页面中复杂的JAVA代码. 
<br>2--EL表达式可操作常量 变量 和隐式对象. 最常用的 隐式对象有${param}和${paramValues}. 
<br>${param}表示返回请求参数中单个字符串的值. ${paramValues}表示返回请求参数的一组 
<br>值.pageScope表示页面范围的变量.requestScope表示请求对象的变量. sessionScope表示会话 
<br>范围内的变量.applicationScope表示应用范围的变量. 
<br>3 --&lt;%@ page isELIgnored="true"%&gt; 表示是否禁用EL语言,TRUE表示禁止.FALSE表示不禁 
<br>止.JSP2.0中默认的启用EL语言. 
<br> 4-- EL语言可显示 逻辑表达式如${true and false}结果是false 关系表达式如${5&gt;6} 结 
<br>果是false 算术表达式如 ${5+5} 结果是10 
<br> 5--EL中的变量搜索范围是:page request session application 点运算符(.)和"[ ]"都是 
<br>表示获取变量的值.区别是[ ]可以显示非词类的变量 
<br> 
<br>2、EL隐含对象 
<br>1)与范围有关的隐含对象 
<br>与范围有关的EL 隐含对象包含以下四个：pageScope、requestScope、sessionScope 和 
<br>applicationScope； 
<br>它们基本上就和JSP的pageContext、request、session和application一样； 
<br>在EL中，这四个隐含对象只能用来取得范围属性值，即getAttribute(String name)，却不能取得 
<br>其他相关信息。 
<br>例如：我们要取得session中储存一个属性username的值，可以利用下列方法： 
<br> session.getAttribute("username") 取得username的值， 
<br>在EL中则使用下列方法 
<br> ${sessionScope.username} 
<br>2)与输入有关的隐含对象 
<br>与输入有关的隐含对象有两个：param和paramValues，它们是EL中比较特别的隐含对象。 
<br>例如我们要取得用户的请求参数时，可以利用下列方法： 
<br> request.getParameter(String name) 
<br> request.getParameterValues(String name) 
<br>在EL中则可以使用param和paramValues两者来取得数据。 
<br> ${param.name} 
<br> ${paramValues.name} 
<br> 
<br>3.其他隐含对象 
<br>1)cookie 
<br>JSTL并没有提供设定cookie的动作， 
<br>例：要取得cookie中有一个设定名称为userCountry的值，可以使用${cookie.userCountry} 来 
<br>取得它。 
<br>2)header和headerValues 
<br>header 储存用户浏览器和服务端用来沟通的数据 
<br>例：要取得用户浏览器的版本，可以使用${header["User-Agent"]}。 
<br>另外在鲜少机会下，有可能同一标头名称拥有不同的值，此时必须改为使用headerValues 来取得 
<br>这些值。 
<br>3)initParam 
<br>initParam取得设定web站点的环境参数(Context) 
<br>例：一般的方法String userid = (String)application.getInitParameter("userid"); 
<br> 可以使用 ${initParam.userid}来取得名称为userid 
<br>4)pageContext 
<br>pageContext取得其他有关用户要求或页面的详细信息。 
<br> ${pageContext.request.queryString} 取得请求的参数字符串 
<br> ${pageContext.request.requestURL} 取得请求的URL，但不包括请求之参数字符串 
<br> ${pageContext.request.contextPath} 服务的web application 的名称 
<br> ${pageContext.request.method} 取得HTTP 的方法(GET、POST) 
<br> ${pageContext.request.protocol} 取得使用的协议(HTTP/1.1、HTTP/1.0) 
<br> ${pageContext.request.remoteUser} 取得用户名称 
<br> ${pageContext.request.remoteAddr } 取得用户的IP 地址 
<br> ${pageContext.session.new} 判断session 是否为新的 
<br> ${pageContext.session.id} 取得session 的ID 
<br> ${pageContext.servletContext.serverInfo} 取得主机端的服务信息 
<br> 4) 条件标签&gt; 
<br>1.算术运算符有五个：+、-、*或$、/或div、%或mod 
<br>2.关系运算符有六个：==或eq、!=或ne、&lt;或lt、&gt;或gt、&lt;=或le、&gt;=或ge 
<br>3.逻辑运算符有三个：&amp;&amp;或and、||或or、!或not 
<br>4.其它运算符有三个：Empty运算符、条件运算符、()运算符 
<br> 例：${empty param.name}、${A?B:C}、${A*(B+C)} 
<br>5) EL函数(functions) 
<br>语法：ns:function( arg1, arg2, arg3 …. argN) 
<br>其中ns为前置名称(prefix)，它必须和taglib 指令的前置名称一置 
<br> 6) 补充： 
<br>&lt;%@ taglib prefix="c" http://java.sun.com/jstl/core_rt"&gt;http://java.sun.com/jstl/core_rt" %&gt; 
<br>FOREACH: 
<br>&lt;c:forEach items="${messages}" 
<br>var="item" 
<br>begin="0" 
<br>end="9" 
<br>step="1" 
<br>varStatus="var"&gt; 
<br>…… 
<br>&lt;/c:forEach&gt; 
<br>OUT: 
<br>&lt;c:out value="/${logininfo.username}"/&gt; 
<br>c:out&gt;将value 中的内容输出到当前位置，这里也就是把logininfo 对象的 
<br>username属性值输出到页面当前位置。 
<br>${……}是JSP2.0 中的Expression Language（EL）的语法。它定义了一个表达式， 
<br>其中的表达式可以是一个常量（如上），也可以是一个具体的表达语句（如forEach循环体中 
<br>的情况）。典型案例如下： 
<br>? ${logininfo.username} 
<br>这表明引用logininfo 对象的username 属性。我们可以通过“.”操作符引 
<br>用对象的属性，也可以用“[]”引用对象属性，如${logininfo[username]} 
<br>与${logininfo.username}达到了同样的效果。 
<br>“[]”引用方式的意义在于，如果属性名中出现了特殊字符，如“.”或者“-”， 
<br>此时就必须使用“[]”获取属性值以避免语法上的冲突（系统开发时应尽量避免 
<br>这一现象的出现）。 
<br>与之等同的JSP Script大致如下： 
<br>LoginInfo logininfo = 
<br>(LoginInfo)session.getAttribute(“logininfo”); 
<br>String username = logininfo.getUsername(); 
<br>可以看到，EL大大节省了编码量。 
<br>这里引出的另外一个问题就是，EL 将从哪里找到logininfo 对象，对于 
<br>${logininfo.username}这样的表达式而言，首先会从当前页面中寻找之前是 
<br>否定义了变量logininfo，如果没有找到则依次到Request、Session、 
<br>Application 范围内寻找，直到找到为止。如果直到最后依然没有找到匹配的 
<br>变量，则返回null. 
<br>如果我们需要指定变量的寻找范围，可以在EL表达式中指定搜寻范围： 
<br>${pageScope.logininfo.username} 
<br>${requestScope.logininfo.username} 
<br>${sessionScope.logininfo.username} 
<br>${applicationScope.logininfo.username} 
<br>在Spring 中，所有逻辑处理单元返回的结果数据，都将作为Attribute 被放 
<br>置到HttpServletRequest 对象中返回（具体实现可参见Spring 源码中 
<br>org.springframework.web.servlet.view.InternalResourceView. 
<br>exposeModelAsRequestAttributes方法的实现代码），也就是说Spring 
<br>MVC 中，结果数据对象默认都是requestScope。因此，在Spring MVC 中， 
<br>以下寻址方法应慎用： 
<br>${sessionScope.logininfo.username} 
<br>${applicationScope.logininfo.username} 
<br>? ${1＋2} 
<br>结果为表达式计算结果，即整数值3。 
<br>? ${i&gt;1} 
<br>如果变量值i&gt;1的话，将返回bool类型true。与上例比较，可以发现EL会自 
<br>动根据表达式计算结果返回不同的数据类型。 
<br>表达式的写法与java代码中的表达式编写方式大致相同。 
<br>IF / CHOOSE: 
<br>&lt;c:if test="${var.index % 2 == 0}"&gt; 
<br>* 
<br>&lt;/c:if&gt; 
<br>判定条件一般为一个EL表达式。 
<br>&lt;c:if&gt;并没有提供else子句，使用的时候可能有些不便，此时我们可以通过&lt;c:choose&gt; 
<br>tag来达到类似的目的： 
<br>&lt;c:choose&gt; 
<br>&lt;c:when test="${var.index % 2 == 0}"&gt; 
<br>* 
<br>&lt;/c:when&gt; 
<br>&lt;c:otherwise&gt; 
<br>! 
<br>&lt;/c:otherwise&gt; 
<br>&lt;/c:choose&gt; 
<br>类似Java 中的switch 语句，&lt;c:choose&gt;提供了复杂判定条件下的简化处理手法。其 
<br>中&lt;c:when&gt;子句类似case子句，可以出现多次。上面的代码，在奇数行时输出“*”号， 
<br>而偶数行时输出“!”。 
<br>经验：1、如果EL表达式无法解析：– &lt;%@ page isELIgnored="false" %&gt; 
<br> 
<br>一、 JSTL 
<br> 
<br>1、EL运算符&gt;; 
<br> 2)var指定变量，并把EL运算结果赋值给该变量值为true/false； 
<br> 3）scope:指定 var变量的范围； 
<br> 
<br> 
<br>6、迭代标签 
<br>语法：&lt;c:forEach items=“collection” var=“name” varStatus=“status” begin=“int“ 
<br>end=”int” step=“int” &gt; 
<br> //循环体 
<br> &lt;/c:forEach&gt; 
<br> 说明:1)items:是集合，用EL表达式； 
<br> 2)var:变量名，存放items 
<br> 3)varStatus: 显示循环状态的变量 
<br>①index:从0开始; 
<br> ②count:元素位置,从1开始; 
<br> ③first:如果是第一个元素则显示true; 
<br> ④last:如果是最后一个元素则显示true; 
<br> 4)begin:循环的初始值(整型)； 
<br> 5)end: 循环结束 ; 
<br> 6)step:步长,循环间隔的数值； 
<br>7、&lt;c:otherwise&gt;标签 
<br> 例： 
<br>如果user.wealthy值true，则显示user.wealthy is true. 
<br>&lt;c:choose&gt; 
<br>&lt;c:when test=""&gt; 
<br>user.generous is true. 
<br>&lt;/c:when&gt; 
<br>&lt;c:when test=""&gt; 
<br>user.stingy is true. 
<br>&lt;/c:when&gt; 
<br>&lt;c:otherwise&gt; 
<br>user.generous and user.stingy are false. 
<br>&lt;/c:otherwise&gt; 
<br>&lt;/c:choose&gt; 
<br>说明：只有当条件user.generous返回值是true时，才显示user.generous is true. 
<br>只有当条件user.stingy返回值是true时，才显示user.stingy is true. 
<br>其它所有的情况（即user.generous和user.stingy的值都不为true）全部显示user.generous and 
<br>user.stingy are false. 
<br>由于JSTL没有形如if (){…} else {…}的条件语句，所以这种形式的语句只能用&lt;c:choose&gt;、 
<br>&lt;c:when&gt;和&lt;c:otherwise&gt;标签共同来完成了。 
<br>8、c:forTokens&gt;标签 
<br>说明： 
<br>items 进行循环的项目 是 无 
<br>delims 分割符 是 无 
<br>begin 开始条件 否 0 
<br>end 结束条件 否 集合中的最后一个项目 
<br>step 步长 否 1 
<br>var 代表当前项目的变量名 否 无 
<br>varStatus 显示循环状态的变量 否 无 
<br>例子: 
<br>&lt;c:forTokens items="a:b:c:d" delims=":" var="token"&gt; 
<br>&lt;c:out value=""/&gt; 
<br>&lt;/c:forTokens&gt; 
<br>这个标签的使用相当于java.util.StringTokenizer类。在这里将字符串a:b:c:d以：分开循环四次， 
<br>token是循环到当前分割到的字符串。 
<br>9、&lt;c:redirect&gt;标签 
<br> 说明：标签将请求重新定向到另外一个页面，它有以下属性 属性 描 述 是否必须 缺省值 
<br>url url地址 是 无 
<br>context /后跟本地web应用程序的名字 否 当前应用程序 
<br>例子： 
<br>&lt;c:redirect /'&gt;http://www.yourname.com/login.jsp"/&gt; 
<br>将请求重新定向到http://www.yourname.com/login.jsp页，相当于response.setRedirect 
<br>("http://www.yourname.com/login.jsp"); 
<br>10、&lt;c:param&gt;标签 
<br> 说明：&lt;c:param&gt;标签用来传递参数给一个重定向或包含页面，它有以下属性属 性 描 述 是否 
<br>必须 缺省值 
<br>name 在request参数中设置的变量名 是 无 
<br>value 在request参数中设置的变量值 否 无 
<br>例子： 
<br>&lt;c:redirect url="login.jsp"&gt; 
<br>&lt;c:param name="id" value="888"/&gt; 
<br>&lt;/c:redirect&gt; 
<br>将参数888以id为名字传递到login.jsp页面，相当于login.jsp?id=888 
<br>11、&lt;fmt:&gt;格式化标签 
<br> 说明：需要导入 &lt;%@ taglib prefix="fmt" http://java.sun.com/jsp/jstl/fmt"&gt;http://java.sun.com/jsp/jstl/fmt" %&gt; 
<br> 1）格式化日期&lt;fmt:formatDate value=“” pattern=“yyyy-MM-dd HH:mm:ss”/&gt; 
<br> Value:通过EL表达式或&lt;%new Date() %&gt; 取的日期值； 
<br> Pattern:输出的日期格式； 
<br> 
<br> 
<br> 2) 格式化数字&lt;fmt:formatNumber 
<br>value="${n}" pattern="###,###.##" /&gt;
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/13fe3120babf7425ca4538aa6c3f676e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">struts 第一个小示例（登录）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/275d15e657a8aa011518526f131f5c2a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【转】用DIV实现弹出窗口</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>