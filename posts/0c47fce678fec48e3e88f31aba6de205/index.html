<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python模块之Matplotlib模块学习笔记 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python模块之Matplotlib模块学习笔记" />
<meta property="og:description" content="目录
一、绘图基础知识
二、相关函数简介
三、绘图步骤
1、Figure
2、Axes
3、绘图属性设置
4、添加图表标题和坐标轴标题
5、图例说明
6、绘图的注释
7、区间上下限
8、绘图的填充
9、设置网格线
10、区间分段
11、布局
12、轴相关
四、基本绘图2D
1、线图
2、散点图
3、条形图 4、直方图
5、饼图
6、箱型图
7、气泡图
8、等高线（轮廓图）
9、制作组合图表
在Jupyter notebook中进行交互式绘图，需要执行一下语句% matplotlib notebook
一、绘图基础知识 二、相关函数简介 #导入matplotlib的pyplot模块 import matplotlib.pyplot as plt figure（）：创建一个新的绘图窗口。 figtext（）：为figure添加文字 axes（）：为当前figure添加一个坐标轴 plot（）：绘图函数 polar（）：绘制极坐标图 axis（）：获取或设置轴属性的边界方法（坐标的取值范围） clf ： 清除当前figure窗口 cla ： 清除当前axes窗口 close ： 关闭当前figure窗口 subplot ： 一个图中包含多个axes text（）： 在轴上添加文字 title（）： 设置当前axes标题 xlabel/ylabel：设置当前X轴或Y轴的标签 hist（）：绘制直方图 hist2d（）：绘制二维在直方图 hold ：设置当前图窗状态；off或者on imread（）：读取一个图像，从图形文件中提取数组 legend（）：为当前axes放置标签 pie（）：绘制饼状图 scatter（）：做一个X和Y的散点图，其中X和Y是相同长度的序列对象 stackplot（）：绘制一个堆叠面积图 acorr（）：绘制X的自相关函数 annotate（）：用箭头在指定的数据点创建一个注释或一段文本 bar（）：绘制垂直条形图	barh（）：绘制横向条形图 barbs（）：绘制一个倒钩的二维场 三、绘图步骤 1、Figure 绘图之前，我们需要一个Figure对象，可以理解成我们需要一张画板才能开始绘图" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/0c47fce678fec48e3e88f31aba6de205/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-17T15:12:35+08:00" />
<meta property="article:modified_time" content="2021-12-17T15:12:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python模块之Matplotlib模块学习笔记</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E7%BB%98%E5%9B%BE%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E7%BB%98%E5%9B%BE%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86" rel="nofollow" title="一、绘图基础知识">一、绘图基础知识</a></p> 
<p id="%E4%BA%8C%E3%80%81%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0%E7%AE%80%E4%BB%8B-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0%E7%AE%80%E4%BB%8B" rel="nofollow" title="二、相关函数简介">二、相关函数简介</a></p> 
<p id="%E4%B8%89%E3%80%81%E7%BB%98%E5%9B%BE%E6%AD%A5%E9%AA%A4-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E7%BB%98%E5%9B%BE%E6%AD%A5%E9%AA%A4" rel="nofollow" title="三、绘图步骤">三、绘图步骤</a></p> 
<p id="1%E3%80%81Figure-toc" style="margin-left:40px;"><a href="#1%E3%80%81Figure" rel="nofollow" title="1、Figure">1、Figure</a></p> 
<p id="2%E3%80%81Axes-toc" style="margin-left:40px;"><a href="#2%E3%80%81Axes" rel="nofollow" title="2、Axes">2、Axes</a></p> 
<p id="3%E3%80%81%E7%BB%98%E5%9B%BE%E5%B1%9E%E6%80%A7%E8%AE%BE%E7%BD%AE-toc" style="margin-left:40px;"><a href="#3%E3%80%81%E7%BB%98%E5%9B%BE%E5%B1%9E%E6%80%A7%E8%AE%BE%E7%BD%AE" rel="nofollow" title="3、绘图属性设置">3、绘图属性设置</a></p> 
<p id="4%E3%80%81%E6%B7%BB%E5%8A%A0%E5%9B%BE%E8%A1%A8%E6%A0%87%E9%A2%98%E5%92%8C%E5%9D%90%E6%A0%87%E8%BD%B4%E6%A0%87%E9%A2%98-toc" style="margin-left:40px;"><a href="#4%E3%80%81%E6%B7%BB%E5%8A%A0%E5%9B%BE%E8%A1%A8%E6%A0%87%E9%A2%98%E5%92%8C%E5%9D%90%E6%A0%87%E8%BD%B4%E6%A0%87%E9%A2%98" rel="nofollow" title="4、添加图表标题和坐标轴标题">4、添加图表标题和坐标轴标题</a></p> 
<p id="5%E3%80%81%E5%9B%BE%E4%BE%8B%E8%AF%B4%E6%98%8E-toc" style="margin-left:40px;"><a href="#5%E3%80%81%E5%9B%BE%E4%BE%8B%E8%AF%B4%E6%98%8E" rel="nofollow" title="5、图例说明">5、图例说明</a></p> 
<p id="6%E3%80%81%E7%BB%98%E5%9B%BE%E7%9A%84%E6%B3%A8%E9%87%8A-toc" style="margin-left:40px;"><a href="#6%E3%80%81%E7%BB%98%E5%9B%BE%E7%9A%84%E6%B3%A8%E9%87%8A" rel="nofollow" title="6、绘图的注释">6、绘图的注释</a></p> 
<p id="%C2%A07%E3%80%81%E5%8C%BA%E9%97%B4%E4%B8%8A%E4%B8%8B%E9%99%90-toc" style="margin-left:40px;"><a href="#%C2%A07%E3%80%81%E5%8C%BA%E9%97%B4%E4%B8%8A%E4%B8%8B%E9%99%90" rel="nofollow" title="7、区间上下限">7、区间上下限</a></p> 
<p id="8%E3%80%81%E7%BB%98%E5%9B%BE%E7%9A%84%E5%A1%AB%E5%85%85-toc" style="margin-left:40px;"><a href="#8%E3%80%81%E7%BB%98%E5%9B%BE%E7%9A%84%E5%A1%AB%E5%85%85" rel="nofollow" title="8、绘图的填充">8、绘图的填充</a></p> 
<p id="9%E3%80%81%E8%AE%BE%E7%BD%AE%E7%BD%91%E6%A0%BC%E7%BA%BF-toc" style="margin-left:40px;"><a href="#9%E3%80%81%E8%AE%BE%E7%BD%AE%E7%BD%91%E6%A0%BC%E7%BA%BF" rel="nofollow" title="9、设置网格线">9、设置网格线</a></p> 
<p id="10%E3%80%81%E5%8C%BA%E9%97%B4%E5%88%86%E6%AE%B5-toc" style="margin-left:40px;"><a href="#10%E3%80%81%E5%8C%BA%E9%97%B4%E5%88%86%E6%AE%B5" rel="nofollow" title="10、区间分段">10、区间分段</a></p> 
<p id="11%E3%80%81%E5%B8%83%E5%B1%80-toc" style="margin-left:40px;"><a href="#11%E3%80%81%E5%B8%83%E5%B1%80" rel="nofollow" title="11、布局">11、布局</a></p> 
<p id="12%E3%80%81%E8%BD%B4%E7%9B%B8%E5%85%B3-toc" style="margin-left:40px;"><a href="#12%E3%80%81%E8%BD%B4%E7%9B%B8%E5%85%B3" rel="nofollow" title="12、轴相关">12、轴相关</a></p> 
<p id="%E5%9B%9B%E3%80%81%E5%9F%BA%E6%9C%AC%E7%BB%98%E5%9B%BE2D-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81%E5%9F%BA%E6%9C%AC%E7%BB%98%E5%9B%BE2D" rel="nofollow" title="四、基本绘图2D">四、基本绘图2D</a></p> 
<p id="1%E3%80%81%E7%BA%BF%E5%9B%BE-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E7%BA%BF%E5%9B%BE" rel="nofollow" title="1、线图">1、线图</a></p> 
<p id="22-散点图-toc" style="margin-left:40px;"><a href="#22-%E6%95%A3%E7%82%B9%E5%9B%BE" rel="nofollow" title="2、散点图">2、散点图</a></p> 
<p id="3%E3%80%81%E6%9D%A1%E5%BD%A2%E5%9B%BE%C2%A0-toc" style="margin-left:40px;"><a href="#3%E3%80%81%E6%9D%A1%E5%BD%A2%E5%9B%BE%C2%A0" rel="nofollow" title="3、条形图 ">3、条形图 </a></p> 
<p id="4%E3%80%81%E7%9B%B4%E6%96%B9%E5%9B%BE-toc" style="margin-left:40px;"><a href="#4%E3%80%81%E7%9B%B4%E6%96%B9%E5%9B%BE" rel="nofollow" title="4、直方图">4、直方图</a></p> 
<p id="5%E3%80%81%E9%A5%BC%E5%9B%BE-toc" style="margin-left:40px;"><a href="#5%E3%80%81%E9%A5%BC%E5%9B%BE" rel="nofollow" title="5、饼图">5、饼图</a></p> 
<p id="6%E3%80%81%E7%AE%B1%E5%9E%8B%E5%9B%BE-toc" style="margin-left:40px;"><a href="#6%E3%80%81%E7%AE%B1%E5%9E%8B%E5%9B%BE" rel="nofollow" title="6、箱型图">6、箱型图</a></p> 
<p id="7%E3%80%81%E6%B0%94%E6%B3%A1%E5%9B%BE-toc" style="margin-left:40px;"><a href="#7%E3%80%81%E6%B0%94%E6%B3%A1%E5%9B%BE" rel="nofollow" title="7、气泡图">7、气泡图</a></p> 
<p id="%C2%A08%E3%80%81%E7%AD%89%E9%AB%98%E7%BA%BF%EF%BC%88%E8%BD%AE%E5%BB%93%E5%9B%BE%EF%BC%89-toc" style="margin-left:40px;"><a href="#%C2%A08%E3%80%81%E7%AD%89%E9%AB%98%E7%BA%BF%EF%BC%88%E8%BD%AE%E5%BB%93%E5%9B%BE%EF%BC%89" rel="nofollow" title="8、等高线（轮廓图）">8、等高线（轮廓图）</a></p> 
<p id="9%E3%80%81%E5%88%B6%E4%BD%9C%E7%BB%84%E5%90%88%E5%9B%BE%E8%A1%A8-toc" style="margin-left:40px;"><a href="#9%E3%80%81%E5%88%B6%E4%BD%9C%E7%BB%84%E5%90%88%E5%9B%BE%E8%A1%A8" rel="nofollow" title="9、制作组合图表">9、制作组合图表</a></p> 
<hr id="hr-toc"> 
<p>在Jupyter notebook中进行交互式绘图，需要执行一下语句<code>% matplotlib notebook</code></p> 
<h2 id="%E4%B8%80%E3%80%81%E7%BB%98%E5%9B%BE%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86">一、绘图基础知识</h2> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/01/6c/3K1riKRA_o.jpg"></p> 
<h2 id="%E4%BA%8C%E3%80%81%E7%9B%B8%E5%85%B3%E5%87%BD%E6%95%B0%E7%AE%80%E4%BB%8B">二、相关函数简介</h2> 
<pre><code class="language-python">#导入matplotlib的pyplot模块
import matplotlib.pyplot as plt</code></pre> 
<pre><code class="language-python">figure（）：创建一个新的绘图窗口。
figtext（）：为figure添加文字 
axes（）：为当前figure添加一个坐标轴
plot（）：绘图函数
polar（）：绘制极坐标图
axis（）：获取或设置轴属性的边界方法（坐标的取值范围）
clf   ： 清除当前figure窗口          cla  ： 清除当前axes窗口
close      ： 关闭当前figure窗口
subplot    ： 一个图中包含多个axes
text（）： 在轴上添加文字
title（）： 设置当前axes标题
xlabel/ylabel：设置当前X轴或Y轴的标签
hist（）：绘制直方图
hist2d（）：绘制二维在直方图
hold      ：设置当前图窗状态；off或者on
imread（）：读取一个图像，从图形文件中提取数组
legend（）：为当前axes放置标签
pie（）：绘制饼状图
scatter（）：做一个X和Y的散点图，其中X和Y是相同长度的序列对象
stackplot（）：绘制一个堆叠面积图
acorr（）：绘制X的自相关函数
annotate（）：用箭头在指定的数据点创建一个注释或一段文本
bar（）：绘制垂直条形图		 barh（）：绘制横向条形图
barbs（）：绘制一个倒钩的二维场</code></pre> 
<h2 id="%E4%B8%89%E3%80%81%E7%BB%98%E5%9B%BE%E6%AD%A5%E9%AA%A4">三、绘图步骤</h2> 
<h3 id="1%E3%80%81Figure">1、Figure</h3> 
<p>绘图之前，我们需要一个Figure对象，可以理解成我们需要一张画板才能开始绘图</p> 
<p>def figure(num=None, figsize=None, dpi=None, facecolor=None, edgecolor=None, frameon=True, FigureClass=Figure, clear=False, **kwargs)</p> 
<pre><code class="language-python">import matplotlib.pyplot as plt
fig = plt.figure(figsize=(a, b),dpi=dpi)
#figsize 设置图形的大小，a 为图形的宽， b 为图形的高，单位为英寸
#dpi 为设置图形每英寸的点数</code></pre> 
<p>则此时图形的像素为：</p> 
<p>px, py = a*dpi, b*dpi # pixels</p> 
<p># e.g.</p> 
<p># 6.4 inches * 100 dpi = 640 pixels</p> 
<p>也就是说，同一像素尺寸的图形(比如 1200 * 600)可以有任意种不同的组合，比如：</p> 
<p>figsize=(15,7.5), dpi= 80</p> 
<p>figsize=(12,6) , dpi=100</p> 
<p>figsize=( 8,4) , dpi=150</p> 
<p>figsize=( 6,3) , dpi=200 </p> 
<h3 id="2%E3%80%81Axes">2、Axes</h3> 
<p>在拥有Figure对象之后，需要添加Axes。也可以理解成为真正可以作画的纸。</p> 
<p>添加Axes的方式：</p> 
<p>方式一：通过plt的subplot。语法格式：plt.subplot(221)</p> 
<p>方式二：通过figure的add_subplot。语法格式：ax1=fig.add_subplot(221)</p> 
<p>方式三：通过plt的subplots。subplots返回的值的类型为元组，其中包含两个元素：第一个为一个画布，第二个是子图。这在循环绘图时，额外好用。语法格式：fig,subs=plt.subplots(2,2)</p> 
<p>方式四：不规则划分。前面的两个图占了221和222的位置，如果想在下面只放一个图，得把前两个当成一列，即2行1列第2个位置。plt.subplot(212)</p> 
<h3 id="3%E3%80%81%E7%BB%98%E5%9B%BE%E5%B1%9E%E6%80%A7%E8%AE%BE%E7%BD%AE">3、绘图属性设置</h3> 
<p>设置pyplot的动态rc参数</p> 
<ul><li>pyplot使用rc配置文件来自定义图形的各种默认属性，被称为rc配置或rc参数。</li><li>在pyplot中几乎所有的默认属性都是可以控制的，例如视图窗口大小以及每英寸点数、线条宽度、颜色和样式、坐标轴、坐标和网格属性、文本、字体等。</li></ul> 
<p>查看matplotlib的rc参数：</p> 
<pre><code>import matplotlib as plt 
print(plt.rc_params())</code></pre> 
<pre><code>常用参数：
Axes：设置坐标轴边界、颜色、坐标
刻度值大小和网格的显示；
Figure：设置边界颜色、图形大小和子区；
Font：设置字号、字体和样式；
Grid：设置网格颜色和线型；
Legend：设置图例和其中的文本显示；
Lines：设置线条颜色、宽度、线型等；
Savefig：对保存图像进行单独设置；
Xtick和ytick：X、Y轴的主刻度和次刻度设置颜色、大小、方向和标签大小。</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/d6/28/jgtEWZuu_o.png"></p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/83/f2/OO5mXjnb_o.png"></p> 
<h3 id="4%E3%80%81%E6%B7%BB%E5%8A%A0%E5%9B%BE%E8%A1%A8%E6%A0%87%E9%A2%98%E5%92%8C%E5%9D%90%E6%A0%87%E8%BD%B4%E6%A0%87%E9%A2%98">4、添加图表标题和坐标轴标题</h3> 
<p>- 设置中文标签</p> 
<pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt
fig,ax=plt.subplots()
plt.rcParams['font.family']=['SimHei']#用来显示中文标签
plt.rcParams['axes.unicode_minus']=False  #用来正常显示负号</code></pre> 
<p>- 设置图表标题和坐标轴标题</p> 
<p>.title(label, fontdict=None, loc='center', pad=None)  #label文本内容；fontdic图表标题的字体字号颜色；loc显示位置；pad图表标题到图表坐标系顶端的距离。</p> 
<p style="margin-left:0;">.xlabel/ylabel(label, fontdict=None, labelpad=None)</p> 
<pre><code class="language-python">#添加图表标题
plt.title(label='对比图', fontdict={'family':'KaiTi', 'color':'red', 'size':30}, loc='left')  
#添加x轴标题
plt.xlabel('month', fontdict={'family':'SimSun', 'color':'red', 'size':20}, labelpad=20) 
#添加y轴标题
plt.ylabel('month', fontdict={'family':'SimSun', 'color':'red', 'size':20}, labelpad=20) </code></pre> 
<h3 id="5%E3%80%81%E5%9B%BE%E4%BE%8B%E8%AF%B4%E6%98%8E">5、图例说明</h3> 
<p style="margin-left:0;">plt.legend(loc, fontsize, facecolor, edgecolor, shadow=False)  用于为图表<strong>添加图例</strong>。需要注意的是应先在所制作的图表中设置label图例名。</p> 
<pre><code class="language-python">plt.legend(loc='upper right', fontsize=20)  #添加图例</code></pre> 
<h3 id="6%E3%80%81%E7%BB%98%E5%9B%BE%E7%9A%84%E6%B3%A8%E9%87%8A">6、绘图的注释</h3> 
<p>绘图时有时需要在图表中加文本注解。这时可以通过text函数在指定的位置（x,y）加入文本注解；</p> 
<p>通过<code>annotate()</code>在指定位置实现指向型注释。</p> 
<p>- 指向型注释annotate()</p> 
<p>- 无指向型注释text()</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/65/0d/VkF7QLz0_o.png"></p> 
<pre><code>#添加注释 参数名xy：箭头注释中箭头所在位置，参数名xytext：注释文本所在位置，
#arrowprops在xy和xytext之间绘制箭头, shrink表示注释点与注释文本之间的图标距离

plt.annotate('我是注释', xy=(2,5), xytext=(2, 10),
            arrowprops=dict(facecolor='black', shrink=0.01))</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/96/af/RHnjcnQt_o.jpg"></p> 
<pre><code>for a, b in zip(x,y):
    plt.text(a, b, b, fontdict={'family':'KaiTi', 'color':'red', 'size':30})  # 添加数据标签

#zip()是python的内置函数，以可迭代的对象作为参数，将对象中对应的元素打包成一个元组，然后返回由这些元组组成的列表。语法格式：zip([iterable,…])

#text()是matplotlib模块中的函数，用于设置标签。
Text(x, y, s, fontdict=None)  x/y为标签的坐标，s为标签的内容，fontdict为字体设置</code></pre> 
<h3 id="%C2%A07%E3%80%81%E5%8C%BA%E9%97%B4%E4%B8%8A%E4%B8%8B%E9%99%90">7、区间上下限</h3> 
<p>当绘画完成后，会发现X、Y轴的区间是会自动调整的，并不是跟我们传入的X、Y轴数据中的最值相同。为了调整区间我们使用下面的方式：</p> 
<pre><code class="language-python">ax.set_xlim([xmin, xmax])   #设置X轴的区间
ax.set_ylim([ymin, ymax])   #Y轴区间
ax.axis([xmin, xmax, ymin, ymax])   #X、Y轴区间
ax.set_ylim(bottom=-10)     #Y轴下限
ax.set_xlim(right=25)       #X轴上限</code></pre> 
<h3 id="8%E3%80%81%E7%BB%98%E5%9B%BE%E7%9A%84%E5%A1%AB%E5%85%85">8、绘图的填充</h3> 
<p>调用函数fill_between() 实现曲线下面部分的填充：</p> 
<pre><code class="language-python">plt.fill_between(x, y1, y2, facecolor='green', alpha=0.3)

x：第一个参数表示覆盖的区域， x，表示整个x都覆盖
y1：表示覆盖的下限是y1这个曲线。可设为常数0，则在曲线下面部分填充
y2：表示覆盖的上限是y2这个曲线
facecolor：覆盖区域的颜色
alpha：覆盖区域的透明度[0,1],其值越大，表示越不透明</code></pre> 
<h3 id="9%E3%80%81%E8%AE%BE%E7%BD%AE%E7%BD%91%E6%A0%BC%E7%BA%BF">9、设置网格线</h3> 
<p style="margin-left:0;">plt.grid(b, which, axis, color, linestyly, linewidth)  b为True，显示网格线；which要设置哪种类型的网格线，取值为major、minor、both表示只设置主要网格线、只设置次要网格线、两者都设置；axis要设置哪个轴的网格线，取值为x、y、both； </p> 
<h3 id="10%E3%80%81%E5%8C%BA%E9%97%B4%E5%88%86%E6%AE%B5" style="margin-left:0px;">10、区间分段</h3> 
<p style="margin-left:0;">默认情况下，绘图结束之后，Axes 会自动的控制区间的分段。</p> 
<pre><code>data = [('apples', 2), ('oranges', 3), ('peaches', 1)]
fruit, value = zip(*data)

fig, (ax1, ax2) = plt.subplots(2)
x = np.arange(len(fruit))
ax1.bar(x, value, align='center', color='gray')
ax2.bar(x, value, align='center', color='gray')

ax2.set(xticks=x, xticklabels=fruit) #设置x轴值的顺序，并修改了显示的信息为文本

#ax.tick_params(axis='y', direction='inout', length=10) #修改 ticks 的方向以及长度
plt.show()</code></pre> 
<h3 id="11%E3%80%81%E5%B8%83%E5%B1%80">11、布局</h3> 
<p>当我们绘画多个子图时，就会有一些美观的问题存在，例如子图之间的间隔，子图与画板的外边间距以及子图的内边距，下面说明这个问题： </p> 
<pre><code>fig, axes = plt.subplots(2, 2, figsize=(9, 9))
fig.subplots_adjust(wspace=0.5, hspace=0.3,
                    left=0.125, right=0.9,
                    top=0.9,    bottom=0.1)

#fig.tight_layout() #自动调整布局，使标题之间不重叠
plt.show()</code></pre> 
<p>通过fig.subplots_adjust()我们修改了子图水平之间的间隔wspace=0.5，垂直方向上的间距hspace=0.3，左边距left=0.125 等等，这里数值都是百分比的。以 [0, 1] 为区间，选择left、right、bottom、top 注意 top 和 right 是 0.9 表示上、右边距为百分之10。不确定如果调整的时候，fig.tight_layout()是一个很好的选择。之前说到了内边距，内边距是子图的，也就是 Axes 对象，所以这样使用 ax.margins(x=0.1, y=0.1)，当值传入一个值时，表示同时修改水平和垂直方向的内边距。</p> 
<p>调整X、Y的区间使他们使用一样的X、Y轴：</p> 
<pre><code>fig, (ax1, ax2) = plt.subplots(1, 2, sharex=True, sharey=True)</code></pre> 
<h3 id="12%E3%80%81%E8%BD%B4%E7%9B%B8%E5%85%B3">12、轴相关</h3> 
<p>改变边界的位置，去掉四周的边框：</p> 
<pre><code class="language-python">fig, ax = plt.subplots()
ax.plot([-2, 2, 3, 4], [-10, 20, 25, 5])
ax.spines['top'].set_visible(False)     #顶边界不可见
ax.xaxis.set_ticks_position('bottom')  # ticks 的位置为下方，分上下的。
ax.spines['right'].set_visible(False)   #右边界不可见
ax.yaxis.set_ticks_position('left')  

# "outward"
# 移动左、下边界离 Axes 10 个距离
#ax.spines['bottom'].set_position(('outward', 10))
#ax.spines['left'].set_position(('outward', 10))

# "data"
# 移动左、下边界到 (0, 0) 处相交
ax.spines['bottom'].set_position(('data', 0))
ax.spines['left'].set_position(('data', 0))

# "axes"
# 移动边界，按 Axes 的百分比位置
#ax.spines['bottom'].set_position(('axes', 0.75))
#ax.spines['left'].set_position(('axes', 0.3))

plt.show()</code></pre> 
<h2 id="%E5%9B%9B%E3%80%81%E5%9F%BA%E6%9C%AC%E7%BB%98%E5%9B%BE2D">四、基本绘图2D</h2> 
<h3 id="1%E3%80%81%E7%BA%BF%E5%9B%BE">1、线图</h3> 
<p>plt.plot()函数</p> 
<pre><code>x = np.linspace(0, np.pi)
y_sin = np.sin(x)
y_cos = np.cos(x)

ax1.plot(x, y_sin)
ax2.plot(x, y_sin, 'go--', linewidth=2, markersize=12)
ax3.plot(x, y_cos, color='red', marker='+', linestyle='dashed')</code></pre> 
<p>在上面的三个Axes上作画。plot，前面两个参数为x轴、y轴数据。ax2的第三个参数是 MATLAB风格的绘图，对应ax3上的颜色，marker，线型。</p> 
<p><strong>通过关键字参数的方式绘图</strong>，如下例：</p> 
<pre><code>x = np.linspace(0, 10, 200)
data_obj = {'x': x,
            'y1': 2 * x + 1,
            'y2': 3 * x + 1.2,
            'mean': 0.5 * x * np.cos(2*x) + 2.5 * x + 1.1}

fig, ax = plt.subplots()

#填充两条线之间的颜色
ax.fill_between('x', 'y1', 'y2', color='yellow', data=data_obj)

# Plot the "centerline" with `plot`
ax.plot('x', 'mean', color='black', data=data_obj)

plt.show()</code></pre> 
<p>发现上面的作图，在数据部分只传入了字符串，这些字符串对一个这 data_obj 中的关键字，当以这种方式作画时，将会在传入给 data 中寻找对应关键字的数据来绘图。</p> 
<h3 id="22-散点图">2、散点图</h3> 
<pre><code class="language-python">x = np.arange(10)
y = np.random.randn(10)
plt.scatter(x, y, color='red', marker='+')
plt.show()</code></pre> 
<h3 id="3%E3%80%81%E6%9D%A1%E5%BD%A2%E5%9B%BE%C2%A0">3、条形图 </h3> 
<p>条形图分两种，一种是水平的，一种是垂直的</p> 
<pre><code>np.random.seed(1)
x = np.arange(5)
y = np.random.randn(5)

fig, axes = plt.subplots(ncols=2, figsize=plt.figaspect(1./2))

vert_bars = axes[0].bar(x, y, color='lightblue', align='center')
horiz_bars = axes[1].barh(x, y, color='lightblue', align='center')
#在水平或者垂直方向上画线
axes[0].axhline(0, color='gray', linewidth=2)
axes[1].axvline(0, color='gray', linewidth=2)
plt.show()</code></pre> 
<p>条形图还返回了一个Artists 数组，对应着每个条形，例如上图 Artists 数组的大小为5，我们可以通过这些 Artists 对条形图的样式进行更改，如下例：</p> 
<pre><code>fig, ax = plt.subplots()
vert_bars = ax.bar(x, y, color='lightblue', align='center')

# We could have also done this with two separate calls to `ax.bar` and numpy boolean indexing.
for bar, height in zip(vert_bars, y):
    if height &lt; 0:
        bar.set(edgecolor='darkred', color='salmon', linewidth=3)

plt.show()</code></pre> 
<h3 id="4%E3%80%81%E7%9B%B4%E6%96%B9%E5%9B%BE">4、直方图</h3> 
<p>plt.hist()：直方图用于统计数据出现的次数或者频率，有多种参数可以调整，见下例：</p> 
<pre><code class="language-python">np.random.seed(19680801)
n_bins = 10
x = np.random.randn(1000, 3)

fig, axes = plt.subplots(nrows=2, ncols=2)
ax0, ax1, ax2, ax3 = axes.flatten() #将ax由n*m的Axes组展平成1*nm的Axes组，从而可以直接使用ax[i]来循环

colors = ['red', 'tan', 'lime']
ax0.hist(x, n_bins, density=True, histtype='bar', color=colors, label=colors)
ax0.legend(prop={'size': 10})
ax0.set_title('bars with legend')

ax1.hist(x, n_bins, density=True, histtype='barstacked')
ax1.set_title('stacked bar')

ax2.hist(x,  histtype='barstacked', rwidth=0.9)

ax3.hist(x[:, 0], rwidth=0.9)
ax3.set_title('different sample sizes')

fig.tight_layout()
plt.show()</code></pre> 
<p>参数中density控制Y轴是概率还是数量，与返回的第一个的变量对应。histtype控制着直方图的样式，默认是 ‘bar’，对于多个条形时就相邻的方式呈现如子图1， ‘barstacked’ 就是叠在一起，如子图2、3。 rwidth 控制着宽度，这样可以空出一些间隙，比较图2、3. 图4是只有一条数据时。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/40/d0/09AARoaH_o.png"></p> 
<h3 id="5%E3%80%81%E9%A5%BC%E5%9B%BE">5、饼图</h3> 
<p style="margin-left:0;">plt.pie(x, explode, labels, colors, autopct, pctdistance, shadow, labeldistance, startangle, radius, counterclock, center, frame)</p> 
<p style="margin-left:0;">x饼图块的数据系列值；explode一个列表，指定每一个饼图块与圆心的距离；labels每一个饼图块的数据标签内容；colors每一个饼图块的填充颜色；autopct每个饼图块百分比数值的格式；pctdistance百分比数值与饼图块中心的距离；startangle数据的第一值对应的饼图块在饼图中的初始角度；radius饼图的半径；counterclock是否让饼图逆时针显示；center饼图的中心位置；frame是否显示饼图背后的图框</p> 
<p style="margin-left:0;">在plt.pie()函数适当设置参数wedgeprops的值，就能制作圆环图。</p> 
<pre><code class="language-python">plt.pie(y, labels=x, autopct='%.2f%%',pctdistance=0.85, radius=1.0, labeldistance=1.1, wedgeprops={'width':0.3, 'linewidth':2, 'edgecolor':'white'})</code></pre> 
<h3 id="6%E3%80%81%E7%AE%B1%E5%9E%8B%E5%9B%BE">6、箱型图</h3> 
<p>plt.boxplot(data,vert=False) #vert控制方向，默认True，垂直方向。False，水平方向。</p> 
<h3 id="7%E3%80%81%E6%B0%94%E6%B3%A1%E5%9B%BE">7、气泡图</h3> 
<p>散点图的一种，加入了第三个值 <code>s</code> 可以理解成普通散点，画的是二维，泡泡图体现了Z的大小。 </p> 
<pre><code class="language-python">np.random.seed(19680801)

N = 50
x = np.random.rand(N)
y = np.random.rand(N)
colors = np.random.rand(N)
area = (30 * np.random.rand(N))**2  # 0 to 15 point radii

plt.scatter(x, y, s=area, c=colors, alpha=0.5)
plt.show()</code></pre> 
<h3 id="%C2%A08%E3%80%81%E7%AD%89%E9%AB%98%E7%BA%BF%EF%BC%88%E8%BD%AE%E5%BB%93%E5%9B%BE%EF%BC%89">8、等高线（轮廓图）</h3> 
<p>有时候需要描绘边界的时候，就会用到轮廓图，机器学习用的决策边界也常用轮廓图来绘画，见下例：</p> 
<pre><code>fig, (ax1, ax2) = plt.subplots(2)
x = np.arange(-5, 5, 0.1)
y = np.arange(-5, 5, 0.1)
xx, yy = np.meshgrid(x, y, sparse=True)
z = np.sin(xx**2 + yy**2) / (xx**2 + yy**2)
ax1.contourf(x, y, z)
ax2.contour(x, y, z)</code></pre> 
<p>上面画了两个一样的轮廓图，contourf会填充轮廓线之间的颜色。数据x, y, z通常是具有相同 shape 的二维矩阵。x, y 可以为一维向量，但是必需有 z.shape = (y.n, x.n) ，这里 y.n 和 x.n 分别表示x、y的长度。Z通常表示的是距离X-Y平面的距离，传入X、Y则是控制了绘制等高线的范围。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/a6/76/NJxHrwy4_o.png"></p> 
<h3 id="9%E3%80%81%E5%88%B6%E4%BD%9C%E7%BB%84%E5%90%88%E5%9B%BE%E8%A1%A8">9、制作组合图表</h3> 
<p style="margin-left:0;">在制作组合图表时，只需要为图表设置两组x坐标或两组y坐标，然后制作两个图表即可。 </p> 
<pre><code>plt.bar(x, y1, label='num')
plt.legend(loc='upper left', fontsize=20)  #添加图例
plt.twinx()  #为图表设置双坐标轴
plt.bar(x, y2, label='%')
plt.legend(loc='upper right', fontsize=20)  #添加图例</code></pre> 
<p>参考文章：</p> 
<p><a class="link-info" href="https://blog.csdn.net/qq_34859482/article/details/80617391" title="Python--Matplotlib（基本用法）">Python--Matplotlib（基本用法）</a></p> 
<p><a class="link-info" href="https://zhuanlan.zhihu.com/p/231994155" rel="nofollow" title="python如何使用Matplotlib画图（基础篇）">python如何使用Matplotlib画图（基础篇）</a></p> 
<p><a class="link-info" href="https://blog.csdn.net/qq_46092061/article/details/121729833?utm_medium=distribute.pc_category.none-task-blog-hot-8.nonecase&amp;depth_1-utm_source=distribute.pc_category.none-task-blog-hot-8.nonecase" title="【Python数据分析与可视化】期末复习笔记整理（不挂科）">【Python数据分析与可视化】期末复习笔记整理（不挂科）</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/487a4572416827e62d367ad388f3b7bc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">亲测：华为老爷机安装谷歌框架</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c964a9dfa89967c4648be1f692172f6d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">linux中软链接的使用方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>