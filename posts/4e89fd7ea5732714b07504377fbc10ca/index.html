<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>《qt quick核心编程》笔记四 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="《qt quick核心编程》笔记四" />
<meta property="og:description" content="11 Model/View Delegate实际上可以看成是Item的一个模板
11.1 ListView ListView用于显示一个条目列表，数据来自于Model，每个条目的外观来自于Delegate
要使用ListView必须指定一个Model、一个Delegate
Model可以是QML内建类型，如ListModel、XmlListModel，也可以是C&#43;&#43;中实现的QAbstracItemModel或QAbstractListModel的派生类
import QtQuick 2.15 import QtQuick.Window 2.15 import QtQuick.Controls 2.15 import QtQuick.Layouts 1.15 Window { width: 560 height: 300 color: &#34;#EEEEEE&#34; visible: true Component { id: phoneModel ListModel { ListElement { name: &#34;iPhone 3GS&#34; cost: &#34;1000&#34; manufacturer: &#34;Apple&#34; } ListElement { name: &#34;iPhone 4&#34; cost: &#34;1800&#34; manufacturer: &#34;Apple&#34; } ListElement { name: &#34;iPhone 4S&#34; cost: &#34;2300&#34; manufacturer: &#34;Apple&#34; } ListElement { name: &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/4e89fd7ea5732714b07504377fbc10ca/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-07T22:10:26+08:00" />
<meta property="article:modified_time" content="2023-10-07T22:10:26+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">《qt quick核心编程》笔记四</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="11_ModelView_0"></a>11 Model/View</h3> 
<p><img src="https://images2.imgbox.com/b0/3a/TGEyhx0S_o.png" alt="在这里插入图片描述"></p> 
<p>Delegate实际上可以看成是Item的一个模板</p> 
<h4><a id="111_ListView_4"></a>11.1 ListView</h4> 
<p>ListView用于显示一个条目列表，数据来自于Model，每个条目的外观来自于Delegate<br> 要使用ListView必须指定一个Model、一个Delegate<br> Model可以是QML内建类型，如ListModel、XmlListModel，也可以是C++中实现的QAbstracItemModel或QAbstractListModel的派生类</p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> QtQuick <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Window <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Controls <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Layouts <span class="token number">1.15</span>

Window <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">560</span>
	<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">300</span>
	<span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#EEEEEE"</span>
	<span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span>

	Component <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">id</span><span class="token operator">:</span> phoneModel
		ListModel <span class="token punctuation">{<!-- --></span>
			ListElement <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"iPhone 3GS"</span>
				<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"1000"</span>
				<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"Apple"</span>
			<span class="token punctuation">}</span>
			ListElement <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"iPhone 4"</span>
				<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"1800"</span>
				<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"Apple"</span>
			<span class="token punctuation">}</span>
			ListElement <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"iPhone 4S"</span>
				<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"2300"</span>
				<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"Apple"</span>
			<span class="token punctuation">}</span>
			ListElement <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"iPhone 5"</span>
				<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"4900"</span>
				<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"Apple"</span>
			<span class="token punctuation">}</span>
			ListElement <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"B199"</span>
				<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"1590"</span>
				<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"HuaWei"</span>
			<span class="token punctuation">}</span>
			ListElement <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"MI 2S"</span>
				<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"1999"</span>
				<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"XiaoMi"</span>
			<span class="token punctuation">}</span>
			ListElement <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"GALAXY S5"</span>
				<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"4699"</span>
				<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"Samsung"</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	Component <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">id</span><span class="token operator">:</span> headview
		Item <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">width</span><span class="token operator">:</span> parent<span class="token punctuation">.</span>width
			<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">30</span>
			RowLayout <span class="token punctuation">{<!-- --></span>
				anchors<span class="token punctuation">.</span>verticalCenter<span class="token operator">:</span> parent<span class="token punctuation">.</span>verticalCenter

				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"Name"</span>
					font<span class="token punctuation">.</span>bold<span class="token operator">:</span> <span class="token boolean">true</span>
					font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> <span class="token number">20</span>
					Layout<span class="token punctuation">.</span>preferredWidth<span class="token operator">:</span> <span class="token number">120</span>
				<span class="token punctuation">}</span>

				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"Cost"</span>
					font<span class="token punctuation">.</span>bold<span class="token operator">:</span> <span class="token boolean">true</span>
					font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> <span class="token number">20</span>
					Layout<span class="token punctuation">.</span>preferredWidth<span class="token operator">:</span> <span class="token number">80</span>
				<span class="token punctuation">}</span>

				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"Manufacturer"</span>
					font<span class="token punctuation">.</span>bold<span class="token operator">:</span> <span class="token boolean">true</span>
					font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> <span class="token number">20</span>
					Layout<span class="token punctuation">.</span>fillWidth<span class="token operator">:</span> <span class="token boolean">true</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	Component <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">id</span><span class="token operator">:</span> footerView

		Item <span class="token punctuation">{<!-- --></span>
			signal clean
			signal add
			signal insert
			signal move
			property alias text<span class="token operator">:</span> txt<span class="token punctuation">.</span>text
			<span class="token literal-property property">width</span><span class="token operator">:</span> listView<span class="token punctuation">.</span>width
			<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">30</span>
			Text <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">id</span><span class="token operator">:</span> txt
				anchors<span class="token punctuation">.</span>left<span class="token operator">:</span> parent<span class="token punctuation">.</span>left
				<span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"green"</span>
				<span class="token literal-property property">height</span><span class="token operator">:</span> parent<span class="token punctuation">.</span>height
				<span class="token literal-property property">verticalAlignment</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>AlignVCenter
			<span class="token punctuation">}</span>

			Button <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">id</span><span class="token operator">:</span> clearAll
				anchors<span class="token punctuation">.</span>right<span class="token operator">:</span> parent<span class="token punctuation">.</span>right
				anchors<span class="token punctuation">.</span>verticalCenter<span class="token operator">:</span> parent<span class="token punctuation">.</span>verticalCenter
				<span class="token literal-property property">height</span><span class="token operator">:</span> parent<span class="token punctuation">.</span>height
				<span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"clear"</span>
				<span class="token literal-property property">onClicked</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
					<span class="token function">clean</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			Button <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">id</span><span class="token operator">:</span> addOne
				anchors<span class="token punctuation">.</span>right<span class="token operator">:</span> clearAll<span class="token punctuation">.</span>left
				anchors<span class="token punctuation">.</span>rightMargin<span class="token operator">:</span> <span class="token number">5</span>
				anchors<span class="token punctuation">.</span>verticalCenter<span class="token operator">:</span> parent<span class="token punctuation">.</span>verticalCenter
				<span class="token literal-property property">height</span><span class="token operator">:</span> parent<span class="token punctuation">.</span>height
				<span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"Add"</span>
				<span class="token literal-property property">onClicked</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
					<span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			Button <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">id</span><span class="token operator">:</span> insertOne
				anchors<span class="token punctuation">.</span>right<span class="token operator">:</span> addOne<span class="token punctuation">.</span>left
				anchors<span class="token punctuation">.</span>rightMargin<span class="token operator">:</span> <span class="token number">5</span>
				anchors<span class="token punctuation">.</span>verticalCenter<span class="token operator">:</span> parent<span class="token punctuation">.</span>verticalCenter
				<span class="token literal-property property">height</span><span class="token operator">:</span> parent<span class="token punctuation">.</span>height
				<span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"Insert"</span>
				<span class="token literal-property property">onClicked</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
					<span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			Button <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">id</span><span class="token operator">:</span> moveDown
				anchors<span class="token punctuation">.</span>right<span class="token operator">:</span> insertOne<span class="token punctuation">.</span>left
				anchors<span class="token punctuation">.</span>rightMargin<span class="token operator">:</span> <span class="token number">5</span>
				anchors<span class="token punctuation">.</span>verticalCenter<span class="token operator">:</span> parent<span class="token punctuation">.</span>verticalCenter
				<span class="token literal-property property">height</span><span class="token operator">:</span> parent<span class="token punctuation">.</span>height
				<span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"MoveDown"</span>
				<span class="token literal-property property">onClicked</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
					<span class="token function">move</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	Component <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">id</span><span class="token operator">:</span> phoneDelegate
		Item <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">id</span><span class="token operator">:</span> wrapper
			<span class="token literal-property property">width</span><span class="token operator">:</span> listView<span class="token punctuation">.</span>width
			<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">30</span>
			MouseArea <span class="token punctuation">{<!-- --></span>
				anchors<span class="token punctuation">.</span>fill<span class="token operator">:</span> parent
				<span class="token literal-property property">onClicked</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>view<span class="token punctuation">.</span>currentIndex <span class="token operator">=</span> index
				<span class="token literal-property property">onDoubleClicked</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>view<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
			<span class="token punctuation">}</span>

			RowLayout <span class="token punctuation">{<!-- --></span>
				anchors<span class="token punctuation">.</span>verticalCenter<span class="token operator">:</span> parent<span class="token punctuation">.</span>verticalCenter
				<span class="token literal-property property">width</span><span class="token operator">:</span> parent<span class="token punctuation">.</span>width
				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">id</span><span class="token operator">:</span> col1
					<span class="token literal-property property">text</span><span class="token operator">:</span> name
					<span class="token literal-property property">color</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token string">"red"</span> <span class="token operator">:</span> <span class="token string">"black"</span>
					font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token number">22</span> <span class="token operator">:</span> <span class="token number">18</span>
					Layout<span class="token punctuation">.</span>preferredWidth<span class="token operator">:</span> <span class="token number">120</span>
				<span class="token punctuation">}</span>
				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">text</span><span class="token operator">:</span> cost
					<span class="token literal-property property">color</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token string">"red"</span> <span class="token operator">:</span> <span class="token string">"black"</span>
					font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token number">22</span> <span class="token operator">:</span> <span class="token number">18</span>
					Layout<span class="token punctuation">.</span>preferredWidth<span class="token operator">:</span> <span class="token number">80</span>
				<span class="token punctuation">}</span>
				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">text</span><span class="token operator">:</span> manufacturer
					<span class="token literal-property property">color</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token string">"red"</span> <span class="token operator">:</span> <span class="token string">"black"</span>
					font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token number">22</span> <span class="token operator">:</span> <span class="token number">18</span>
					Layout<span class="token punctuation">.</span>fillWidth<span class="token operator">:</span> <span class="token boolean">true</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	ListView <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">id</span><span class="token operator">:</span> listView
		anchors<span class="token punctuation">.</span>fill<span class="token operator">:</span> parent
		<span class="token literal-property property">delegate</span><span class="token operator">:</span> phoneDelegate
		<span class="token literal-property property">header</span><span class="token operator">:</span> headview
		<span class="token literal-property property">footer</span><span class="token operator">:</span> footerView
		<span class="token literal-property property">model</span><span class="token operator">:</span> phoneModel<span class="token punctuation">.</span><span class="token function">createObject</span><span class="token punctuation">(</span>listView<span class="token punctuation">)</span>
		<span class="token literal-property property">focus</span><span class="token operator">:</span> <span class="token boolean">true</span>
		<span class="token literal-property property">highlight</span><span class="token operator">:</span> Rectangle <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"lightblue"</span>
		<span class="token punctuation">}</span>

		<span class="token literal-property property">add</span><span class="token operator">:</span> Transition <span class="token punctuation">{<!-- --></span>
			ParallelAnimation <span class="token punctuation">{<!-- --></span>
				NumberAnimation <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">property</span><span class="token operator">:</span> <span class="token string">"opacity"</span>
					<span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token number">0</span>
					<span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token number">1.0</span>
					<span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">1000</span>
				<span class="token punctuation">}</span>
				NumberAnimation <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">property</span><span class="token operator">:</span> <span class="token string">"y"</span>
					<span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token number">0</span>
					<span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">1000</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token literal-property property">displaced</span><span class="token operator">:</span> Transition <span class="token punctuation">{<!-- --></span>
			SpringAnimation <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token string">"y"</span>
				<span class="token literal-property property">spring</span><span class="token operator">:</span> <span class="token number">3</span>
				<span class="token literal-property property">damping</span><span class="token operator">:</span> <span class="token number">0.1</span>
				<span class="token literal-property property">epsilon</span><span class="token operator">:</span> <span class="token number">0.25</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token literal-property property">remove</span><span class="token operator">:</span> Transition <span class="token punctuation">{<!-- --></span>
			SequentialAnimation <span class="token punctuation">{<!-- --></span>
				NumberAnimation <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token string">"y"</span>
					<span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token number">0</span>
					<span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">600</span>
				<span class="token punctuation">}</span>

				NumberAnimation <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token string">"opacity"</span>
					<span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token number">0</span>
					<span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">400</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token literal-property property">move</span><span class="token operator">:</span> Transition <span class="token punctuation">{<!-- --></span>
			NumberAnimation <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token string">"y"</span>
				<span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">300</span>
				easing<span class="token punctuation">.</span>type<span class="token operator">:</span> Easing<span class="token punctuation">.</span>InQuart
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token literal-property property">populate</span><span class="token operator">:</span> Transition <span class="token punctuation">{<!-- --></span>
			NumberAnimation <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">property</span><span class="token operator">:</span> <span class="token string">"opacity"</span>
				<span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token number">0</span>
				<span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token number">1.0</span>
				<span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">3000</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		Component<span class="token punctuation">.</span>onCompleted<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
			footerItem<span class="token punctuation">.</span>clean<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>model<span class="token punctuation">.</span>clear<span class="token punctuation">)</span>
			footerItem<span class="token punctuation">.</span>add<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>addOne<span class="token punctuation">)</span>
			footerItem<span class="token punctuation">.</span>insert<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>insertOne<span class="token punctuation">)</span>
			footerItem<span class="token punctuation">.</span>move<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>moveDown<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>

		<span class="token literal-property property">onCurrentIndexChanged</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"index:"</span><span class="token punctuation">,</span> currentIndex<span class="token punctuation">)</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>currentIndex <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">var</span> data <span class="token operator">=</span> listView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>currentIndex<span class="token punctuation">)</span>
				footerItem<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"%1 -&gt; %2 -&gt; %3"</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>
							data<span class="token punctuation">.</span>cost<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arg</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>manufacturer<span class="token punctuation">)</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
				footerItem<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">""</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">function</span> <span class="token function">addOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"add"</span><span class="token punctuation">)</span>
			model<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
							 <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"max3"</span><span class="token punctuation">,</span>
							 <span class="token string-property property">"cost"</span><span class="token operator">:</span> <span class="token string">"1799"</span><span class="token punctuation">,</span>
							 <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"samsung"</span>
						 <span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">function</span> <span class="token function">insertOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"insert"</span><span class="token punctuation">)</span>
			model<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> model<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
							 <span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"HTC One E8"</span><span class="token punctuation">,</span>
							 <span class="token string-property property">"cost"</span><span class="token operator">:</span> <span class="token string">"2499"</span><span class="token punctuation">,</span>
							 <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"htc"</span>
						 <span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">function</span> <span class="token function">moveDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"moveDown:"</span><span class="token punctuation">,</span> currentIndex<span class="token punctuation">)</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>currentIndex <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> model<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				model<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>currentIndex<span class="token punctuation">,</span> currentIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<ol><li>ListModel专门用于定义列表数据，内部维护一个<code>ListElement</code>的列表，一个<code>ListElement</code>对象代表一个数据。</li><li>多个<code>role</code>构成一个<code>ListElement</code>，<code>role</code>包含一个名字和一个值，名字必须以小写字母开头，值必须是简单的常量（字符串、布尔值、数字、枚举值）</li><li>在<code>ListElement</code>中定义的<code>role</code>，可以在<code>Delegate</code>中通过名称访问</li><li><code>Delegate</code>使用<code>Row</code>管理<code>Text</code>对象来展现role，<code>Text</code>对象的<code>text</code>属性对应于<code>role</code>的名称</li><li>ListView的<code>delegate</code>属性类型是<code>Component</code>，Component的顶层元素是Row，Row内嵌三个Text对象来展示Model定义的ListElement的三个role</li><li>ListView给delegate暴露一个<code>index</code>属性，代表当前delegate示例对应的Item的索引位置，必要时可通过它来访问数据</li><li>ListView定义<code>delayRemove</code>、<code>isCurrentItem</code>、<code>nextSection</code>、<code>previousSection</code>、<code>section</code>、<code>view</code>等附加属性，以及<code>add</code>、<code>remove</code>两个附加信号，可以在delegate中直接访问（只有delegate的顶层Item才能直接使用这些附加属性和信号，非顶层Item则需通过顶层Item的id来访问这些附加属性）</li><li>ListView的<code>highlight</code>属性可以指定一个Component对象，它的Z序小于delegate实例化出来的Item对象。<code>highlightFollowsCurrentItem</code>属性指定高亮背景是否跟随当前条目，当前条目变动时，高亮背景经过一个平滑的动画效果进行过渡</li></ol> 
<h5><a id="1111_ListModel_324"></a>11.1.1 ListModel访问数据</h5> 
<p><code>count</code>属性代表Model中有多少条数据<br> <code>dynamicRoles</code>属性为true时，则Model中的roles对应值的类型可以动态改变，但是性能将会严重下降，默认false。要使用它必须在添加数据之前<br> <code>get(int)</code>方法用于获取指定索引位置的数据，返回一个QML对象</p> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> data <span class="token operator">=</span> listView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>listView<span class="token punctuation">.</span>currentIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
listView<span class="token punctuation">.</span>footerItem<span class="token punctuation">.</span>text <span class="token operator">=</span> data<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span> data<span class="token punctuation">.</span>cost <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span> data<span class="token punctuation">.</span>manufacturer<span class="token punctuation">;</span>
</code></pre> 
<h5><a id="1112_ListModel_332"></a>11.1.2 ListModel删除数据</h5> 
<p><code>remove(int index, int count)</code>方法用于删除数据</p> 
<ul><li>index指明删除数据的索引位置</li><li>count指示要删除的数据条数，默认为1</li></ul> 
<h5><a id="1113_ListModel_337"></a>11.1.3 ListModel修改数据</h5> 
<p><code>setProperty(int index, string property, variant value)</code>方法用于修改数据</p> 
<pre><code class="prism language-javascript">listView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">"cost"</span><span class="token punctuation">,</span> <span class="token number">16999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>index指明修改数据的索引位置</li><li>property数据内role的名字</li><li>value要修改成的值</li></ul> 
<p><code>set(int index, jsobject dict)</code>方法用于替换数据</p> 
<pre><code class="prism language-javascript">listView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Z5S mini"</span><span class="token punctuation">,</span> <span class="token string-property property">"cost"</span><span class="token operator">:</span> <span class="token number">1999</span><span class="token punctuation">,</span> <span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"ZhongXing"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li>index指明要替换数据的索引位置</li><li>dict要替换成的数据</li></ul> 
<h5><a id="1114_ListModel_353"></a>11.1.4 ListModel添加数据</h5> 
<p><code>append(jsobject dict)</code>用于在末尾添加一条数据<br> <code>insert(int index, jsobject value)</code>用于在指定位置添加一条数据</p> 
<pre><code class="prism language-javascript">listView<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token string-property property">"name"</span> <span class="token operator">:</span> <span class="token string">"MX3"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"cost"</span> <span class="token operator">:</span> <span class="token string">"1799"</span><span class="token punctuation">,</span>
		<span class="token string-property property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"MeiZu"</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre> 
<h5><a id="1115_ListModel_366"></a>11.1.5 ListModel移动数据</h5> 
<p><code>move(int indexSrc, int indexDst, int count)</code>用于将一条数据移动到指定的位置</p> 
<ul><li>indexSrc要移动的数据索引</li><li>indexDst移动到的目标位置索引</li><li>count移动的条数</li></ul> 
<h5><a id="1116_section_373"></a>11.1.6 section列表分组</h5> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> QtQuick <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Window <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Controls <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Layouts <span class="token number">1.15</span>

Window <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">560</span>
	<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">300</span>
	<span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#EEEEEE"</span>
	<span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span>

	Component <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">id</span><span class="token operator">:</span> phoneModel
		ListModel <span class="token punctuation">{<!-- --></span>
			<span class="token comment">// Apple section</span>
			ListElement <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"iPhone 5"</span>
				<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"4900"</span>
				<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"Apple"</span>
			<span class="token punctuation">}</span>
			ListElement <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"iPhone 3GS"</span>
				<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"1000"</span>
				<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"Apple"</span>
			<span class="token punctuation">}</span>
			ListElement <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"iPhone 4"</span>
				<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"1800"</span>
				<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"Apple"</span>
			<span class="token punctuation">}</span>
			ListElement <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"iPhone 4S"</span>
				<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"2300"</span>
				<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"Apple"</span>
			<span class="token punctuation">}</span>
			<span class="token comment">//HuaWei section</span>
			ListElement <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"B199"</span>
				<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"1590"</span>
				<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"HuaWei"</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Sumsung section</span>
			ListElement <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"GALAXY S4"</span>
				<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"3099"</span>
				<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"Samsung"</span>
			<span class="token punctuation">}</span>
			ListElement <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"C8816D"</span>
				<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"590"</span>
				<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"HuaWei"</span>
			<span class="token punctuation">}</span>
			ListElement <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"GALAXY S5"</span>
				<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"4699"</span>
				<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"Samsung"</span>
			<span class="token punctuation">}</span>
			<span class="token comment">// XiaoMi section</span>
			ListElement <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"MI 2S"</span>
				<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"1999"</span>
				<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"XiaoMi"</span>
			<span class="token punctuation">}</span>
			ListElement <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"MI 3"</span>
				<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"1999"</span>
				<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"XiaoMi"</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	Component <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">id</span><span class="token operator">:</span> phoneDelegate
		Item <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">id</span><span class="token operator">:</span> wrapper
			<span class="token literal-property property">width</span><span class="token operator">:</span> parent<span class="token punctuation">.</span>width
			<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">30</span>
			ListView<span class="token punctuation">.</span>onAdd<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
				console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"count:"</span><span class="token punctuation">,</span> ListView<span class="token punctuation">.</span>view<span class="token punctuation">.</span>count<span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
			MouseArea <span class="token punctuation">{<!-- --></span>
				anchors<span class="token punctuation">.</span>fill<span class="token operator">:</span> parent
				<span class="token literal-property property">onClicked</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>view<span class="token punctuation">.</span>currentIndex <span class="token operator">=</span> index
			<span class="token punctuation">}</span>
			RowLayout <span class="token punctuation">{<!-- --></span>
				anchors<span class="token punctuation">.</span>left<span class="token operator">:</span> parent<span class="token punctuation">.</span>left
				anchors<span class="token punctuation">.</span>verticalCenter<span class="token operator">:</span> parent<span class="token punctuation">.</span>verticalCenter
				<span class="token literal-property property">spacing</span><span class="token operator">:</span> <span class="token number">8</span>
				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">id</span><span class="token operator">:</span> col1
					<span class="token literal-property property">text</span><span class="token operator">:</span> name
					<span class="token literal-property property">color</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token string">"red"</span> <span class="token operator">:</span> <span class="token string">"black"</span>
					font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token number">22</span> <span class="token operator">:</span> <span class="token number">18</span>
					Layout<span class="token punctuation">.</span>preferredWidth<span class="token operator">:</span> <span class="token number">120</span>
				<span class="token punctuation">}</span>
				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">text</span><span class="token operator">:</span> cost
					<span class="token literal-property property">color</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token string">"green"</span> <span class="token operator">:</span> <span class="token string">"black"</span>
					font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token number">22</span> <span class="token operator">:</span> <span class="token number">18</span>
					Layout<span class="token punctuation">.</span>preferredWidth<span class="token operator">:</span> <span class="token number">80</span>
				<span class="token punctuation">}</span>
				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">text</span><span class="token operator">:</span> manufacturer
					<span class="token literal-property property">color</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token string">"red"</span> <span class="token operator">:</span> <span class="token string">"black"</span>
					font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token number">22</span> <span class="token operator">:</span> <span class="token number">18</span>
					Layout<span class="token punctuation">.</span>fillWidth<span class="token operator">:</span> <span class="token boolean">true</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	Component <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">id</span><span class="token operator">:</span> sectionHeader
		Rectangle <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">width</span><span class="token operator">:</span> parent<span class="token punctuation">.</span>width
			<span class="token literal-property property">height</span><span class="token operator">:</span> childrenRect<span class="token punctuation">.</span>height
			<span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"lightsteelblue"</span>
			Text <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">text</span><span class="token operator">:</span> section
				font<span class="token punctuation">.</span>bold<span class="token operator">:</span> <span class="token boolean">true</span>
				font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> <span class="token number">20</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	ListView <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">id</span><span class="token operator">:</span> listView
		anchors<span class="token punctuation">.</span>fill<span class="token operator">:</span> parent
		<span class="token literal-property property">delegate</span><span class="token operator">:</span> phoneDelegate
		<span class="token literal-property property">model</span><span class="token operator">:</span> phoneModel<span class="token punctuation">.</span><span class="token function">createObject</span><span class="token punctuation">(</span>listView<span class="token punctuation">)</span>
		<span class="token literal-property property">focus</span><span class="token operator">:</span> <span class="token boolean">true</span>
		<span class="token literal-property property">highlight</span><span class="token operator">:</span> Rectangle <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"lightblue"</span>
		<span class="token punctuation">}</span>
		section<span class="token punctuation">.</span>property<span class="token operator">:</span> <span class="token string">"manufacturer"</span>
		section<span class="token punctuation">.</span>criteria<span class="token operator">:</span> ViewSection<span class="token punctuation">.</span>FullString
		section<span class="token punctuation">.</span>delegate<span class="token operator">:</span> sectionHeader
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><code>section.property</code>：分组的依据，对应于数据的role-name<br> <code>section.criteria</code>：指定<code>section.property</code>的判断条件</p> 
<ul><li>ViewSection.FullString(默认，全串匹配，不区分大小写)</li><li>ViewSection.Firstcharacter（首字母匹配，不区分大小写）</li></ul> 
<p><code>section.delegate</code>：设定一个Component决定如何显示每个section<br> <code>section.labelPositioning</code>：决定当前或下一个section标签的显示策略</p> 
<ul><li>ViewSection.InlineLabels，这是默认方式。分组标签嵌入到Item之间显示。</li><li>ViewSection.CurrentLabelAtStart，当view移动时，当前分组的标签附着在view的开始。</li><li>ViewSection.NextLabelAtEnd，当view移动时，下一个分组标签附着在view的尾端。</li></ul> 
<h4><a id="112_XmlListModel_525"></a>11.2 XmlListModel</h4> 
<p>XmlListModel用于从XML数据中直接创建一个只读的model，可以用作其他view元素的数据源<br> XmlListModel使用XPath表达式来提取XML文档中的数据</p> 
<p><strong>&lt;videos.xml&gt;</strong></p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>videos</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>冰雪奇缘<span class="token punctuation">'</span></span> <span class="token attr-name">date</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>2013-11-19<span class="token punctuation">'</span></span> <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>导演<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>詹妮弗·李<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>演员<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>伊迪娜·门泽尔/克里斯汀·贝尔<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>评分<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>9.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>简介<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>在四面环海、风景如画的阿伦达王国，生活着两位可爱美丽的小公主，艾莎和安娜。艾莎天生具有制造冰雪的能...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>poster</span> <span class="token attr-name">img</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>http://g3.ykimg.com/0516000052D779CD67583960490A8E1A<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>page</span> <span class="token attr-name">link</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>http://v.youku.com/v_show/id_XNjk1ODc2NDMy.html<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>playtimes</span><span class="token punctuation">&gt;</span></span>12184709<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>playtimes</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>功夫<span class="token punctuation">'</span></span> <span class="token attr-name">date</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>2004-12-23<span class="token punctuation">'</span></span> <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>导演<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>周星驰<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>演员<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>周星驰/元秋/元华/林子聪/梁小龙/陈国坤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>评分<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>7.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>简介<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>1940年代的上海，自小受尽欺辱的街头混混阿星（周星驰 饰）为了能出人头地，可谓窥见机会的缝隙就往...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>poster</span> <span class="token attr-name">img</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>http://g1.ykimg.com/0516000051BAD11A67583912FF0277C1<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>page</span> <span class="token attr-name">link</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>http://v.qq.com/cover/u/uiq0rxuywu508qr.html<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>playtimes</span><span class="token punctuation">&gt;</span></span>4012749<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>playtimes</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>西游·降魔篇<span class="token punctuation">'</span></span> <span class="token attr-name">date</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>2013-02-10<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>导演<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>周星驰<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>演员<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>舒淇/文章/黄渤/李尚正/陈炳强/周秀娜<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>评分<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>8.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>简介<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>大唐年间妖魔横行，一小渔村因为饱受鱼妖之害请来道士（冯勉恒 饰）除妖，年轻驱魔人陈玄奘（文章 饰）...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>poster</span> <span class="token attr-name">img</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>http://g2.ykimg.com/0516000051B436EB67583928E30DCCDD<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>page</span> <span class="token attr-name">link</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>http://v.youku.com/v_show/id_XNTI2Mzg4NjAw.html<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>playtimes</span><span class="token punctuation">&gt;</span></span>25421498<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>playtimes</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>小时代<span class="token punctuation">'</span></span> <span class="token attr-name">date</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>2013-06-27<span class="token punctuation">'</span></span> <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>导演<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>郭敬明<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>演员<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>杨幂/郭采洁/郭碧婷/谢依霖/柯震东/凤小岳<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>评分<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>8.9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>简介<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>这是一个梦想闪耀的时代，一个理想冷却的时代；这是最坏的时代，这也是最好的时代，这是我们的小时代。在...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>poster</span> <span class="token attr-name">img</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>http://g1.ykimg.com/0516000051F22C1C67583931E8015597<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>page</span> <span class="token attr-name">link</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>http://v.youku.com/v_show/id_XNTg3NjkzMzIw.html<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>playtimes</span><span class="token punctuation">&gt;</span></span>99075808<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>playtimes</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>倩女幽魂<span class="token punctuation">'</span></span> <span class="token attr-name">date</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>1987-07-18<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>导演<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>程小东<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>演员<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>张国荣/王祖贤/午马<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>评分<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>8.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>简介<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>书生宁采臣（张国荣 饰）收账不成，无处可归，遂夜宿鬼寺兰若寺，遇上侠士燕赤霞（午马 饰），二人成为...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>poster</span> <span class="token attr-name">img</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>http://g2.ykimg.com/051600004FC32F0797927377D9052FBF<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>page</span> <span class="token attr-name">link</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>http://v.youku.com/v_show/id_XMjE0ODk3MjUy.html<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>playtimes</span><span class="token punctuation">&gt;</span></span>1579516<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>playtimes</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>video</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>那些年,我们一起追的女孩<span class="token punctuation">'</span></span> <span class="token attr-name">date</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>2011-08-19<span class="token punctuation">'</span></span> <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>导演<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>九把刀<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>演员<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>柯震东/陈妍希/郝邵文<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>评分<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>8.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attr</span> <span class="token attr-name">tag</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>简介<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>青春是一场大雨。即使感冒了，还盼望回头再淋它一次。人生就是不停的战斗，在还没有获得女神青睐时，左手...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>poster</span> <span class="token attr-name">img</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>http://g3.ykimg.com/05160000531420D26758391C5C08485A<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>page</span> <span class="token attr-name">link</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>http://v.qq.com/cover/t/tu0bpgju3a1xno6.html<span class="token punctuation">'</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>playtimes</span><span class="token punctuation">&gt;</span></span>3807121<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>playtimes</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>video</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>videos</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><strong>&lt;main.qml&gt;</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> QtQuick <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Window <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Controls <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Layouts <span class="token number">1.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>XmlListModel <span class="token number">2.15</span>

Window <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">560</span>
	<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">300</span>
	<span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#EEEEEE"</span>
	<span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span>

	Component <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">id</span><span class="token operator">:</span> videoModel
		XmlListModel <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token string">"videos.xml"</span>
			<span class="token literal-property property">id</span><span class="token operator">:</span> xmlModel
			<span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token string">"/videos/video"</span>
			XmlRole <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"name"</span>
				<span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token string">"@name/string()"</span>
			<span class="token punctuation">}</span>
			XmlRole <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"date"</span>
				<span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token string">"@date/string()"</span>
			<span class="token punctuation">}</span>
			XmlRole <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"img"</span>
				<span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token string">"poster/@img/string()"</span>
			<span class="token punctuation">}</span>
			XmlRole <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"director_tag"</span>
				<span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token string">"attr[1]/@tag/string()"</span>
			<span class="token punctuation">}</span>
			XmlRole <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"director "</span>
				<span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token string">"attr[1]/string()"</span>
			<span class="token punctuation">}</span>
			XmlRole <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"actor_tag"</span>
				<span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token string">"attr[2]/@tag/string()"</span>
			<span class="token punctuation">}</span>
			XmlRole <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"actor"</span>
				<span class="token literal-property property">query</span><span class="token operator">:</span> "attr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">/</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
"
			<span class="token punctuation">}</span>
			XmlRole <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"rating"</span>
				<span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token string">"attr[3]/number()"</span>
			<span class="token punctuation">}</span>
			XmlRole <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"desc"</span>
				<span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token string">"attr[4]/string()"</span>
			<span class="token punctuation">}</span>
			XmlRole <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"playtimes"</span>
				<span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token string">"playtimes/number()"</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	Component <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">id</span><span class="token operator">:</span> videoDelegate
		Item <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">id</span><span class="token operator">:</span> wrapper
			<span class="token literal-property property">width</span><span class="token operator">:</span> listView<span class="token punctuation">.</span>width
			<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">120</span>
			MouseArea <span class="token punctuation">{<!-- --></span>
				anchors<span class="token punctuation">.</span>fill<span class="token operator">:</span> parent
				<span class="token literal-property property">onClicked</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>view<span class="token punctuation">.</span>currentIndex <span class="token operator">=</span> index
			<span class="token punctuation">}</span>
			Image <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">id</span><span class="token operator">:</span> poster
				anchors<span class="token punctuation">.</span>left<span class="token operator">:</span> parent<span class="token punctuation">.</span>left
				anchors<span class="token punctuation">.</span>top<span class="token operator">:</span> parent<span class="token punctuation">.</span>top
				<span class="token literal-property property">source</span><span class="token operator">:</span> img
				<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">80</span>
				<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">120</span>
				<span class="token literal-property property">fillMode</span><span class="token operator">:</span> Image<span class="token punctuation">.</span>PreserveAspectFit
			<span class="token punctuation">}</span>
			ColumnLayout <span class="token punctuation">{<!-- --></span>
				anchors<span class="token punctuation">.</span>left<span class="token operator">:</span> poster<span class="token punctuation">.</span>right
				anchors<span class="token punctuation">.</span>leftMargin<span class="token operator">:</span> <span class="token number">4</span>
				anchors<span class="token punctuation">.</span>right<span class="token operator">:</span> wrapper<span class="token punctuation">.</span>right
				anchors<span class="token punctuation">.</span>top<span class="token operator">:</span> poster<span class="token punctuation">.</span>top
				<span class="token literal-property property">height</span><span class="token operator">:</span> parent<span class="token punctuation">.</span>height
				<span class="token literal-property property">spacing</span><span class="token operator">:</span> <span class="token number">2</span>
				Text <span class="token punctuation">{<!-- --></span>
					Layout<span class="token punctuation">.</span>fillWidth<span class="token operator">:</span> <span class="token boolean">true</span>
					<span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"&lt;b&gt;"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"&lt;/b&gt;("</span> <span class="token operator">+</span> rating <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> playtimes <span class="token operator">+</span> <span class="token string">")"</span>
					<span class="token literal-property property">color</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token string">"blue"</span> <span class="token operator">:</span> <span class="token string">"black"</span>
					font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> <span class="token number">18</span>
					<span class="token literal-property property">elide</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>ElideRight
				<span class="token punctuation">}</span>
				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">text</span><span class="token operator">:</span> date
					Layout<span class="token punctuation">.</span>fillWidth<span class="token operator">:</span> <span class="token boolean">true</span>
					<span class="token literal-property property">color</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token string">"blue"</span> <span class="token operator">:</span> <span class="token string">"black"</span>
					font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> <span class="token number">18</span>
					<span class="token literal-property property">elide</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>ElideRight
				<span class="token punctuation">}</span>
				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">text</span><span class="token operator">:</span> director_tag <span class="token operator">+</span> <span class="token string">": &lt;font color=\"#0000aa\"&gt;"</span> <span class="token operator">+</span> director <span class="token operator">+</span> <span class="token string">"&lt;/font&gt;"</span>
					Layout<span class="token punctuation">.</span>fillWidth<span class="token operator">:</span> <span class="token boolean">true</span>
					<span class="token literal-property property">color</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token string">"blue"</span> <span class="token operator">:</span> <span class="token string">"black"</span>
					font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> <span class="token number">18</span>
					<span class="token literal-property property">elide</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>ElideRight
				<span class="token punctuation">}</span>
				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">text</span><span class="token operator">:</span> actor_tag <span class="token operator">+</span> <span class="token string">" : &lt;font color=\"#0000aa\"&gt; "</span> <span class="token operator">+</span> actor <span class="token operator">+</span> <span class="token string">"&lt;/font&gt;"</span>
					Layout<span class="token punctuation">.</span>fillWidth<span class="token operator">:</span> <span class="token boolean">true</span>
					<span class="token literal-property property">color</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token string">"blue"</span> <span class="token operator">:</span> <span class="token string">"black"</span>
					font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> <span class="token number">18</span>
					<span class="token literal-property property">elide</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>ElideRight
				<span class="token punctuation">}</span>
				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">text</span><span class="token operator">:</span> desc
					Layout<span class="token punctuation">.</span>fillHeight<span class="token operator">:</span> <span class="token boolean">true</span>
					Layout<span class="token punctuation">.</span>fillWidth<span class="token operator">:</span> <span class="token boolean">true</span>
					<span class="token literal-property property">color</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token string">"blue"</span> <span class="token operator">:</span> <span class="token string">"black"</span>
					font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> <span class="token number">16</span>
					<span class="token literal-property property">wrapMode</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>Wrap
					<span class="token literal-property property">maximumLineCount</span><span class="token operator">:</span> <span class="token number">2</span>
					<span class="token literal-property property">elide</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>ElideRight
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	ListView <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">id</span><span class="token operator">:</span> listView
		anchors<span class="token punctuation">.</span>fill<span class="token operator">:</span> parent
		<span class="token literal-property property">spacing</span><span class="token operator">:</span> <span class="token number">4</span>
		<span class="token literal-property property">delegate</span><span class="token operator">:</span> videoDelegate
		<span class="token literal-property property">model</span><span class="token operator">:</span> videoModel<span class="token punctuation">.</span><span class="token function">createObject</span><span class="token punctuation">(</span>listView<span class="token punctuation">)</span>
		<span class="token literal-property property">focus</span><span class="token operator">:</span> <span class="token boolean">true</span>
		<span class="token literal-property property">highlight</span><span class="token operator">:</span> Rectangle <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">width</span><span class="token operator">:</span> parent<span class="token punctuation">.</span>width
			<span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"lightblue"</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><code>source</code>：指定XmlListModel使用的XML文档的位置<br> <code>xml</code>：指定作为model数据源头的XML字符串，utf-8编码，优先生效<br> <code>query</code>：一个XPath表达式，以"/“或”//"开始，和XmlRole的query结合使用<br> <code>roles</code>：XmlRole对象的列表，XmlListModel通过它来从XML文档中提取数据<br> <code>count</code>：当前model内数据的个数<br> <code>namespaceDeclarations</code>：保存在XPath中使用的命名空间<br> <code>status</code>：model的当前状态</p> 
<ul><li>XmlListModel.Null</li><li>XmlListModel.Ready</li><li>XmlListModel.Loading</li><li>XmlListModel.Error</li></ul> 
<p><code>progress</code>：表示当前XML文档的下载进度，real类型，从0.0到1.0<br> <code>get()</code>：得到索引位置的数据对象，然后可以根据role-name访问数据<br> <code>reload()</code>：重新加载model，可以通过指定关键角色来只更新和关键角色匹配的数据</p> 
<h4><a id="113_C_Model_751"></a>11.3 使用C++ Model</h4> 
<p>ListView可以使用C++中定义的Model，XmlListModel就是C++实现（QQuickXmlListModel）<br> C++实现Model必须从<code>QAbstractItemModel</code>或<code>QAbstractListModel</code>继承实现<br> <strong>&lt;videoListModel.h&gt;</strong></p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">VIDEOLISTMODEL_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">VIDEOLISTMODEL_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QAbstractListModel&gt;</span></span>
<span class="token keyword">class</span> <span class="token class-name">VideoListModelPrivate</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">VideoListModel</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QAbstractListModel</span></span> <span class="token punctuation">{<!-- --></span>
  Q_OBJECT
  <span class="token function">Q_PROPERTY</span><span class="token punctuation">(</span>QString source READ source WRITE setSource<span class="token punctuation">)</span>
<span class="token keyword">public</span><span class="token operator">:</span>
  <span class="token function">VideoListModel</span><span class="token punctuation">(</span>QObject <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token operator">~</span><span class="token function">VideoListModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">int</span> <span class="token function">rowCount</span><span class="token punctuation">(</span><span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>parent<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
  QVariant <span class="token function">data</span><span class="token punctuation">(</span><span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>index<span class="token punctuation">,</span> <span class="token keyword">int</span> role<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
  QHash<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> QByteArray<span class="token operator">&gt;</span> <span class="token function">roleNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
  QString <span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
  <span class="token keyword">void</span> <span class="token function">setSource</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString <span class="token operator">&amp;</span>filePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
  Q_INVOKABLE QString <span class="token function">errorString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
  Q_INVOKABLE <span class="token keyword">bool</span> <span class="token function">hasError</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
  Q_INVOKABLE <span class="token keyword">void</span> <span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  Q_INVOKABLE <span class="token keyword">void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
  VideoListModelPrivate <span class="token operator">*</span>m_dptr<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>
</code></pre> 
<p><strong>&lt;videoListModel.cpp&gt;</strong></p> 
<pre><code class="prism language-javascript">#include <span class="token string">"videoListModel.h"</span>
#include <span class="token operator">&lt;</span>QDebug<span class="token operator">&gt;</span>
#include <span class="token operator">&lt;</span>QFile<span class="token operator">&gt;</span>
#include <span class="token operator">&lt;</span>QVector<span class="token operator">&gt;</span>
#include <span class="token operator">&lt;</span>QXmlStreamReader<span class="token operator">&gt;</span>
typedef QVector<span class="token operator">&lt;</span>QString<span class="token operator">&gt;</span> VideoData<span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">VideoListModelPrivate</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
  <span class="token function">VideoListModelPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">m_bError</span><span class="token punctuation">(</span><span class="token parameter"><span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	int role <span class="token operator">=</span> Qt<span class="token operator">:</span><span class="token operator">:</span>UserRole<span class="token punctuation">;</span>
	m_roleNames<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>role<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	m_roleNames<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>role<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token string">"date"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	m_roleNames<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>role<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token string">"director_tag"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	m_roleNames<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>role<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token string">"director"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	m_roleNames<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>role<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token string">"actor_tag"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	m_roleNames<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>role<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token string">"actor"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	m_roleNames<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>role<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token string">"rating_tag"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	m_roleNames<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>role<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token string">"rating"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	m_roleNames<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>role<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token string">"desc_tag"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	m_roleNames<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>role<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token string">"desc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	m_roleNames<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>role<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	m_roleNames<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>role<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token string">"playpage"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	m_roleNames<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>role<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token string">"playtimes"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token operator">~</span><span class="token function">VideoListModelPrivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	QXmlStreamReader reader<span class="token punctuation">;</span>
	QFile <span class="token function">file</span><span class="token punctuation">(</span>m_strXmlFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	  m_bError <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	  m_strError <span class="token operator">=</span> <span class="token string">"File Not Found!"</span><span class="token punctuation">;</span>
	  <span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>QFile<span class="token operator">:</span><span class="token operator">:</span>ReadOnly<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	  m_bError <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	  m_strError <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">errorString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	  <span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	reader<span class="token punctuation">.</span><span class="token function">setDevice</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
	QStringRef elementName<span class="token punctuation">;</span>
	VideoData <span class="token operator">*</span>video<span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>reader<span class="token punctuation">.</span><span class="token function">atEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	  reader<span class="token punctuation">.</span><span class="token function">readNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	  <span class="token keyword">if</span> <span class="token punctuation">(</span>reader<span class="token punctuation">.</span><span class="token function">isStartElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		elementName <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>elementName <span class="token operator">==</span> <span class="token string">"video"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		  video <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VideoData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		  QXmlStreamAttributes attrs <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">attributes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		  video<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">append</span><span class="token punctuation">(</span>attrs<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		  video<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">append</span><span class="token punctuation">(</span>attrs<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string">"date"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>elementName <span class="token operator">==</span> <span class="token string">"attr"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		  video<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">append</span><span class="token punctuation">(</span>reader<span class="token punctuation">.</span><span class="token function">attributes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string">"tag"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		  video<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">append</span><span class="token punctuation">(</span>reader<span class="token punctuation">.</span><span class="token function">readElementText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>elementName <span class="token operator">==</span> <span class="token string">"poster"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		  video<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">append</span><span class="token punctuation">(</span>reader<span class="token punctuation">.</span><span class="token function">attributes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>elementName <span class="token operator">==</span> <span class="token string">"page"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		  video<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">append</span><span class="token punctuation">(</span>reader<span class="token punctuation">.</span><span class="token function">attributes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string">"link"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>elementName <span class="token operator">==</span> <span class="token string">"playtimes"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		  video<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">append</span><span class="token punctuation">(</span>reader<span class="token punctuation">.</span><span class="token function">readElementText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>reader<span class="token punctuation">.</span><span class="token function">isEndElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		elementName <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>elementName <span class="token operator">==</span> <span class="token string">"video"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		  m_videos<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>video<span class="token punctuation">)</span><span class="token punctuation">;</span>
		  video <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	  <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	file<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>reader<span class="token punctuation">.</span><span class="token function">hasError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	  m_bError <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	  m_strError <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">errorString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	m_bError <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	m_strError<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	int count <span class="token operator">=</span> m_videos<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	  <span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">delete</span> m_videos<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
	  <span class="token punctuation">}</span>
	  m_videos<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  QString m_strXmlFile<span class="token punctuation">;</span>
  QString m_strError<span class="token punctuation">;</span>
  bool m_bError<span class="token punctuation">;</span>
  QHash<span class="token operator">&lt;</span>int<span class="token punctuation">,</span> QByteArray<span class="token operator">&gt;</span> m_roleNames<span class="token punctuation">;</span>
  QVector<span class="token operator">&lt;</span>VideoData <span class="token operator">*</span><span class="token operator">&gt;</span> m_videos<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token literal-property property">VideoListModel</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">VideoListModel</span><span class="token punctuation">(</span>QObject <span class="token operator">*</span>parent<span class="token punctuation">)</span>
	<span class="token operator">:</span> <span class="token function">QAbstractListModel</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">m_dptr</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">VideoListModelPrivate</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token literal-property property">VideoListModel</span><span class="token operator">:</span><span class="token operator">:</span><span class="token operator">~</span><span class="token function">VideoListModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">delete</span> m_dptr<span class="token punctuation">;</span> <span class="token punctuation">}</span>
int VideoListModel<span class="token operator">:</span><span class="token operator">:</span><span class="token function">rowCount</span><span class="token punctuation">(</span><span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>parent<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> m_dptr<span class="token operator">-</span><span class="token operator">&gt;</span>m_videos<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
QVariant VideoListModel<span class="token operator">:</span><span class="token operator">:</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token keyword">const</span> QModelIndex <span class="token operator">&amp;</span>index<span class="token punctuation">,</span> int role<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
  VideoData <span class="token operator">*</span>d <span class="token operator">=</span> m_dptr<span class="token operator">-</span><span class="token operator">&gt;</span>m_videos<span class="token punctuation">[</span>index<span class="token punctuation">.</span><span class="token function">row</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> d<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">at</span><span class="token punctuation">(</span>role <span class="token operator">-</span> Qt<span class="token operator">:</span><span class="token operator">:</span>UserRole<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
QHash<span class="token operator">&lt;</span>int<span class="token punctuation">,</span> QByteArray<span class="token operator">&gt;</span> VideoListModel<span class="token operator">:</span><span class="token operator">:</span><span class="token function">roleNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> m_dptr<span class="token operator">-</span><span class="token operator">&gt;</span>m_roleNames<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
QString VideoListModel<span class="token operator">:</span><span class="token operator">:</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> m_dptr<span class="token operator">-</span><span class="token operator">&gt;</span>m_strXmlFile<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token literal-property property">VideoListModel</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">setSource</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">const</span> QString <span class="token operator">&amp;</span>filePath</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  m_dptr<span class="token operator">-</span><span class="token operator">&gt;</span>m_strXmlFile <span class="token operator">=</span> filePath<span class="token punctuation">;</span>
  <span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>m_dptr<span class="token operator">-</span><span class="token operator">&gt;</span>m_bError<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function">qDebug</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" VideoListModel,error - "</span> <span class="token operator">&lt;&lt;</span> m_dptr<span class="token operator">-</span><span class="token operator">&gt;</span>m_strError<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
QString VideoListModel<span class="token operator">:</span><span class="token operator">:</span><span class="token function">errorString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> m_dptr<span class="token operator">-</span><span class="token operator">&gt;</span>m_strError<span class="token punctuation">;</span> <span class="token punctuation">}</span>
bool VideoListModel<span class="token operator">:</span><span class="token operator">:</span><span class="token function">hasError</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> m_dptr<span class="token operator">-</span><span class="token operator">&gt;</span>m_bError<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token literal-property property">VideoListModel</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">beginResetModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  m_dptr<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  m_dptr<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">endResetModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token literal-property property">VideoListModel</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token parameter">int index</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">beginRemoveRows</span><span class="token punctuation">(</span><span class="token function">QModelIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> index<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">delete</span> m_dptr<span class="token operator">-</span><span class="token operator">&gt;</span>m_videos<span class="token punctuation">.</span><span class="token function">takeAt</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">endRemoveRows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>&lt;main.cpp&gt;</strong></p> 
<pre><code class="prism language-javascript">#include <span class="token string">"videoListModel.h"</span>
#include <span class="token operator">&lt;</span>QApplication<span class="token operator">&gt;</span>
#include <span class="token operator">&lt;</span>QColor<span class="token operator">&gt;</span>
#include <span class="token operator">&lt;</span>QQmlApplicationEngine<span class="token operator">&gt;</span>
#include <span class="token operator">&lt;</span>QtQml<span class="token operator">&gt;</span>

int <span class="token function">main</span><span class="token punctuation">(</span><span class="token parameter">int argc<span class="token punctuation">,</span> char <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
#<span class="token keyword">if</span> <span class="token constant">QT_VERSION</span> <span class="token operator">&lt;</span> <span class="token constant">QT_VERSION_CHECK</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token literal-property property">QCoreApplication</span><span class="token operator">:</span><span class="token operator">:</span><span class="token function">setAttribute</span><span class="token punctuation">(</span>Qt<span class="token operator">:</span><span class="token operator">:</span>AA_EnableHighDpiScaling<span class="token punctuation">)</span><span class="token punctuation">;</span>
#endif
  QApplication <span class="token function">app</span><span class="token punctuation">(</span>argc<span class="token punctuation">,</span> argv<span class="token punctuation">)</span><span class="token punctuation">;</span>
  qmlRegisterType<span class="token operator">&lt;</span>VideoListModel<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">"an.qt.CModel"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"VideoListModel"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  QQmlApplicationEngine engine<span class="token punctuation">;</span>
  engine<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">"qrc:/main.qml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> app<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> QtQuick <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Window <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Controls <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Layouts <span class="token number">1.15</span>
<span class="token keyword">import</span> an<span class="token punctuation">.</span>qt<span class="token punctuation">.</span>CModel <span class="token number">1.0</span>

Window <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">560</span>
	<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">300</span>
	<span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#EEEEEE"</span>
	<span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span>

	Component <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">id</span><span class="token operator">:</span> videoDelegate
		Item <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">id</span><span class="token operator">:</span> wrapper
			<span class="token literal-property property">width</span><span class="token operator">:</span> listView<span class="token punctuation">.</span>width
			<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">120</span>
			MouseArea <span class="token punctuation">{<!-- --></span>
				anchors<span class="token punctuation">.</span>fill<span class="token operator">:</span> parent
				<span class="token literal-property property">onClicked</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>view<span class="token punctuation">.</span>currentIndex <span class="token operator">=</span> index
			<span class="token punctuation">}</span>
			Image <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">id</span><span class="token operator">:</span> poster
				anchors<span class="token punctuation">.</span>left<span class="token operator">:</span> parent<span class="token punctuation">.</span>left
				anchors<span class="token punctuation">.</span>top<span class="token operator">:</span> parent<span class="token punctuation">.</span>top
				<span class="token literal-property property">source</span><span class="token operator">:</span> img
				<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">80</span>
				<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">120</span>
				<span class="token literal-property property">fillMode</span><span class="token operator">:</span> Image<span class="token punctuation">.</span>PreserveAspectFit
			<span class="token punctuation">}</span>
			ColumnLayout <span class="token punctuation">{<!-- --></span>
				anchors<span class="token punctuation">.</span>left<span class="token operator">:</span> poster<span class="token punctuation">.</span>right
				anchors<span class="token punctuation">.</span>leftMargin<span class="token operator">:</span> <span class="token number">4</span>
				anchors<span class="token punctuation">.</span>right<span class="token operator">:</span> wrapper<span class="token punctuation">.</span>right
				anchors<span class="token punctuation">.</span>top<span class="token operator">:</span> poster<span class="token punctuation">.</span>top
				<span class="token literal-property property">height</span><span class="token operator">:</span> parent<span class="token punctuation">.</span>height
				<span class="token literal-property property">spacing</span><span class="token operator">:</span> <span class="token number">2</span>
				Text <span class="token punctuation">{<!-- --></span>
					Layout<span class="token punctuation">.</span>fillWidth<span class="token operator">:</span> <span class="token boolean">true</span>
					<span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">"&lt;b&gt;"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"&lt;/b&gt;("</span> <span class="token operator">+</span> rating <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> playtimes <span class="token operator">+</span> <span class="token string">")"</span>
					<span class="token literal-property property">color</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token string">"blue"</span> <span class="token operator">:</span> <span class="token string">"black"</span>
					font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> <span class="token number">18</span>
					<span class="token literal-property property">elide</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>ElideRight
				<span class="token punctuation">}</span>
				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">text</span><span class="token operator">:</span> date
					Layout<span class="token punctuation">.</span>fillWidth<span class="token operator">:</span> <span class="token boolean">true</span>
					<span class="token literal-property property">color</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token string">"blue"</span> <span class="token operator">:</span> <span class="token string">"black"</span>
					font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> <span class="token number">18</span>
					<span class="token literal-property property">elide</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>ElideRight
				<span class="token punctuation">}</span>
				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">text</span><span class="token operator">:</span> director_tag <span class="token operator">+</span> <span class="token string">": &lt;font color=\"#0000aa\"&gt;"</span> <span class="token operator">+</span> director <span class="token operator">+</span> <span class="token string">"&lt;/font&gt;"</span>
					Layout<span class="token punctuation">.</span>fillWidth<span class="token operator">:</span> <span class="token boolean">true</span>
					<span class="token literal-property property">color</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token string">"blue"</span> <span class="token operator">:</span> <span class="token string">"black"</span>
					font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> <span class="token number">18</span>
					<span class="token literal-property property">elide</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>ElideRight
				<span class="token punctuation">}</span>
				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">text</span><span class="token operator">:</span> actor_tag <span class="token operator">+</span> <span class="token string">" : &lt;font color=\"#0000aa\"&gt; "</span> <span class="token operator">+</span> actor <span class="token operator">+</span> <span class="token string">"&lt;/font&gt;"</span>
					Layout<span class="token punctuation">.</span>fillWidth<span class="token operator">:</span> <span class="token boolean">true</span>
					<span class="token literal-property property">color</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token string">"blue"</span> <span class="token operator">:</span> <span class="token string">"black"</span>
					font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> <span class="token number">18</span>
					<span class="token literal-property property">elide</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>ElideRight
				<span class="token punctuation">}</span>
				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">text</span><span class="token operator">:</span> desc
					Layout<span class="token punctuation">.</span>fillHeight<span class="token operator">:</span> <span class="token boolean">true</span>
					Layout<span class="token punctuation">.</span>fillWidth<span class="token operator">:</span> <span class="token boolean">true</span>
					<span class="token literal-property property">color</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>ListView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token string">"blue"</span> <span class="token operator">:</span> <span class="token string">"black"</span>
					font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> <span class="token number">16</span>
					<span class="token literal-property property">wrapMode</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>Wrap
					<span class="token literal-property property">maximumLineCount</span><span class="token operator">:</span> <span class="token number">2</span>
					<span class="token literal-property property">elide</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>ElideRight
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	ListView <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">id</span><span class="token operator">:</span> listView
		anchors<span class="token punctuation">.</span>fill<span class="token operator">:</span> parent
		<span class="token literal-property property">spacing</span><span class="token operator">:</span> <span class="token number">4</span>
		<span class="token literal-property property">delegate</span><span class="token operator">:</span> videoDelegate
		<span class="token literal-property property">model</span><span class="token operator">:</span> VideoListModel <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token string">".\\videos.xml"</span>
		<span class="token punctuation">}</span>
		<span class="token literal-property property">focus</span><span class="token operator">:</span> <span class="token boolean">true</span>
		<span class="token literal-property property">highlight</span><span class="token operator">:</span> Rectangle <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">width</span><span class="token operator">:</span> parent<span class="token punctuation">.</span>width
			<span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"lightblue"</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>当允许在QML中修改C++实现的Model时，比如删除，就需要做如下动作（如删除）：</p> 
<ol><li>调用基类的beginRemoveRows()</li><li>针对要删除的数据进行特定处理，如释放内存</li><li>调用基类的endRemoveRows()</li></ol> 
<h4><a id="114_TableView_1044"></a>11.4 TableView</h4> 
<p>TableView和ListView类似，多出了滚动条、挑选、可调整尺寸的表头等特性<br> TableView的数据也通过Model提供，可以使用ListModel、XmlListModel或使用C++从、<code>QAbstractItemModel</code>和<code>QAbstractTableModel</code>等继承来实现Model</p> 
<h4><a id="115_GridView_1048"></a>11.5 GridView</h4> 
<p>GridView和ListView类似，不同在于Item的呈现方式</p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> QtQuick <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Window <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Controls <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Layouts <span class="token number">1.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>XmlListModel <span class="token number">2.15</span>

Window <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">480</span>
	<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">400</span>
	<span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span>

	Component <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">id</span><span class="token operator">:</span> videoModel
		XmlListModel <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token string">"videos.xml"</span>
			<span class="token literal-property property">id</span><span class="token operator">:</span> xmlModel
			<span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token string">"/videos/video"</span>
			XmlRole <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"name"</span>
				<span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token string">"@name/string()"</span>
			<span class="token punctuation">}</span>
			XmlRole <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"img"</span>
				<span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token string">"poster/@img/string()"</span>
			<span class="token punctuation">}</span>
			XmlRole <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"rating"</span>
				<span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token string">"attr[3]/number()"</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	Component <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">id</span><span class="token operator">:</span> videoDelegate
		Item <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">id</span><span class="token operator">:</span> wrapper
			<span class="token literal-property property">width</span><span class="token operator">:</span> videoView<span class="token punctuation">.</span>cellWidth
			<span class="token literal-property property">height</span><span class="token operator">:</span> videoView<span class="token punctuation">.</span>cellHeight
			MouseArea <span class="token punctuation">{<!-- --></span>
				anchors<span class="token punctuation">.</span>fill<span class="token operator">:</span> parent
				<span class="token literal-property property">onClicked</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>GridView<span class="token punctuation">.</span>view<span class="token punctuation">.</span>currentIndex <span class="token operator">=</span> index
			<span class="token punctuation">}</span>
			Image <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">id</span><span class="token operator">:</span> poster
				anchors<span class="token punctuation">.</span>horizontalCenter<span class="token operator">:</span> parent<span class="token punctuation">.</span>horizontalCenter
				anchors<span class="token punctuation">.</span>top<span class="token operator">:</span> parent<span class="token punctuation">.</span>top
				anchors<span class="token punctuation">.</span>topMargin<span class="token operator">:</span> <span class="token number">3</span>
				<span class="token literal-property property">source</span><span class="token operator">:</span> img
				<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span>
				<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">150</span>
				<span class="token literal-property property">fillMode</span><span class="token operator">:</span> Image<span class="token punctuation">.</span>PreserveAspectFit
			<span class="token punctuation">}</span>
			Text <span class="token punctuation">{<!-- --></span>
				anchors<span class="token punctuation">.</span>top<span class="token operator">:</span> poster<span class="token punctuation">.</span>bottom
				anchors<span class="token punctuation">.</span>topMargin<span class="token operator">:</span> <span class="token number">4</span>
				<span class="token literal-property property">width</span><span class="token operator">:</span> parent<span class="token punctuation">.</span>width
				<span class="token literal-property property">text</span><span class="token operator">:</span> name
				<span class="token literal-property property">color</span><span class="token operator">:</span> wrapper<span class="token punctuation">.</span>GridView<span class="token punctuation">.</span>isCurrentItem <span class="token operator">?</span> <span class="token string">"blue"</span> <span class="token operator">:</span> <span class="token string">"black"</span>
				font<span class="token punctuation">.</span>pixelSize<span class="token operator">:</span> <span class="token number">18</span>
				<span class="token literal-property property">horizontalAlignment</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>AlignHCenter
				<span class="token literal-property property">elide</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>ElideMiddle
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	GridView <span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">id</span><span class="token operator">:</span> videoView
		anchors<span class="token punctuation">.</span>fill<span class="token operator">:</span> parent
		<span class="token literal-property property">cellWidth</span><span class="token operator">:</span> <span class="token number">120</span>
		<span class="token literal-property property">cellHeight</span><span class="token operator">:</span> <span class="token number">190</span>
		<span class="token literal-property property">delegate</span><span class="token operator">:</span> videoDelegate
		<span class="token literal-property property">model</span><span class="token operator">:</span> videoModel<span class="token punctuation">.</span><span class="token function">createObject</span><span class="token punctuation">(</span>videoView<span class="token punctuation">)</span>
		<span class="token literal-property property">focus</span><span class="token operator">:</span> <span class="token boolean">true</span>
		<span class="token literal-property property">highlight</span><span class="token operator">:</span> Rectangle <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">height</span><span class="token operator">:</span> videoView<span class="token punctuation">.</span>cellHeight <span class="token operator">-</span> <span class="token number">8</span>
			<span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"lightblue"</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><code>flow</code>：指定Item的流模式，<code>GridView.LeftToRight</code>和<code>GridView.TopToBottom</code><br> <code>cellWidth</code>：单元格宽度<br> <code>cellHeight</code>：单元格高度</p> 
<h4><a id="116_Repeater_1133"></a>11.6 Repeater</h4> 
<p>Repeater用于创建多个基于Item的组件，丢给它的父（通常是定位器或布局管理器）来管理<br> <code>count</code>：指定要创建多少个基于Item的对象<br> <code>model</code>：指定数据类型，数字、字符串列表、对象列表、ListModel等常见的model<br> <code>delegate</code>：待实例化的组件，默认属性，定义时通常不显示初始化<br> <code>itemAt(index)</code>：根据索引返回对应的delegate实例</p> 
<h5><a id="1161_model_1140"></a>11.6.1 model为数字</h5> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> QtQuick <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Window <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Controls <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Layouts <span class="token number">1.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>XmlListModel <span class="token number">2.15</span>

Window <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">480</span>
	<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">400</span>
	<span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span>

	RowLayout <span class="token punctuation">{<!-- --></span>
		anchors<span class="token punctuation">.</span>fill<span class="token operator">:</span> parent
		<span class="token literal-property property">spacing</span><span class="token operator">:</span> <span class="token number">4</span>
		Repeater <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">model</span><span class="token operator">:</span> <span class="token number">8</span>
			Rectangle <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">46</span>
				<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">30</span>
				<span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"steelblue"</span>
				Text <span class="token punctuation">{<!-- --></span>
					anchors<span class="token punctuation">.</span>fill<span class="token operator">:</span> parent
					<span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"black"</span>
					font<span class="token punctuation">.</span>pointSize<span class="token operator">:</span> <span class="token number">14</span>
					<span class="token literal-property property">verticalAlignment</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>AlignVCenter
					<span class="token literal-property property">horizontalAlignment</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>AlignHCenter
					<span class="token literal-property property">text</span><span class="token operator">:</span> index
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="1162_model_1176"></a>11.6.2 model为字符串列表</h5> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> QtQuick <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Window <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Controls <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Layouts <span class="token number">1.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>XmlListModel <span class="token number">2.15</span>

Window <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">480</span>
	<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">400</span>
	<span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span>

	Row <span class="token punctuation">{<!-- --></span>
		anchors<span class="token punctuation">.</span>centerIn<span class="token operator">:</span> parent
		<span class="token literal-property property">spacing</span><span class="token operator">:</span> <span class="token number">8</span>
		Repeater <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">model</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"Hello"</span><span class="token punctuation">,</span> <span class="token string">"Qt"</span><span class="token punctuation">,</span> <span class="token string">"Quick"</span><span class="token punctuation">]</span>
			Text <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"blue"</span>
				font<span class="token punctuation">.</span>pointSize<span class="token operator">:</span> <span class="token number">18</span>
				font<span class="token punctuation">.</span>bold<span class="token operator">:</span> <span class="token boolean">true</span>
				<span class="token literal-property property">verticalAlignment</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>AlignVCenter
				<span class="token literal-property property">horizontalAlignment</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>AlignHCenter
				<span class="token literal-property property">text</span><span class="token operator">:</span> modelData
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="1163_model_1207"></a>11.6.3 model为对象列表</h5> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> QtQuick <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Window <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Controls <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Layouts <span class="token number">1.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>XmlListModel <span class="token number">2.15</span>

Window <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">480</span>
	<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">400</span>
	<span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span>

	Column <span class="token punctuation">{<!-- --></span>
		anchors<span class="token punctuation">.</span>fill<span class="token operator">:</span> parent
		anchors<span class="token punctuation">.</span>margins<span class="token operator">:</span> <span class="token number">4</span>
		<span class="token literal-property property">spacing</span><span class="token operator">:</span> <span class="token number">4</span>
		Repeater <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">model</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
					<span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Zhang San"</span><span class="token punctuation">,</span>
					<span class="token string-property property">"mobile"</span><span class="token operator">:</span> "<span class="token number">13888888888</span>
"
				<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
					<span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Wang Er"</span><span class="token punctuation">,</span>
					<span class="token string-property property">"mobile"</span><span class="token operator">:</span> "<span class="token number">13999999999</span>
"
				<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
					<span class="token string-property property">"name"</span><span class="token operator">:</span> <span class="token string">"Liu Wu"</span><span class="token punctuation">,</span>
					<span class="token string-property property">"mobile"</span><span class="token operator">:</span> <span class="token string">"15866666666"</span>
				<span class="token punctuation">}</span><span class="token punctuation">]</span>
			Row <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">30</span>
				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span>
					<span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"blue"</span>
					font<span class="token punctuation">.</span>pointSize<span class="token operator">:</span> <span class="token number">13</span>
					font<span class="token punctuation">.</span>bold<span class="token operator">:</span> <span class="token boolean">true</span>
					<span class="token literal-property property">verticalAlignment</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>AlignVCenter
					<span class="token literal-property property">text</span><span class="token operator">:</span> modelData<span class="token punctuation">.</span>name
				<span class="token punctuation">}</span>
				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">200</span>
					font<span class="token punctuation">.</span>pointSize<span class="token operator">:</span> <span class="token number">13</span>
					<span class="token literal-property property">verticalAlignment</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>AlignVCenter
					<span class="token literal-property property">text</span><span class="token operator">:</span> modelData<span class="token punctuation">.</span>mobile
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="1164_modelListModel_1259"></a>11.6.4 model为ListModel</h5> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> QtQuick <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Window <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Controls <span class="token number">2.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>Layouts <span class="token number">1.15</span>
<span class="token keyword">import</span> QtQuick<span class="token punctuation">.</span>XmlListModel <span class="token number">2.15</span>

Window <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">480</span>
	<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">400</span>
	<span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">true</span>

	Column <span class="token punctuation">{<!-- --></span>
		anchors<span class="token punctuation">.</span>fill<span class="token operator">:</span> parent
		anchors<span class="token punctuation">.</span>margins<span class="token operator">:</span> <span class="token number">4</span>
		<span class="token literal-property property">spacing</span><span class="token operator">:</span> <span class="token number">4</span>
		Repeater <span class="token punctuation">{<!-- --></span>
			<span class="token literal-property property">model</span><span class="token operator">:</span> ListModel <span class="token punctuation">{<!-- --></span>
				ListElement <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"MI4"</span>
					<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"1999"</span>
					<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"Xiaomi"</span>
				<span class="token punctuation">}</span>
				ListElement <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"MX4"</span>
					<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"1999"</span>
					<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"Meizu"</span>
				<span class="token punctuation">}</span>
				ListElement <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"iPhone6"</span>
					<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"5500"</span>
					<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"Apple"</span>
				<span class="token punctuation">}</span>
				ListElement <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"C199"</span>
					<span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token string">"1599"</span>
					<span class="token literal-property property">manufacturer</span><span class="token operator">:</span> <span class="token string">"Huawei"</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			Row <span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">30</span>
				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">120</span>
					<span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"blue"</span>
					font<span class="token punctuation">.</span>pointSize<span class="token operator">:</span> <span class="token number">14</span>
					font<span class="token punctuation">.</span>bold<span class="token operator">:</span> <span class="token boolean">true</span>
					<span class="token literal-property property">verticalAlignment</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>AlignVCenter
					<span class="token literal-property property">text</span><span class="token operator">:</span> name
				<span class="token punctuation">}</span>
				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span>
					font<span class="token punctuation">.</span>pointSize<span class="token operator">:</span> <span class="token number">14</span>
					<span class="token literal-property property">verticalAlignment</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>AlignVCenter
					<span class="token literal-property property">text</span><span class="token operator">:</span> cost
				<span class="token punctuation">}</span>
				Text <span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span>
					font<span class="token punctuation">.</span>pointSize<span class="token operator">:</span> <span class="token number">12</span>
					<span class="token literal-property property">verticalAlignment</span><span class="token operator">:</span> Text<span class="token punctuation">.</span>AlignVCenter
					<span class="token literal-property property">text</span><span class="token operator">:</span> manufacturer
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bad89324391a04e8bdda02d64f540bbd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">CTF 全讲解：[SWPUCTF 2021 新生赛]Do_you_know_http</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/458e66fc40044cd8697d50fa56cbb42e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">《qt quick核心编程》笔记三</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>