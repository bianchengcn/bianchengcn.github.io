<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>西门子plc  s7-200写的先进先出范例 用fifo - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="西门子plc  s7-200写的先进先出范例 用fifo" />
<meta property="og:description" content="本人最近写了一个五台锅炉共用一个冷却水泵的程序，开始打算用时间戳来记录每台锅炉需要冷却的时间，然后用时间进行排序，但是后来无意中发现fifo可以实现表的先进先出的功能，就抱着学习的目的，用fifo写了本程序。
第一步，先要建立一个表如下图，上电初始化建立一个具有5个值的表，从VW200开始，VW200存放的是表的容量，VW202仿的是当表内的实际个数,然后给vw100-vw108（每台锅炉在表里的id）赋值。
第二部，5个i口作为5台锅炉发来的请求冷却信号，这5个信号必须用上升沿P或者下降沿N来触发
第三步，当表内有数据，且水泵处于休眠状态下，执行先进先出程序，vw300就是目前出去的值（锅炉序号）
第四步，检测当前的先进先出执行到哪台锅炉，对应锅炉就执行输出，这里的q0.1-q0.5就是5台锅炉，vw202和vw300只是方便测试用的，可以删除，m0.1-m0.5都是是同一个水泵的工作信号，为了防止双线圈，才命名不一样
第五步，双线圈的解决办法，q1.0就是水泵电机
fifo这个函数在很多地方都可以用到，排队程序在工业自动化中占比也算大的，但是网络上都找不到详细的说明，希望我这个教程能帮助到大家，给个回复就算谢谢了。日行一善！" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/4415a2213ec1209b74621d686f16c7fe/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-04-24T11:24:16+08:00" />
<meta property="article:modified_time" content="2018-04-24T11:24:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">西门子plc  s7-200写的先进先出范例 用fifo</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>本人最近写了一个五台锅炉共用一个冷却水泵的程序，开始打算用时间戳来记录每台锅炉需要冷却的时间，然后用时间进行排序，但是后来无意中发现fifo可以实现表的先进先出的功能，就抱着学习的目的，用fifo写了本程序。</p> 
<p>第一步，先要建立一个表如下图，上电初始化建立一个具有5个值的表，从VW200开始，VW200存放的是表的容量，VW202仿的是当表内的实际个数,然后给vw100-vw108（每台锅炉在表里的id）赋值。</p> 
<p><img src="https://images2.imgbox.com/78/ff/yrgZBhT0_o.png" alt=""></p> 
<p><br></p> 
<p>第二部，5个i口作为5台锅炉发来的请求冷却信号，这5个信号必须用上升沿P或者下降沿N来触发</p> 
<p><img src="https://images2.imgbox.com/35/81/uku5CjRo_o.png" alt=""><br></p> 
<p>第三步，当表内有数据，且水泵处于休眠状态下，执行先进先出程序，vw300就是目前出去的值（锅炉序号）</p> 
<p><img src="https://images2.imgbox.com/1d/5c/HBlJWTvh_o.png" alt=""><br></p> 
<p><br></p> 
<p>第四步，检测当前的先进先出执行到哪台锅炉，对应锅炉就执行输出，这里的q0.1-q0.5就是5台锅炉，vw202和vw300只是方便测试用的，可以删除，m0.1-m0.5都是是同一个水泵的工作信号，为了防止双线圈，才命名不一样</p> 
<p><br></p> 
<p><img src="https://images2.imgbox.com/a1/8d/N1TxmWqQ_o.png" alt=""><br></p> 
<p>第五步，双线圈的解决办法，q1.0就是水泵电机</p> 
<p><img src="https://images2.imgbox.com/2f/af/mueDJX0K_o.png" alt=""><br></p> 
<p><br></p> 
<p>fifo这个函数在很多地方都可以用到，排队程序在工业自动化中占比也算大的，但是网络上都找不到详细的说明，希望我这个教程能帮助到大家，给个回复就算谢谢了。日行一善！</p> 
<p><br></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/aa0e1e32e6ede677e357c4b8289bbadb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">引导修复第一类：关于Windows的引导修复</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1eed630bf55d3d4f30ef262067ac6fda/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">对Verilog 初学者比较有用的整理</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>