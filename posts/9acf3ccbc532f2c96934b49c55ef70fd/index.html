<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SQL学习-数据库的备份和还原  分离和附加 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SQL学习-数据库的备份和还原  分离和附加" />
<meta property="og:description" content="本文转载自：https://blog.csdn.net/daodaojiejacket/article/details/45102455
数据库备份和还原的目的：
数据库备份主要是为了防止数据的丢失，或者在错误数据的出现的时候，能够将数据还原到之前的一个版本。企业经常会做一个任务，每天将数据库进行备份，这样保证了数据不会丢失。
数据库分离和附加的目的： 数据库分离简单的说就是把本地的数据库从服务器分离出来，然后拿到别的服务器上附加，即可实现数据库的转移（但我总觉得，如果不会出现数据的丢失，直接备份一份，然后过去还原就可以了，这个以后如果有新的看法再补充。
注意：备份的时候是针对School数据库进行的备份，然后还原的时候你会发现图中也是右击的School数据库，然后还原。这个的意思就是：我之前对School数据库进行了备份，然后可能过了几天我发现数据有问题，所以我就要还原到之前我备份的版本，所以我就右击了这个School数据库，针对它来还原（在还原的时候，弹出来的界面会自动在目标数据库输入框中填充School）。
（而我所谓的想要一个数据库，不通过分离附加的方式，直接备份然后还原的方式就是，你右击“数据库”（不是右击哪个数据库，是最上面的“数据库”三个字），然后选择还原数据库，然后在弹出界面就不会自动填充目标数据库，此时，你可以自己定义一个你要的名字，然后还原过来就好了，没有必要再什么分离附加，浅见，以后有新看法会补充。）
具体操作如下：
1.备份数据库
选择要备份的数据库，点击右键，找到任务中备份选项。
先点删除将默认的备份路径删除:
然后点添加按钮，添加目标备份路径:
点击红圈处，定义存储路径：
选择文件类型为所有文件：
在文件名框中输入备份的文件名：
连续点击确定显示备份完成。
还原数据库
右键要还原数据的数据库，选择任务中还原数据库：
选择源设备找到数据库备份文件的位置：
点击添加按钮，文件类型选择所有文件，然后选择还原数据库文件，点确定：
然后将用于选择的数据库还原集前打钩，点确定：
显示数据库还原成功。
2.分离数据库
选择要分离的数据库，右键选择任务中分离：
点确定按钮将数据库从服务器上分离：
在对象资源管理其中我们已经找不到school数据库，表示已分离（第一个图表示分前的资源管理器，第二个图表示分离后的资源管理器）：
点击服务器右键中的属性，查看Sql server文件的存储路径：
根目录即为sql server文件的存储地址，将地址复制到计算机中地址栏：
找到DATA文件夹
进入文件夹，找到你分离的数据库的mdf和ldf文件
将他们拷贝到U盘中，以便将其移到另一台机器上。
附加数据库
右键数据库，选择附加选项：
点击添加按钮，从文件目录中找到你要附加的数据库的mdf文件，选择后点确定：
点确定后，若对象资源管理器中出现附加的数据库表示附加成功。
请注意，此时对数据库的操作都是对你U盘中的原数据库进行操作，可以将其备份到本地以免误操作导致数据库损毁无法使用。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/9acf3ccbc532f2c96934b49c55ef70fd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-08-02T10:12:16+08:00" />
<meta property="article:modified_time" content="2018-08-02T10:12:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SQL学习-数据库的备份和还原  分离和附加</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>本文转载自：<a href="https://blog.csdn.net/daodaojiejacket/article/details/45102455">https://blog.csdn.net/daodaojiejacket/article/details/45102455</a></p> 
<p>数据库备份和还原的目的：</p> 
<p>数据库备份主要是为了防止数据的丢失，或者在错误数据的出现的时候，能够将数据还原到之前的一个版本。企业经常会做一个任务，每天将数据库进行备份，这样保证了数据不会丢失。</p> 
<p>数据库分离和附加的目的： </p> 
<p>数据库分离简单的说就是把本地的数据库从服务器分离出来，然后拿到别的服务器上附加，即可实现数据库的转移（但我总觉得，如果不会出现数据的丢失，直接备份一份，然后过去还原就可以了，这个以后如果有新的看法再补充。</p> 
<p>注意：备份的时候是针对School数据库进行的备份，然后还原的时候你会发现图中也是右击的School数据库，然后还原。这个的意思就是：我之前对School数据库进行了备份，然后可能过了几天我发现数据有问题，所以我就要还原到之前我备份的版本，所以我就右击了这个School数据库，针对它来还原（在还原的时候，弹出来的界面会自动在目标数据库输入框中填充School）。</p> 
<p>（而我所谓的想要一个数据库，不通过分离附加的方式，直接备份然后还原的方式就是，你右击“数据库”（不是右击哪个数据库，是最上面的“数据库”三个字），然后选择还原数据库，然后在弹出界面就不会自动填充目标数据库，此时，你可以自己定义一个你要的名字，然后还原过来就好了，没有必要再什么分离附加，浅见，以后有新看法会补充。）</p> 
<p>具体操作如下：</p> 
<p><strong>1.备份数据库</strong></p> 
<p>选择要备份的数据库，点击右键，找到任务中备份选项。</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/d3/db/FjFlOzt6_o.png"></p> 
<p> </p> 
<p>先点删除将默认的备份路径删除:</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/7f/c9/Oq7biEk6_o.png"></p> 
<p> </p> 
<p>然后点添加按钮，添加目标备份路径:</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/5c/ac/pT04xBx3_o.png"></p> 
<p> </p> 
<p>点击红圈处，定义存储路径：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/b5/f2/dg2BfMGF_o.png"></p> 
<p> </p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/48/72/wj2WRzx5_o.png"></p> 
<p> </p> 
<p>选择文件类型为所有文件：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/2a/a9/AdGmEoM8_o.png"></p> 
<p>在文件名框中输入备份的文件名：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/ea/be/FzGs8BZm_o.png"></p> 
<p>连续点击确定显示备份完成。</p> 
<p><strong>还原数据库</strong></p> 
<p>右键要还原数据的数据库，选择任务中还原数据库：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/3f/1c/i3NmqHxK_o.png"></p> 
<p>选择源设备找到数据库备份文件的位置：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/b2/0f/qOar6byy_o.png"></p> 
<p> </p> 
<p>点击添加按钮，文件类型选择所有文件，然后选择还原数据库文件，点确定：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/65/e4/k7I4FzUx_o.png"></p> 
<p> </p> 
<p>然后将用于选择的数据库还原集前打钩，点确定：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/57/fc/VNPKb42I_o.png"></p> 
<p> </p> 
<p> </p> 
<p>显示数据库还原成功。</p> 
<p> <img alt="" class="has" src="https://images2.imgbox.com/36/7f/oVhj0ZBk_o.png"></p> 
<p><strong>2.分离数据库</strong></p> 
<p>选择要分离的数据库，右键选择任务中分离：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/fa/d2/aHcjhgoa_o.png"></p> 
<p> </p> 
<p>点确定按钮将数据库从服务器上分离：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/b2/80/7BF8CnSf_o.png"></p> 
<p> </p> 
<p>在对象资源管理其中我们已经找不到school数据库，表示已分离（第一个图表示分前的资源管理器，第二个图表示分离后的资源管理器）：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/04/fe/gX9wAP0v_o.png"></p> 
<p> </p> 
<p>点击服务器右键中的属性，查看Sql server文件的存储路径：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/bb/1e/8yuBYNvo_o.png"></p> 
<p> </p> 
<p> </p> 
<p>根目录即为sql server文件的存储地址，将地址复制到计算机中地址栏：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/52/ec/oOFTvztw_o.png"></p> 
<p> </p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/85/54/BwLHS5tV_o.png"></p> 
<p> </p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/9c/48/WVF4Lb5w_o.png"></p> 
<p> </p> 
<p> </p> 
<p>找到DATA文件夹</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/60/79/gWuCKnYj_o.png"></p> 
<p>进入文件夹，找到你分离的数据库的mdf和ldf文件</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/25/43/YxEhoAPJ_o.png"></p> 
<p>将他们拷贝到U盘中，以便将其移到另一台机器上。</p> 
<p><strong>附加数据库</strong></p> 
<p>右键数据库，选择附加选项：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/dc/4f/yj4uPwFo_o.png"></p> 
<p> </p> 
<p>点击添加按钮，从文件目录中找到你要附加的数据库的mdf文件，选择后点确定：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/e4/81/Lx4UnuM6_o.png"></p> 
<p> </p> 
<p> </p> 
<p>点确定后，若对象资源管理器中出现附加的数据库表示附加成功。</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/7e/d9/iu9UwQB8_o.png"></p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/80/ae/SNVHw5W8_o.png"></p> 
<p> </p> 
<p>请注意，此时对数据库的操作都是对你U盘中的原数据库进行操作，可以将其备份到本地以免误操作导致数据库损毁无法使用。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ab19f83f222b6191e7061be76f98e664/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">php  base64图片保存到服务器</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e14698897cf0fad0c4d2ea9b2fcd5a3d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">CentOS 7系统离线安装gcc，gcc-c&#43;&#43;，让你摆脱联网装不了的困惑！</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>