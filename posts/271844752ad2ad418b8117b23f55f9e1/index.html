<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>无盘服务器多网卡与万兆,准备做无盘万兆的朋友讲义些万兆的一些知识 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="无盘服务器多网卡与万兆,准备做无盘万兆的朋友讲义些万兆的一些知识" />
<meta property="og:description" content="目前万兆的造型有两种，一种叫做星形，一种叫做环网(形)。下图为星形图(双击显示全图)：
下图为环网(形)
这两种网络哪个最好，最适合网吧呢？首先，我们要明确我们需要的是什么。我们需要的是网吧在保持流量均衡的时候能最大限度的提速。我们不能牺牲一部分机器的速度来给另外一部分提速，这种杀鸡取卵的做法并不可取。那么单从流量的角度来说呢，一般网吧140台(因为3台主干环网一般是146个口子{48口为例}，减去监控收银，路由，差不多140台)。满载运行，2台服务器算20G的流量。2000M除以140台。一台打平均14M左右。
星形主干到接入层双光纤汇聚200M，那么200/14=14个人左右。也就是说一台分交换22个口子，打平均只用到14个人的时候(这个跟网吧的生意有关)。每台客户机的平均流量是一样的。
那么在一样流量的情况下，我们选形星方案，为什么呢？因为星形是broadcom内核联动。一样流量的情况下这个数据爆发快，反应速度快，比如我进游戏的时候会比环网快。以下是星形进游戏的流量图：
而环网的主要特点是网吧爆满的情况下，服务器网卡数据特别好看，10G网卡经常刷刷的50%-70%。保证大众的速度都有一个平均。而星形在网吧爆满的时候，整体网卡流量没有环网的好看，一台分交换2000M/22=90M左右。而环网有个噱头，就是万兆环起来，断了一根还能继续用，以前是50ms的响应时间，现在号称是1ms。不过这个功能很摆设，万兆铠装跳线有铜丝。哪那么容易断。有个致命的缺点就是怕(广播风暴).越大的网吧越容易产生，越环越传播的快。广播风暴一但产生，会让服务器卡本身都卡得动不了。而服务器卡的不是一台，而是全部无盘服务器。。。这个是我最头疼的问题。。。环网一定会有广播风暴。就连思科的环网都不敢说完全抑制，只是多少的问题。。。不信你们就等着网吧突然停电，然后来电，客户机同时启动的情况下开开，风暴到底有多么厉害。。。
反正我是头疼过。。。把交换机断电1分钟，服务器断电1分钟，就好了。。。总体来说，200台以上的网吧还是走星形，风暴不严重，稳定快速。90台-140台-190台的网吧推荐环网，流量杠杠的好看。投资低，回报高！网线不需要布那么长，减少延时丢包的现象。大网吧走星形，光纤汇聚到接入层，解决布线问题，上座率70%刚好发挥broadcom内核联动的最大效应。
所以不是哪种方案好，哪种方案差，而是哪种方案更适合网吧的当期情况以及未来的发展。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/271844752ad2ad418b8117b23f55f9e1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-04T11:47:05+08:00" />
<meta property="article:modified_time" content="2021-08-04T11:47:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">无盘服务器多网卡与万兆,准备做无盘万兆的朋友讲义些万兆的一些知识</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>目前万兆的造型有两种，一种叫做星形，一种叫做环网(形)。下图为星形图(双击显示全图)：</p> 
 <p align="center"><img src="https://images2.imgbox.com/54/78/kJMo8bpk_o.png" alt="a4c26d1e5885305701be709a3d33442f.png"></p> 
 <p>下图为环网(形)</p> 
 <p align="center"><img src="https://images2.imgbox.com/cd/3f/802LYZA7_o.png" alt="a4c26d1e5885305701be709a3d33442f.png"></p> 
 <p>这两种网络哪个最好，最适合网吧呢？首先，我们要明确我们需要的是什么。我们需要的是网吧在保持流量均衡的时候能最大限度的提速。我们不能牺牲一部分机器的速度来给另外一部分提速，这种杀鸡取卵的做法并不可取。那么单从流量的角度来说呢，一般网吧140台(因为3台主干环网一般是146个口子{48口为例}，减去监控收银，路由，差不多140台)。满载运行，2台服务器算20G的流量。2000M除以140台。一台打平均14M左右。</p> 
 <p>星形主干到接入层双光纤汇聚200M，那么200/14=14个人左右。也就是说一台分交换22个口子，打平均只用到14个人的时候(这个跟网吧的生意有关)。每台客户机的平均流量是一样的。</p> 
 <p>那么在一样流量的情况下，我们选形星方案，为什么呢？因为星形是broadcom内核联动。一样流量的情况下这个数据爆发快，反应速度快，比如我进游戏的时候会比环网快。以下是星形进游戏的流量图：</p> 
 <p align="center"><img src="https://images2.imgbox.com/79/91/H3Qg5cAR_o.png" alt="a4c26d1e5885305701be709a3d33442f.png"></p> 
 <p>而环网的主要特点是网吧爆满的情况下，服务器网卡数据特别好看，10G网卡经常刷刷的50%-70%。保证大众的速度都有一个平均。而星形在网吧爆满的时候，整体网卡流量没有环网的好看，一台分交换2000M/22=90M左右。而环网有个噱头，就是万兆环起来，断了一根还能继续用，以前是50ms的响应时间，现在号称是1ms。不过这个功能很摆设，万兆铠装跳线有铜丝。哪那么容易断。有个致命的缺点就是怕(广播风暴).越大的网吧越容易产生，越环越传播的快。广播风暴一但产生，会让服务器卡本身都卡得动不了。而服务器卡的不是一台，而是全部无盘服务器。。。这个是我最头疼的问题。。。环网一定会有广播风暴。就连思科的环网都不敢说完全抑制，只是多少的问题。。。不信你们就等着网吧突然停电，然后来电，客户机同时启动的情况下开开，风暴到底有多么厉害。。。</p> 
 <p>反正我是头疼过。。。把交换机断电1分钟，服务器断电1分钟，就好了。。。总体来说，200台以上的网吧还是走星形，风暴不严重，稳定快速。90台-140台-190台的网吧推荐环网，流量杠杠的好看。投资低，回报高！网线不需要布那么长，减少延时丢包的现象。大网吧走星形，光纤汇聚到接入层，解决布线问题，上座率70%刚好发挥broadcom内核联动的最大效应。</p> 
 <p>所以不是哪种方案好，哪种方案差，而是哪种方案更适合网吧的当期情况以及未来的发展。</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c299eea5eb3e2a888e2add67ccd8ffa3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ArcGISServer 10.5安装完毕授权后的一些设置</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/735b8d18742731f3b0e767bc3c9ce1fc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MATLAB（十）方程式求根</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>