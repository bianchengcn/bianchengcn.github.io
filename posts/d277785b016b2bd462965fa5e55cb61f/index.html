<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>钉钉接口报错java.net.UnknownHostException: oapi.dingtalk.com_无法访问oapi.dingtalk.com - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="钉钉接口报错java.net.UnknownHostException: oapi.dingtalk.com_无法访问oapi.dingtalk.com" />
<meta property="og:description" content="钉钉接口报错java.net.UnknownHostException: oapi.dingtalk.com_无法访问oapi.dingtalk.com 简述报错详细内容解决方法 简述 配置钉钉机器人时，我发现服务器连接oapi.dingtalk.com接口连接不上去报错如下
java.net.UnknownHostException: oapi.dingtalk.com
报错详细内容 ERROR: 钉钉机器人发生错误：java.net.UnknownHostException: oapi.dingtalk.com at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184) at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) at java.net.Socket.connect(Socket.java:607) at sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:288) at sun.net.NetworkClient.doConnect(NetworkClient.java:175) at sun.net.www.http.HttpClient.openServer(HttpClient.java:463) at sun.net.www.http.HttpClient.openServer(HttpClient.java:558) at sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:264) at sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:367) at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:203) at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1205) at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1056) at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:189) at sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1340) at sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1315) at sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:264) at io.jenkins.plugins.sdk.HttpRequest.request(HttpRequest.java:75) at io.jenkins.plugins.sdk.DingTalkSender.call(DingTalkSender.java:119) at io.jenkins.plugins.sdk.DingTalkSender.sendActionCard(DingTalkSender.java:98) at io.jenkins.plugins.service.impl.DingTalkServiceImpl.send(DingTalkServiceImpl.java:60) at io.jenkins.plugins.DingTalkRunListener.send(DingTalkRunListener.java:248) at io.jenkins.plugins.DingTalkRunListener.onCompleted(DingTalkRunListener.java:62) at io.jenkins.plugins.DingTalkRunListener.onCompleted(DingTalkRunListener.java:42) at hudson.model.listeners.RunListener.fireCompleted(RunListener.java:209) at hudson.model.Run.execute(Run.java:1957) at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43) at hudson.model.ResourceController.execute(ResourceController.java:100) at hudson.model.Executor.run(Executor.java:432) 解决方法 原因是 调用钉钉服务很慢，偶尔会报java." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/d277785b016b2bd462965fa5e55cb61f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-02T16:19:47+08:00" />
<meta property="article:modified_time" content="2021-07-02T16:19:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">钉钉接口报错java.net.UnknownHostException: oapi.dingtalk.com_无法访问oapi.dingtalk.com</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>钉钉接口报错java.net.UnknownHostException: oapi.dingtalk.com_无法访问oapi.dingtalk.com</h4> 
 <ul><li><ul><li><ul><li><a href="#_2" rel="nofollow">简述</a></li><li><a href="#_7" rel="nofollow">报错详细内容</a></li><li><a href="#_40" rel="nofollow">解决方法</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h4><a id="_2"></a>简述</h4> 
<hr> 
<p>配置钉钉机器人时，我发现服务器连接oapi.dingtalk.com接口连接不上去报错如下</p> 
<p>java.net.UnknownHostException: oapi.dingtalk.com</p> 
<h4><a id="_7"></a>报错详细内容</h4> 
<hr> 
<pre><code class="prism language-shell">ERROR: 钉钉机器人发生错误：java.net.UnknownHostException: oapi.dingtalk.com
	at java.net.AbstractPlainSocketImpl.connect<span class="token punctuation">(</span>AbstractPlainSocketImpl.java:184<span class="token punctuation">)</span>
	at java.net.SocksSocketImpl.connect<span class="token punctuation">(</span>SocksSocketImpl.java:392<span class="token punctuation">)</span>
	at java.net.Socket.connect<span class="token punctuation">(</span>Socket.java:607<span class="token punctuation">)</span>
	at sun.security.ssl.SSLSocketImpl.connect<span class="token punctuation">(</span>SSLSocketImpl.java:288<span class="token punctuation">)</span>
	at sun.net.NetworkClient.doConnect<span class="token punctuation">(</span>NetworkClient.java:175<span class="token punctuation">)</span>
	at sun.net.www.http.HttpClient.openServer<span class="token punctuation">(</span>HttpClient.java:463<span class="token punctuation">)</span>
	at sun.net.www.http.HttpClient.openServer<span class="token punctuation">(</span>HttpClient.java:558<span class="token punctuation">)</span>
	at sun.net.www.protocol.https.HttpsClient.<span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token punctuation">(</span>HttpsClient.java:264<span class="token punctuation">)</span>
	at sun.net.www.protocol.https.HttpsClient.New<span class="token punctuation">(</span>HttpsClient.java:367<span class="token punctuation">)</span>
	at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient<span class="token punctuation">(</span>AbstractDelegateHttpsURLConnection.java:203<span class="token punctuation">)</span>
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0<span class="token punctuation">(</span>HttpURLConnection.java:1205<span class="token punctuation">)</span>
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect<span class="token punctuation">(</span>HttpURLConnection.java:1056<span class="token punctuation">)</span>
	at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect<span class="token punctuation">(</span>AbstractDelegateHttpsURLConnection.java:189<span class="token punctuation">)</span>
	at sun.net.www.protocol.http.HttpURLConnection.getOutputStream0<span class="token punctuation">(</span>HttpURLConnection.java:1340<span class="token punctuation">)</span>
	at sun.net.www.protocol.http.HttpURLConnection.getOutputStream<span class="token punctuation">(</span>HttpURLConnection.java:1315<span class="token punctuation">)</span>
	at sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream<span class="token punctuation">(</span>HttpsURLConnectionImpl.java:264<span class="token punctuation">)</span>
	at io.jenkins.plugins.sdk.HttpRequest.request<span class="token punctuation">(</span>HttpRequest.java:75<span class="token punctuation">)</span>
	at io.jenkins.plugins.sdk.DingTalkSender.call<span class="token punctuation">(</span>DingTalkSender.java:119<span class="token punctuation">)</span>
	at io.jenkins.plugins.sdk.DingTalkSender.sendActionCard<span class="token punctuation">(</span>DingTalkSender.java:98<span class="token punctuation">)</span>
	at io.jenkins.plugins.service.impl.DingTalkServiceImpl.send<span class="token punctuation">(</span>DingTalkServiceImpl.java:60<span class="token punctuation">)</span>
	at io.jenkins.plugins.DingTalkRunListener.send<span class="token punctuation">(</span>DingTalkRunListener.java:248<span class="token punctuation">)</span>
	at io.jenkins.plugins.DingTalkRunListener.onCompleted<span class="token punctuation">(</span>DingTalkRunListener.java:62<span class="token punctuation">)</span>
	at io.jenkins.plugins.DingTalkRunListener.onCompleted<span class="token punctuation">(</span>DingTalkRunListener.java:42<span class="token punctuation">)</span>
	at hudson.model.listeners.RunListener.fireCompleted<span class="token punctuation">(</span>RunListener.java:209<span class="token punctuation">)</span>
	at hudson.model.Run.execute<span class="token punctuation">(</span>Run.java:1957<span class="token punctuation">)</span>
	at hudson.model.FreeStyleBuild.run<span class="token punctuation">(</span>FreeStyleBuild.java:43<span class="token punctuation">)</span>
	at hudson.model.ResourceController.execute<span class="token punctuation">(</span>ResourceController.java:100<span class="token punctuation">)</span>
	at hudson.model.Executor.run<span class="token punctuation">(</span>Executor.java:432<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_40"></a>解决方法</h4> 
<hr> 
<p>原因是 调用钉钉服务很慢，偶尔会报java.net.UnknownHostException: oapi.dingtalk.com<br> ping 一下 oapi.dingtalk.com<br> 得到IP地址 106.11.43.160</p> 
<pre><code class="prism language-shell"><span class="token punctuation">[</span>root@k8s-master01 ~<span class="token punctuation">]</span><span class="token comment"># ping oapi.dingtalk.com</span>
PING cname.dingtalk.com.gds.alibabadns.com <span class="token punctuation">(</span>106.11.43.160<span class="token punctuation">)</span> 56<span class="token punctuation">(</span>84<span class="token punctuation">)</span> bytes of data.
64 bytes from 106.11.43.160 <span class="token punctuation">(</span>106.11.43.160<span class="token punctuation">)</span>: icmp_seq<span class="token operator">=</span>1 ttl<span class="token operator">=</span>83 time<span class="token operator">=</span>7.49 ms
64 bytes from 106.11.43.160 <span class="token punctuation">(</span>106.11.43.160<span class="token punctuation">)</span>: icmp_seq<span class="token operator">=</span>2 ttl<span class="token operator">=</span>83 time<span class="token operator">=</span>7.34 ms
64 bytes from 106.11.43.160 <span class="token punctuation">(</span>106.11.43.160<span class="token punctuation">)</span>: icmp_seq<span class="token operator">=</span>3 ttl<span class="token operator">=</span>83 time<span class="token operator">=</span>7.32 ms
^C
--- cname.dingtalk.com.gds.alibabadns.com <span class="token function">ping</span> statistics ---
6 packets transmitted, 6 received, 0% packet loss, <span class="token function">time</span> 11ms
rtt min/avg/max/mdev <span class="token operator">=</span> 7.315/7.414/7.492/0.115 ms
</code></pre> 
<p>把 106.11.43.160 oapi.dingtalk.com 配置到hosts里面</p> 
<pre><code class="prism language-shell">vim /etc/hosts
106.11.43.160 oapi.dingtalk.com
</code></pre> 
<p>CSDN_码404：钉钉接口报错java.net.UnknownHostException: oapi.dingtalk.com_无法访问oapi.dingtalk.com</p> 
<p>https://www.code404.icu/898.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/76add7259a5a6a8fa67fdfee08cf000c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">关于调式dll总崩溃的解决方案</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8ec549ac89541fe9a82c57b09ec760fd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">计算机无法跳转登录页面,电脑密码登录页面的“登录选项”无法打开怎么办?...</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>