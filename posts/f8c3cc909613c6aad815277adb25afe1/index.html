<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue 动态改变主题颜色 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue 动态改变主题颜色" />
<meta property="og:description" content="实现效果
一。应用方法
1.css3伪类选择器 2.CSSStyleDeclaration.setProperty() 方法接口为一个声明了 CSS 样式的对象设置一个新的值 。
语法 style.setProperty(propertyName, value, priority);
参数
propertyName 是一个 DOMString ，代表被更改的 CSS 属性。value可选 是一个 DOMString ，含有新的属性值。如果没有指定，则当作空字符串。 注意: value 不能包含 &#34;!important&#34; --那个应该使用 priority 参数。priority可选 是一个 DOMString 允许设置 &#34;important&#34; CSS 优先级。如果没有指定，则当作空字符串 二。定义主题颜色（黑、白）
创建一个theme.json文件，定义变量名称以及对应颜色（字体、背景、边框颜色等）
{ &#34;white&#34;:{ &#34;--maintextcolor&#34;: &#34;#222222&#34;, &#34;--mainbgcolor&#34;: &#34;#ffffff&#34;, &#34;--mainbordercolor&#34;:&#34;1px solid #CDD6F0&#34;, &#34;--otherbgcolor&#34;:&#34;#CDD6F0&#34;, &#34;--hovercolor&#34;:&#34;#F5F7FA&#34;, &#34;--webkitbgcolor&#34;:&#34;#EFEFEF&#34;, &#34;--webkitbtncolor&#34;:&#34;#BFBFBF&#34;, &#34;--disablecolor&#34;:&#34;#e3e3e3&#34;, &#34;--disabletextcolor&#34;:&#34;#7c7575&#34;, &#34;--paginationcolor&#34;:&#34;rgba(48,93,190,0.10)&#34;, &#34;--paginationbordercolor&#34;:&#34;1px solid #305DBE&#34;, &#34;--buttonbgcolor&#34;:&#34;rgba(48,93,190,0.16)&#34;, &#34;--buttoncolor&#34;:&#34;#305DBE&#34;, &#34;--buttonbordercolor&#34;:&#34;1px solid rgba(48,93,190,0.7)&#34;, &#34;--buttonborderredcolor&#34;:&#34;1px solid rgba(222,80,68,0.7)&#34;, &#34;--buttonredcolor&#34;:&#34;#DE5044&#34;, &#34;--buttonbgredcolor&#34;:&#34;rgba(222,80,68,0.16)&#34; }, &#34;black&#34;:{ &#34;--maintextcolor&#34;: &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/f8c3cc909613c6aad815277adb25afe1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-11T15:31:36+08:00" />
<meta property="article:modified_time" content="2022-07-11T15:31:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue 动态改变主题颜色</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>实现效果</p> 
<p><img alt="" height="136" src="https://images2.imgbox.com/a8/36/QNZglSTI_o.png" width="284"><img alt="" height="168" src="https://images2.imgbox.com/37/ac/mbSt1o0X_o.png" width="351"></p> 
<p> 一。应用方法</p> 
<p> 1.css3伪类选择器   </p> 
<p>2.<strong><code>CSSStyleDeclaration.setProperty()</code></strong> 方法接口为一个声明了 CSS 样式的对象设置一个新的值 。</p> 
<p>   语法   <em>style</em>.setProperty(<em>propertyName</em>, <em>value, priority</em>);</p> 
<p>    参数</p> 
<ul><li><em><code>propertyName</code></em> 是一个 <a href="https://developer.mozilla.org/zh-CN/docs/conflicting/Web/JavaScript/Reference/Global_Objects/String_6fa58bba0570d663099f0ae7ae8883ab" rel="nofollow" title="DOMString">DOMString</a> ，代表被更改的 CSS 属性。</li><li><em><code>value</code></em>可选 是一个 <a href="https://developer.mozilla.org/zh-CN/docs/conflicting/Web/JavaScript/Reference/Global_Objects/String_6fa58bba0570d663099f0ae7ae8883ab" rel="nofollow" title="DOMString">DOMString</a> ，含有新的属性值。如果没有指定，则当作空字符串。 
  <ul><li>注意: <em><code>value</code></em> 不能包含 <code>"!important"</code> --那个应该使用 <em><code>priority</code></em> 参数。</li></ul></li><li><em><code>priority</code></em>可选 是一个 <a href="https://developer.mozilla.org/zh-CN/docs/conflicting/Web/JavaScript/Reference/Global_Objects/String_6fa58bba0570d663099f0ae7ae8883ab" rel="nofollow" title="DOMString">DOMString</a> 允许设置 "important" CSS 优先级。如果没有指定，则当作空字符串</li></ul> 
<p> 二。定义主题颜色（黑、白）</p> 
<p>        创建一个theme.json文件，定义变量名称以及对应颜色（字体、背景、边框颜色等）</p> 
<pre><code class="language-css">{
    "white":{
        "--maintextcolor": "#222222",
        "--mainbgcolor": "#ffffff",
        "--mainbordercolor":"1px solid #CDD6F0",
        "--otherbgcolor":"#CDD6F0",
        "--hovercolor":"#F5F7FA",
        "--webkitbgcolor":"#EFEFEF",
        "--webkitbtncolor":"#BFBFBF",
        "--disablecolor":"#e3e3e3",
        "--disabletextcolor":"#7c7575",
        "--paginationcolor":"rgba(48,93,190,0.10)",
        "--paginationbordercolor":"1px solid #305DBE",
        "--buttonbgcolor":"rgba(48,93,190,0.16)",
        "--buttoncolor":"#305DBE",
        "--buttonbordercolor":"1px solid rgba(48,93,190,0.7)",
        "--buttonborderredcolor":"1px solid rgba(222,80,68,0.7)",
        "--buttonredcolor":"#DE5044",
        "--buttonbgredcolor":"rgba(222,80,68,0.16)"
    },
    "black":{
        "--maintextcolor": "#ffffff",
        "--mainbgcolor": "#28282B",
        "--mainbordercolor":"1px solid rgb(255,255,255,0.25)",
        "--otherbgcolor":"#3E4D6C",
        "--hovercolor":"#193b6a",
        "--webkitbgcolor":"#222",
        "--webkitbtncolor":"#666",
        "--disablecolor":"#7c7575",
        "--disabletextcolor":"#e3e3e3",
        "--paginationcolor":"#449DFF",
        "--paginationbordercolor":"none",
        "--buttonbgcolor":"rgba(48,93,190,0.16)",
        "--buttonbordercolor":"1px solid rgba(68,157,255,0.35)",
        "--buttonborderredcolor":"1px solid rgba(222,80,68,0.35);",
        "--buttoncolor":"#449DFF",
        "--buttonredcolor":"#DE5044"
    }
}</code></pre> 
<p>三。将样式通过切换按钮动态添加到html上</p> 
<p>    创建 addcolor.js文件</p> 
<pre><code class="language-javascript">// 主题样式
import themes from './theme.json'


export function addColor (init){
    const theme = localStorage.theme
    const {white,black,obj={}} = themes
  
    // 1.localStorage.theme 不存在默认黑色 2.存在并且刷新页面不改变主题 3.存在并且点切换才改变主题
    if(!theme){
        localStorage.setItem('theme','black')
        Object.assign(obj,black)
    }else {
        if(init)
            Object.assign(obj,theme == 'black'? black : white)
        else{
            localStorage.setItem('theme',theme == 'black'?' white' : 'black')
            Object.assign(obj,theme == 'black'? white : black)
        }
    }
    // html 添加主题样式
    for (const key in obj) {
        document.documentElement.style.setProperty(key, obj[key]);
    }
}</code></pre> 
<p>在页面上使用addcolor方法</p> 
<pre><code class="language-javascript">&lt;el-button @click="addColor(false)" class="btn"&gt;换肤&lt;/el-button&gt;


&lt;script&gt;
import { addColor } from '../utils/style/addcolor';
export default {
  name: 'Layout',
  methods: {
    addColor(){
      console.log('换肤');
      addColor()
    }
  }
}
&lt;/script&gt;</code></pre> 
<p>四。第一次加载页面或者刷新加载页面要调用一次addColor方法，在main.js引入进行调用</p> 
<pre><code class="language-javascript">import Vue from 'vue'
import echarts from 'echarts'
import 'normalize.css/normalize.css' // A modern alternative to CSS resets

import ElementUI from 'element-ui'
import 'element-ui/lib/theme-chalk/index.css'
import multiCascader from '@/components/multiCascader/index'
import elTableInfiniteScroll from 'el-table-infinite-scroll'
import '@/styles/index.scss' // global css
import '@/styles/standingBook.scss' // standingBook css

import App from './App'
import store from './store'
import router from './router'


// 中文版 element-ui
Vue.use(ElementUI)
Vue.use(multiCascader) // 级联选择器
Vue.config.productionTip = false
Vue.use(elTableInfiniteScroll)


import { addColor } from './utils/style/addcolor';
addColor(true)

new Vue({
  el: '#app',
  router,
  store,
  render: h =&gt; h(App)
})
</code></pre> 
<p>五。在项目中应用css（ 在style样式中通过var()进行使用 ）</p> 
<pre><code class="language-css">.shrink {
    margin-left: 32px;
    /deep/ .el-transfer-panel {
      width: 244px;
      height: 338px;
      //应用设置好的主题css样式
      background-color: var(--mainbgcolor);
      border: var(--mainbordercolor);
      .el-transfer-panel__header {
        background-color: var(--mainbgcolor);
        border: var(--mainbordercolor);
        .el-checkbox {
          .el-checkbox__label {
            font-size: 14px;
            color: var(--maintextcolor);
            font-weight: 600;
            span {
              color: var(--maintextcolor);
            }
          }
        }
      }
    }
    // 穿梭框中心内容样式
    /deep/ .el-transfer-panel__body {
      .el-transfer-panel__filter {
        input {
          background-color: var(--mainbgcolor);
          border: var(--mainbordercolor);
          width: 196px;
          height: 32px;
          border-radius: 0;
          border-radius: 4px;
        }
      }
      .el-checkbox-group {
        span {
          color: var(--maintextcolor);
        }
      }
      .el-checkbox-group::-webkit-scrollbar {
        width: 0px;
      }
    }
    // 穿梭框的中间按钮样式
    &gt;&gt;&gt; .el-transfer__buttons {
      .el-button {
        border-radius: 4px;
        border: var(--mainbordercolor);
        background: var(--mainbgcolor);
        color: var(--maintextcolor);
      }
      .el-button--primary.is-disabled {
        border-radius: 4px;
        border: var(--mainbordercolor);
        background: var(--mainbgcolor);
        color: var(--maintextcolor);
      }
    }
  }
  /deep/ .el-dialog {
    width: 750px;
    height: 545px;
    .dialog-footer {
      text-align: center;
    }
  }
  .el-button{
    background: var(--buttonbgcolor);
    padding: 6px 8px;
    color: var(--buttoncolor);
    border: var(--buttonbordercolor);
  }</code></pre> 
<p>参考博客：<a class="link-info has-card" href="https://blog.csdn.net/qq_42570449/article/details/121689015?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~aggregatepage~first_rank_ecpm_v1~rank_v31_ecpm-11-121689015-null-null.pc_agg_new_rank&amp;utm_term=vue+%E6%9B%B4%E6%8D%A2%E6%8C%89%E9%92%AE%E7%9A%84%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2+%E7%82%B9%E5%87%BB%E6%8C%89%E9%92%AE&amp;spm=1000.2123.3001.4430" title="https://blog.csdn.net/qq_42570449/article/details/121689015?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~aggregatepage~first_rank_ecpm_v1~rank_v31_ecpm-11-121689015-null-null.pc_agg_new_rank&amp;utm_term=vue+%E6%9B%B4%E6%8D%A2%E6%8C%89%E9%92%AE%E7%9A%84%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2+%E7%82%B9%E5%87%BB%E6%8C%89%E9%92%AE&amp;spm=1000.2123.3001.4430"><span class="link-card-box"><span class="link-title">https://blog.csdn.net/qq_42570449/article/details/121689015?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~aggregatepage~first_rank_ecpm_v1~rank_v31_ecpm-11-121689015-null-null.pc_agg_new_rank&amp;utm_term=vue+%E6%9B%B4%E6%8D%A2%E6%8C%89%E9%92%AE%E7%9A%84%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2+%E7%82%B9%E5%87%BB%E6%8C%89%E9%92%AE&amp;spm=1000.2123.3001.4430</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/92/bf/gsKwtL34_o.png" alt="icon-default.png?t=M666">https://blog.csdn.net/qq_42570449/article/details/121689015?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~aggregatepage~first_rank_ecpm_v1~rank_v31_ecpm-11-121689015-null-null.pc_agg_new_rank&amp;utm_term=vue+%E6%9B%B4%E6%8D%A2%E6%8C%89%E9%92%AE%E7%9A%84%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2+%E7%82%B9%E5%87%BB%E6%8C%89%E9%92%AE&amp;spm=1000.2123.3001.4430</span></span></a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0b2b0210dff71575c6d56c8b535843cb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">HCIP----综合实验</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e817a45ed40c5f8178bbdfe7f4e166ea/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">libtorch cmake</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>