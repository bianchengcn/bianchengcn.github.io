<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>java WebService接口调用，传JSON参数 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="java WebService接口调用，传JSON参数" />
<meta property="og:description" content="转自：http://zheyiw.iteye.com/blog/1571222
import java.io.IOException; import java.io.InputStream; import java.io.OutputStreamWriter; import java.net.HttpURLConnection; import java.net.URL; public class Copy_2_of_PostDemo { final static String url = &#34;&#34;; final static String params = &#34;{\&#34;id\&#34;:\&#34;12345\&#34;}&#34;; /** * 发送HttpPost请求 * * @param strURL * 服务地址 * @param params * json字符串,例如: &#34;{ \&#34;id\&#34;:\&#34;12345\&#34; }&#34; ;其中属性名必须带双引号&lt;br/&gt; * @return 成功:返回json字符串&lt;br/&gt; */ public static String post(String strURL, String params) { System.out.println(strURL); System.out.println(params); try { URL url = new URL(strURL);// 创建连接 HttpURLConnection connection = (HttpURLConnection) url ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/caf9398ebfe4c79463becb7ef492eda2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-03-20T11:28:28+08:00" />
<meta property="article:modified_time" content="2018-03-20T11:28:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">java WebService接口调用，传JSON参数</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <ol start="1" class="dp-j" style="margin-bottom:1px;padding-top:2px;padding-bottom:2px;border:1px solid rgb(209,215,220);background-color:rgb(255,255,255);color:rgb(43,145,175);font-family:Monaco, 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', Consolas, 'Courier New', monospace;font-size:1em;text-align:left;line-height:1.4em;"><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;"><span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;"><span style="color:rgb(192,192,192);font-family:Verdana, Geneva, Arial, Helvetica, sans-serif;font-size:12px;text-align:left;background-color:rgb(248,248,248);"><strong>转自：http://zheyiw.iteye.com/blog/1571222</strong></span><br></span></span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;"><span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;"><br></span></span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;"><span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;"><br></span></span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;"><span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;"><br></span></span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;"><span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">import</span> java.io.IOException;  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;"><span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">import</span> java.io.InputStream;  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;"><span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">import</span> java.io.OutputStreamWriter;  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;"><span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">import</span> java.net.HttpURLConnection;  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;"><span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">import</span> java.net.URL;  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;"><span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">public</span> <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">class</span> Copy_2_of_PostDemo {  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">    <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">final</span> <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">static</span> String url = <span class="string" style="margin:0px;padding:0px;border:none;color:#0000FF;background-color:inherit;">""</span>;  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">    <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">final</span> <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">static</span> String params = <span class="string" style="margin:0px;padding:0px;border:none;color:#0000FF;background-color:inherit;">"{\"id\":\"12345\"}"</span>;  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">    <span class="comment" style="margin:0px;padding:0px;border:0px;color:rgb(0,130,0);background-color:inherit;width:auto;">/**</span> </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;"><span class="comment" style="margin:0px;padding:0px;border:0px;color:rgb(0,130,0);background-color:inherit;width:auto;">     * 发送HttpPost请求</span> </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;"><span class="comment" style="margin:0px;padding:0px;border:0px;color:rgb(0,130,0);background-color:inherit;width:auto;">     * </span> </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;"><span class="comment" style="margin:0px;padding:0px;border:0px;color:rgb(0,130,0);background-color:inherit;width:auto;">     * @param strURL</span> </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;"><span class="comment" style="margin:0px;padding:0px;border:0px;color:rgb(0,130,0);background-color:inherit;width:auto;">     *            服务地址</span> </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;"><span class="comment" style="margin:0px;padding:0px;border:0px;color:rgb(0,130,0);background-color:inherit;width:auto;">     * @param params</span> </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;"><span class="comment" style="margin:0px;padding:0px;border:0px;color:rgb(0,130,0);background-color:inherit;width:auto;">     *            json字符串,例如: "{ \"id\":\"12345\" }" ;其中属性名必须带双引号&lt;br/&gt;</span> </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;"><span class="comment" style="margin:0px;padding:0px;border:0px;color:rgb(0,130,0);background-color:inherit;width:auto;">     * @return 成功:返回json字符串&lt;br/&gt;</span> </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;"><span class="comment" style="margin:0px;padding:0px;border:0px;color:rgb(0,130,0);background-color:inherit;width:auto;">     */</span>  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">    <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">public</span> <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">static</span> String post(String strURL, String params) {  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">        System.out.println(strURL);  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">        System.out.println(params);  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">        <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">try</span> {  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            URL url = <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">new</span> URL(strURL);<span class="comment" style="margin:0px;padding:0px;border:0px;color:rgb(0,130,0);background-color:inherit;width:auto;">// 创建连接</span>  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            HttpURLConnection connection = (HttpURLConnection) url  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">                    .openConnection();  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            connection.setDoOutput(<span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">true</span>);  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            connection.setDoInput(<span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">true</span>);  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            connection.setUseCaches(<span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">false</span>);  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            connection.setInstanceFollowRedirects(<span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">true</span>);  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            connection.setRequestMethod(<span class="string" style="margin:0px;padding:0px;border:none;color:#0000FF;background-color:inherit;">"POST"</span>); <span class="comment" style="margin:0px;padding:0px;border:0px;color:rgb(0,130,0);background-color:inherit;width:auto;">// 设置请求方式</span>  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            connection.setRequestProperty(<span class="string" style="margin:0px;padding:0px;border:none;color:#0000FF;background-color:inherit;">"Accept"</span>, <span class="string" style="margin:0px;padding:0px;border:none;color:#0000FF;background-color:inherit;">"application/json"</span>); <span class="comment" style="margin:0px;padding:0px;border:0px;color:rgb(0,130,0);background-color:inherit;width:auto;">// 设置接收数据的格式</span>  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            connection.setRequestProperty(<span class="string" style="margin:0px;padding:0px;border:none;color:#0000FF;background-color:inherit;">"Content-Type"</span>, <span class="string" style="margin:0px;padding:0px;border:none;color:#0000FF;background-color:inherit;">"application/json"</span>); <span class="comment" style="margin:0px;padding:0px;border:0px;color:rgb(0,130,0);background-color:inherit;width:auto;">// 设置发送数据的格式</span>  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            connection.connect();  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            OutputStreamWriter out = <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">new</span> OutputStreamWriter(  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">                    connection.getOutputStream(), <span class="string" style="margin:0px;padding:0px;border:none;color:#0000FF;background-color:inherit;">"UTF-8"</span>); <span class="comment" style="margin:0px;padding:0px;border:0px;color:rgb(0,130,0);background-color:inherit;width:auto;">// utf-8编码</span>  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            out.append(params);  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            out.flush();  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            out.close();  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            <span class="comment" style="margin:0px;padding:0px;border:0px;color:rgb(0,130,0);background-color:inherit;width:auto;">// 读取响应</span>  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">int</span> length = (<span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">int</span>) connection.getContentLength();<span class="comment" style="margin:0px;padding:0px;border:0px;color:rgb(0,130,0);background-color:inherit;width:auto;">// 获取长度</span>  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            InputStream is = connection.getInputStream();  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">if</span> (length != -<span class="number" style="margin:0px;padding:0px;border:none;color:rgb(192,0,0);background-color:inherit;">1</span>) {  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">                <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">byte</span>[] data = <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">new</span> <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">byte</span>[length];  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">                <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">byte</span>[] temp = <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">new</span> <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">byte</span>[<span class="number" style="margin:0px;padding:0px;border:none;color:rgb(192,0,0);background-color:inherit;">512</span>];  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">                <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">int</span> readLen = <span class="number" style="margin:0px;padding:0px;border:none;color:rgb(192,0,0);background-color:inherit;">0</span>;  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">                <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">int</span> destPos = <span class="number" style="margin:0px;padding:0px;border:none;color:rgb(192,0,0);background-color:inherit;">0</span>;  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">                <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">while</span> ((readLen = is.read(temp)) &gt; <span class="number" style="margin:0px;padding:0px;border:none;color:rgb(192,0,0);background-color:inherit;">0</span>) {  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">                    System.arraycopy(temp, <span class="number" style="margin:0px;padding:0px;border:none;color:rgb(192,0,0);background-color:inherit;">0</span>, data, destPos, readLen);  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">                    destPos += readLen;  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">                }  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">                String result = <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">new</span> String(data, <span class="string" style="margin:0px;padding:0px;border:none;color:#0000FF;background-color:inherit;">"UTF-8"</span>); <span class="comment" style="margin:0px;padding:0px;border:0px;color:rgb(0,130,0);background-color:inherit;width:auto;">// utf-8编码</span>  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">                System.out.println(result);  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">                <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">return</span> result;  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            }  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">        } <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">catch</span> (IOException e) {  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            <span class="comment" style="margin:0px;padding:0px;border:0px;color:rgb(0,130,0);background-color:inherit;width:auto;">// TODO Auto-generated catch block</span>  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">            e.printStackTrace();  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">        }  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">        <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">return</span> <span class="string" style="margin:0px;padding:0px;border:none;color:#0000FF;background-color:inherit;">"error"</span>; <span class="comment" style="margin:0px;padding:0px;border:0px;color:rgb(0,130,0);background-color:inherit;width:auto;">// 自定义错误信息</span>  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">    }  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">    <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">public</span> <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">static</span> <span class="keyword" style="margin:0px;padding:0px;font-weight:bold;background-color:inherit;color:rgb(127,0,85);font-size:14px;border:none;">void</span> main(String[] args) {  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">        post(url, params);  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">    }  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">  </span></li><li style="margin:0px 0px 0px 38px;padding:0px 0px 0px 10px;border-top:none;border-right:none;border-bottom:none;border-left:1px solid rgb(209,215,220);background-color:rgb(250,250,250);color:rgb(92,92,92);line-height:18px;font-size:1em;list-style-position:outside;"><span style="margin:0px;padding:0px;border:none;color:#000000;background-color:inherit;">}  </span></li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/98b887076ffc482917689bee58e5fbce/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">结构体变量的输入输出</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b6150a024fafbbd1dbcbb571d51c718a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Mybatis select返回多个list，但为啥只有一条记录</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>