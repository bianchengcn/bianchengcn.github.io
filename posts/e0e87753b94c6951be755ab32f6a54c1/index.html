<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>hive函数大全详细解释&#43;简单运用 - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="hive函数大全详细解释&#43;简单运用" />
<meta property="og:description" content="tab_name解释案例结果！逻辑 非select !trueTRUE!=不等值比较select 2!=1FALSE%取余select 3%21&amp;按位与select 3&amp;5 from src limit1*乘法select 2*36&#43;加法select 2&#43;35-减法select 3-12/除法select 3/21.5&lt;小于select 2&lt;3TRUE&lt;=小于等于select 2&lt;=3TRUE&lt;=&gt;等值比较select 1&lt;=&gt;2FALSE&lt;&gt;不等值比较select 2 &lt;&gt; 3TRUE=等值比较select 2 == 2TRUE&gt;大于select 3 &gt; 4FALSE&gt;=大于等于select 3&gt;=2TRUE^运算符查看两个参数的二进制表示法的值,并执行按位”异或”操作select 5^129abs绝对值函数select abs(-9)9acos反余弦函数select acos(2) from src limit 1;0add_months日期加减月select add_months(‘2009-08-31’, 1) from src limit 1;2009-09-30and逻辑与array构造数组构造数组[1,2,3]array_contains判断元素数组是否包含元素select array_contains(array(“aa”,“bb”,“cc”),“aa”)TRUEascii返回字符串第一个字符的ascii码select ascii(‘abc’)97asin反正弦函数select asin（2）from src limit 1;空值assert_true如果’condition’不为真，则抛出异常。SELECT assert_true（x&gt; = 0）FROM src LIMIT 1;空值atan- 返回x的atan（arctan）（x是弧度）SELECT atan（0）FROM src LIMIT 1;0avg平均值统计函数select avg(数值字段)base64将参数从二进制转换为base 64字符串between在[NOT] BETWEEN b和c之间 - 评估a是否在b和c之间bin二进制函数select bin(4)100case条件判断函数case a when b then c [when d then e] [else f] END如果a=b就返回c,a=d就返回e，否则返回fcbrt返回double值的立方根。SELECT cbrt（27." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/e0e87753b94c6951be755ab32f6a54c1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-09-05T17:08:50+08:00" />
<meta property="article:modified_time" content="2020-09-05T17:08:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">hive函数大全详细解释&#43;简单运用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <table><thead><tr><th align="center">tab_name</th><th align="right">解释</th><th align="right">案例</th><th align="right">结果</th></tr></thead><tbody><tr><td align="center">！</td><td align="right">逻辑 非</td><td align="right">select !true</td><td align="right">TRUE</td></tr><tr><td align="center">!=</td><td align="right">不等值比较</td><td align="right">select 2!=1</td><td align="right">FALSE</td></tr><tr><td align="center">%</td><td align="right">取余</td><td align="right">select 3%2</td><td align="right">1</td></tr><tr><td align="center">&amp;</td><td align="right">按位与</td><td align="right">select 3&amp;5 from src limit</td><td align="right">1</td></tr><tr><td align="center">*</td><td align="right">乘法</td><td align="right">select 2*3</td><td align="right">6</td></tr><tr><td align="center">+</td><td align="right">加法</td><td align="right">select 2+3</td><td align="right">5</td></tr><tr><td align="center">-</td><td align="right">减法</td><td align="right">select 3-1</td><td align="right">2</td></tr><tr><td align="center">/</td><td align="right">除法</td><td align="right">select 3/2</td><td align="right">1.5</td></tr><tr><td align="center">&lt;</td><td align="right">小于</td><td align="right">select 2&lt;3</td><td align="right">TRUE</td></tr><tr><td align="center">&lt;=</td><td align="right">小于等于</td><td align="right">select 2&lt;=3</td><td align="right">TRUE</td></tr><tr><td align="center">&lt;=&gt;</td><td align="right">等值比较</td><td align="right">select 1&lt;=&gt;2</td><td align="right">FALSE</td></tr><tr><td align="center">&lt;&gt;</td><td align="right">不等值比较</td><td align="right">select 2 &lt;&gt; 3</td><td align="right">TRUE</td></tr><tr><td align="center">=</td><td align="right">等值比较</td><td align="right">select 2 == 2</td><td align="right">TRUE</td></tr><tr><td align="center">&gt;</td><td align="right">大于</td><td align="right">select 3 &gt; 4</td><td align="right">FALSE</td></tr><tr><td align="center">&gt;=</td><td align="right">大于等于</td><td align="right">select 3&gt;=2</td><td align="right">TRUE</td></tr><tr><td align="center">^</td><td align="right">运算符查看两个参数的二进制表示法的值,并执行按位”异或”操作</td><td align="right">select 5^12</td><td align="right">9</td></tr><tr><td align="center">abs</td><td align="right">绝对值函数</td><td align="right">select abs(-9)</td><td align="right">9</td></tr><tr><td align="center">acos</td><td align="right">反余弦函数</td><td align="right">select acos(2) from src limit 1;</td><td align="right">0</td></tr><tr><td align="center">add_months</td><td align="right">日期加减月</td><td align="right">select add_months(‘2009-08-31’, 1) from src limit 1;</td><td align="right">2009-09-30</td></tr><tr><td align="center">and</td><td align="right">逻辑与</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">array</td><td align="right">构造数组</td><td align="right">构造数组</td><td align="right">[1,2,3]</td></tr><tr><td align="center">array_contains</td><td align="right">判断元素数组是否包含元素</td><td align="right">select array_contains(array(“aa”,“bb”,“cc”),“aa”)</td><td align="right">TRUE</td></tr><tr><td align="center">ascii</td><td align="right">返回字符串第一个字符的ascii码</td><td align="right">select ascii(‘abc’)</td><td align="right">97</td></tr><tr><td align="center">asin</td><td align="right">反正弦函数</td><td align="right">select asin（2）from src limit 1;</td><td align="right">空值</td></tr><tr><td align="center">assert_true</td><td align="right">如果’condition’不为真，则抛出异常。</td><td align="right">SELECT assert_true（x&gt; = 0）FROM src LIMIT 1;</td><td align="right">空值</td></tr><tr><td align="center">atan</td><td align="right">- 返回x的atan（arctan）（x是弧度）</td><td align="right">SELECT atan（0）FROM src LIMIT 1;</td><td align="right">0</td></tr><tr><td align="center">avg</td><td align="right">平均值统计函数</td><td align="right">select avg(数值字段)</td><td align="right"></td></tr><tr><td align="center">base64</td><td align="right">将参数从二进制转换为base 64字符串</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">between</td><td align="right">在[NOT] BETWEEN b和c之间 - 评估a是否在b和c之间</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">bin</td><td align="right">二进制函数</td><td align="right">select bin(4)</td><td align="right">100</td></tr><tr><td align="center">case</td><td align="right">条件判断函数</td><td align="right">case a when b then c [when d then e] [else f] END</td><td align="right">如果a=b就返回c,a=d就返回e，否则返回f</td></tr><tr><td align="center">cbrt</td><td align="right">返回double值的立方根。</td><td align="right">SELECT cbrt（27.0）;</td><td align="right">3.0</td></tr><tr><td align="center">ceil</td><td align="right">向上取整函数，返回等于或者大于该double变量的最小的整数</td><td align="right">select ceil(6.1);</td><td align="right">7</td></tr><tr><td align="center">ceiling</td><td align="right">向上取整函数，返回等于或者大于该double变量的最小的整数</td><td align="right">select ceil(6.2);</td><td align="right">7</td></tr><tr><td align="center">coalesce</td><td align="right">非空查找函数,返回第一非null的值</td><td align="right">coalesce(null,1,2)</td><td align="right">1</td></tr><tr><td align="center">collect_list</td><td align="right">集合不去重函数</td><td align="right">将 rst字段合并成一个数组,不去重</td><td align="right"></td></tr><tr><td align="center">collect_set</td><td align="right">集合去重数</td><td align="right">rst字段进行合并成一个数组，去重</td><td align="right"></td></tr><tr><td align="center">compute_stats</td><td align="right">返回一组基本类型值的统计摘要</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">concat</td><td align="right">字符串连接函数</td><td align="right">select concat(‘ab’,‘c’,‘d’)</td><td align="right">abcd</td></tr><tr><td align="center">concat_ws</td><td align="right">带分隔符字符串连接函数/数组转换成字符串的函数</td><td align="right">select concat(’.’,‘ab’,‘c’,‘d’)</td><td align="right">ab.c.d</td></tr><tr><td align="center">context_ngrams</td><td align="right"></td><td align="right"></td><td align="right"></td></tr><tr><td align="center">conv</td><td align="right">进制转换函数conv(BIGINT num, int from_base, int to_base)</td><td align="right">select conv(17,10,2)</td><td align="right">10001</td></tr><tr><td align="center">corr</td><td align="right">返回组数字对之间的Pearson相关系数该函数将任意一对数字类型作为参数，并返回一个double。任何具有NULL的对都将被忽略。如果应用于空集：返回NULL。</td><td align="right">如果N * SUM（x * x）= SUM（x）* SUM（x）：返回NULL。</td><td align="right"></td></tr><tr><td align="center">如果N * SUM（y * y）= SUM（y）* SUM（y）：返回NULL。</td><td align="right"></td><td align="right"></td><td align="right"></td></tr><tr><td align="center">cos</td><td align="right">返回x的余弦值（x是弧度）</td><td align="right">SELECT cos（0）FROM src LIMIT 1</td><td align="right">1</td></tr><tr><td align="center">count</td><td align="right">个数统计函数</td><td align="right">select count(*)</td><td align="right"></td></tr><tr><td align="center">covar_pop</td><td align="right">返回一组数字对的总体协方差该函数将任意一对数字类型作为参数，并返回一个double.任何具有NULL的对都将被忽略。如果该函数应用于空集，则返回NULL 。否则，它计算以下内容:（SUM（x * y）-SUM（x）* SUM（y）/ COUNT（x，y））/ COUNT（x，y）其中x和y都不为空。</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">covar_samp</td><td align="right">covar_samp（x，y） - 返回一组数字对的样本协方差该函数将任意一对数字类型作为参数，并返回一个double。任何具有NULL的对都将被忽略。如果应用于空集：返回NULL。如果应用于具有单个元素的集合：将返回NULL。</td><td align="right">（SUM（x * y）-SUM（x）* SUM（y）/ COUNT（x，y））/（COUNT（x，y）-1）其中x和y都不为null 。</td><td align="right">1</td></tr><tr><td align="center">crc32</td><td align="right">计算字符串或二进制参数的循环冗余校验值并返回bigint值。</td><td align="right">SELECT crc32（‘ABC’）;</td><td align="right">2743272264</td></tr><tr><td align="center">create_union</td><td align="right">create_union (tag, val1, val2, …) 使用给定的 tag 和表达式，构造一个 union类型数据结构。tag 表示使用第 tag 个</td><td align="right">select create_union(0,‘ss’,array(1,2,3))</td><td align="right">{0:“ss”}</td></tr><tr><td align="center">cume_dist</td><td align="right"></td><td align="right"></td><td align="right"></td></tr><tr><td align="center">current_database</td><td align="right">当前使用数据库名称返回</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">current_date</td><td align="right">当前日期</td><td align="right">select current_date()</td><td align="right">2020/8/29</td></tr><tr><td align="center">current_timestamp</td><td align="right">当前的日期加时间</td><td align="right">select current_timestamp</td><td align="right">2020/8/29 15:15</td></tr><tr><td align="center">current_user</td><td align="right">返回当前用户名</td><td align="right">select current_user</td><td align="right">root</td></tr><tr><td align="center">date_add</td><td align="right">日期加天数</td><td align="right">select date_add(‘2020-8-29’,1)</td><td align="right">2020/8/30</td></tr><tr><td align="center">date_format</td><td align="right">日期格式fmt指定的格式将日期/时间戳/字符串转换为字符串值。</td><td align="right">SELECT date_format（‘2015-04-08’，‘y’）;</td><td align="right">‘2015’</td></tr><tr><td align="center">date_sub</td><td align="right">日期减天数</td><td align="right">select date_sub(‘2020-8-29’,1)</td><td align="right">2020/8/28</td></tr><tr><td align="center">datediff</td><td align="right">两个日期相差的天数</td><td align="right">select datediff(‘2020-8-29’,1)</td><td align="right">2020/8/28</td></tr><tr><td align="center">day</td><td align="right">日期转天函数</td><td align="right">select day(‘2020-8-29 13:50:9’)</td><td align="right">29</td></tr><tr><td align="center">dayofmonth</td><td align="right">当前时间是一个月中的第几天</td><td align="right">SELECT dayofmonth（‘2009-07-30’）FROM src LIMIT 1;</td><td align="right">29</td></tr><tr><td align="center">dayofweek</td><td align="right">返回日期/时间戳的星期几</td><td align="right">SELECT dayofweek （‘2009-07-30’）FROM src LIMIT 1</td><td align="right">五</td></tr><tr><td align="center">decode</td><td align="right">使用第二个参数字符集解码第一个参数字符集的可能选项是’US-ASCII’，‘ISO-8859-1’，‘UTF-8’，‘UTF-16BE’， ‘UTF-16LE’和’UTF-16’。如果任一参数为null，则结果也将为null</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">degrees</td><td align="right">将弧度转换为度数</td><td align="right">SELECT degrees（30）FROM src LIMIT 1</td><td align="right">-1</td></tr><tr><td align="center">dense_rank</td><td align="right">函数’dense_rank’没有文档</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">div</td><td align="right">将a除以b舍入为长整数</td><td align="right">SELECT 3 div 2 FROM src LIMIT 1;</td><td align="right">1</td></tr><tr><td align="center">e</td><td align="right">返回E</td><td align="right">SELECT e（）FROM src LIMIT 1;</td><td align="right">2.718281828459045</td></tr><tr><td align="center">elt</td><td align="right">返回第n个字符串</td><td align="right">SELECT elt（1，‘face’，‘book’）FROM src LIMIT 1;</td><td align="right">‘面对’</td></tr><tr><td align="center">encode</td><td align="right">使用第二个参数字符集对第一个参数进行编码字符集的可能选项是“US-ASCII”，“ISO-8859-1”，“UTF-8”“UTF-16BE”， ‘UTF-16LE’和’UTF-16’。如果任一参数为null，则结果也将为null</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">ewah_bitmap</td><td align="right">使用第二个参数字符集对第一个参数进行编码字符集的可能选项是“US-ASCII”，“ISO-8859-1”“UTF-8”，“UTF-16BE”， ‘UTF-16LE’和’UTF-16’。如果任一参数为null，则结果也将为null</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">ewah_bitmap</td><td align="right">返回列的EWAH压缩位图表示。</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">ewah_bitmap_and</td><td align="right">ewah_bitmap_and（b1，b2） - 返回EWAH压缩的位图，该位图是两个位图的按位AND。</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">ewah_bitmap_empty</td><td align="right">ewah_bitmap_empty（bitmap） - 测试EWAH压缩位图是否全为零的谓词</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">ewah_bitmap_or</td><td align="right">ewah_bitmap_or（b1，b2） - 返回EWAH压缩位图，该位图是两个位图的按位OR</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">exp</td><td align="right">自然指数函数，返回自然对数e的a次方</td><td align="right">select exp(1) from dual</td><td align="right">2.718281828</td></tr><tr><td align="center">explode</td><td align="right">字符串分割，或者将array或者map展开</td><td align="right">select !true</td><td align="right">FALSE</td></tr><tr><td align="center">field</td><td align="right">返回str1，str2，…列表中str的索引或0如果未找到则支持所有基元类型，使用str.equals（x）比较参数。如果str为NULL，则返回值为0</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">find_in_set</td><td align="right">返回str_array中str的第一个匹配项，其中str_array是逗号分隔的字符串。如果任一参数为null，则返回null。如果第一个参数有逗号，则返回0。</td><td align="right">SELECT find_in_set（‘ab’，‘abc，b，ab，c，def’）FROM src LIMIT 1;</td><td align="right">3</td></tr><tr><td align="center">first_value</td><td align="right"></td><td align="right"></td><td align="right"></td></tr><tr><td align="center">floor</td><td align="right">向下取整函数，返回等于或者小于该double变量的最大的整数</td><td align="right">select floor(3.14) ;</td><td align="right">3</td></tr><tr><td align="center">format_number</td><td align="right">将数字X格式化为’＃，###，###。##'等格式</td><td align="right">SELECT format_number（12332.123456,4）</td><td align="right">‘12,332.1235’</td></tr><tr><td align="center">from_unixtime</td><td align="right">以指定的格式返回unix_time</td><td align="right">SELECT from_unixtime（0，‘yyyy-MM-dd HH：mm：ss’）FROM src LIMIT 1</td><td align="right">‘1970-01-01 00:00:00’</td></tr><tr><td align="center">from_utc_timestamp</td><td align="right">假设给定的时间戳是UTC并转换为给定的时区（从Hive 0.8.0开始）</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">get_json_object</td><td align="right">json 解析函数：</td><td align="right">get_json_object(string json_string, string path)</td><td align="right">解析json的字符串json_string,返回path指定的内容</td></tr><tr><td align="center">greatest</td><td align="right"></td><td align="right"></td><td align="right"></td></tr><tr><td align="center">hash</td><td align="right">返回参数的哈希值</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">hex</td><td align="right">十六进制函数</td><td align="right">select hex(17)</td><td align="right">11</td></tr><tr><td align="center">histogram_numeric</td><td align="right">直方图/近似中位数函数percentile_approx(DOUBLE col, p [, B])</td><td align="right">可以输入多个百分位数，返回类型也为array/可以输入多个百分位数，返回类型也为array</td><td align="right">FALSE</td></tr><tr><td align="center">hour</td><td align="right">日期转小时函数</td><td align="right">select hour(‘2020-8-29 13:50:9’)</td><td align="right">13</td></tr><tr><td align="center">if</td><td align="right">if条件判断，类似于三元表达式</td><td align="right">if( 1 is null,‘a’,‘b’ )</td><td align="right">b</td></tr><tr><td align="center">in_file</td><td align="right">如果str出现在文件中，则返回true</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">index</td><td align="right">返回a的第n个元素</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">initcap</td><td align="right">返回str，每个单词的第一个字母用大写字母表示，所有其他字母用小写字母表示。单词由空格分隔。</td><td align="right">SELECT initcap（‘tHe soap’）FROM src LIMIT 1;</td><td align="right">'肥皂</td></tr><tr><td align="center">inline</td><td align="right">将数据和结构分解为表</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">instr</td><td align="right">返回str中第一次出现substr的索引</td><td align="right">SELECT instr（‘Facebook’，‘boo’）</td><td align="right">5</td></tr><tr><td align="center">isnotnull</td><td align="right">是否不为空</td><td align="right">isnotnull ( a )</td><td align="right">如果a为非null就返回true，否则返回false</td></tr><tr><td align="center">isnull</td><td align="right">是否为空</td><td align="right">isnull( a )</td><td align="right">如果a为null就返回true，否则返回false</td></tr><tr><td align="center">java_method</td><td align="right">使用反射调用方法 同义词：reflect使用此UDF通过匹配参数签名来调用Java方法</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">json_tuple</td><td align="right">get_json_object类似，但它需要多个名称并返回一个元组。所有输入参数和输出列类型都是字符串</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">lag</td><td align="right">G函数用于访问前一行的数据。</td><td align="right">选择p1.p_mfgr，p1.p_name，p1.p_size， p1.p_size - lag（p1.p_size，1，p1.p_size）over（由p1.p_mfgr按p1.p_name排序）作为deltaSz 从part p1 join p1.p_partkey = p2.p_partkey上的p2部分</td><td align="right"></td></tr><tr><td align="center">last_day</td><td align="right">日期的当月的最后一天</td><td align="right">SELECT last_day（‘2009-01-12’）FROM src LIMIT 1;</td><td align="right">‘2009-01-31’</td></tr><tr><td align="center">last_value</td><td align="right"></td><td align="right"></td><td align="right"></td></tr><tr><td align="center">lcase</td><td align="right">返回str，所有字符都改为小写</td><td align="right">SELECT lcase（‘Facebook’）FROM src LIMIT 1;</td><td align="right">“Facebook的</td></tr><tr><td align="center">lead</td><td align="right">LEAD函数用于从下一行返回数据。</td><td align="right">p_name，p_retailprice，lead（p_retailprice）over（）为l1，lag（p_retailprice）over（）为l2，其中p_retailprice = 1173.15</td><td align="right"></td></tr><tr><td align="center">least</td><td align="right">返回值列表中的最小值</td><td align="right">SELECT least（2,3,1）FROM src LIMIT 1;</td><td align="right">1</td></tr><tr><td align="center">length</td><td align="right">字符串长度函数</td><td align="right">select length(‘abcedfg’)</td><td align="right">7</td></tr><tr><td align="center">levenshtein</td><td align="right">该函数计算两个弦之间的Levenshtein距离。</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">like</td><td align="right">检查str是否匹配模式</td><td align="right">SELECT a.* FROM srcpart a WHERE a.hr like’％2’LIMIT 1;</td><td align="right">27 val_27 2008-04-08 12</td></tr><tr><td align="center">ln</td><td align="right">返回x的自然对数</td><td align="right">SELECT ln（1）FROM src LIMIT 1;</td><td align="right">0</td></tr><tr><td align="center">locate</td><td align="right">返回位置pos后str中第一次出现substr的位置</td><td align="right">SELECT locate（‘bar’，‘foobarbar’，5)</td><td align="right">7</td></tr><tr><td align="center">log10</td><td align="right">以 10 为底对数函数</td><td align="right">select log10(1000</td><td align="right">3</td></tr><tr><td align="center">log2</td><td align="right">以 2 为底对数函数</td><td align="right">select log2(8)</td><td align="right">3</td></tr><tr><td align="center">logged_in_user</td><td align="right">返回登录的用户名</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">lower</td><td align="right">字符串转小写函数</td><td align="right">select lower(‘AB’)</td><td align="right">ab</td></tr><tr><td align="center">lpad</td><td align="right">左补足函数</td><td align="right">select lpad(‘abc’,3,‘d’)</td><td align="right">将’abc’进行用d进行左补足到4位：dabc</td></tr><tr><td align="center">ltrim</td><td align="right">左边去空格函数</td><td align="right">SELECT ltrim（‘facebook’）FROM src LIMIT 1;</td><td align="right">“Facebook</td></tr><tr><td align="center">map</td><td align="right">集合构造</td><td align="right">select map(‘a’,‘1’,‘b’,‘2’)</td><td align="right">{“a”:“2”,“b”:“1”}</td></tr><tr><td align="center">map_keys</td><td align="right">返回map中的key</td><td align="right">select map_keys(map(‘name’,‘chang’,‘age’,‘18’,‘hobbies’,‘swimming’))</td><td align="right">[“name”,“age”,“hobbies”]</td></tr><tr><td align="center">map_values</td><td align="right">返回map中的value</td><td align="right">select map_values(map(‘name’,‘chang’,‘age’,‘18’,‘hobbies’,‘swimming’))</td><td align="right">[“chang”,“18”,“swimming”]</td></tr><tr><td align="center">max</td><td align="right">最大值统计函数</td><td align="right">select max(数值字段)</td><td align="right"></td></tr><tr><td align="center">min</td><td align="right">最小值统计函数</td><td align="right">select min(数值字段)</td><td align="right"></td></tr><tr><td align="center">minute</td><td align="right">日期转分钟函数</td><td align="right">select minute(‘2020-8-29 13:50:9’)</td><td align="right">50</td></tr><tr><td align="center">month</td><td align="right">日期转月函数</td><td align="right">select month(‘2020-8-29 13:50:9’)</td><td align="right">8</td></tr><tr><td align="center">months_between</td><td align="right">返回date1和date2之间的月数。</td><td align="right">select months_between(‘2020-01-01’,‘2020-02-01’)</td><td align="right">1</td></tr><tr><td align="center">named_struct</td><td align="right">named_struct（name1，val1，name2，val2，…） - 使用给定的字段名称和值创建结构</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">negative</td><td align="right">取相反数</td><td align="right">select negative(-9)</td><td align="right">9</td></tr><tr><td align="center">next_day</td><td align="right">返回晚于start_date并按指示命名的第一个日期。</td><td align="right">SELECT next_day（‘2015-01-14’，‘TU’）FROM src LIMIT 1;</td><td align="right">“2015年1月20日”</td></tr><tr><td align="center">ngrams</td><td align="right">估计由字符串序列组成的行中的前k个n-gram，表示为字符串数组或字符串数​​组数组。'pf’是一个可选的精度因子，用于控制内存使用量。参数’n’指定估计什么类型的n-gram。Unigrams是n = 1，并且bigrams是n = 2.通常，n不会大于约5.'k’参数指定UDAF将返回多少个最高频率的n-gram。可选的精度因子’pf’指定用于估计的内存量; 更多的内存将提供更准确的频率计数，但可能会使JVM崩溃。默认值为20，内部保持20 * k n-gram，但仅返回k个最高频率的值。输出是一组具有前n个n-gram的结构。爆炸（）这个UDAF的输出可能很方便。</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">noop</td><td align="right"></td><td align="right"></td><td align="right"></td></tr><tr><td align="center">noopstreaming</td><td align="right"></td><td align="right"></td><td align="right"></td></tr><tr><td align="center">noopwithmap</td><td align="right"></td><td align="right"></td><td align="right"></td></tr><tr><td align="center">noopwithmapstreaming</td><td align="right"></td><td align="right"></td><td align="right"></td></tr><tr><td align="center">not</td><td align="right">逻辑否</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">ntile</td><td align="right"></td><td align="right"></td><td align="right"></td></tr><tr><td align="center">nvl</td><td align="right">nvl(T value, T default_value)</td><td align="right">如果value值为NULL就返回default_value,否则返回value</td><td align="right"></td></tr><tr><td align="center">or</td><td align="right">逻辑或</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">parse_url</td><td align="right">?URL 解析函数</td><td align="right">parse_url(string urlString, string partToExtract [, stringkeyToExtract])</td><td align="right">partToExtract的有效值为：HOST, PATH, QUERY, REF, PROTOCOL, AUTHORITY, FILE, and USERINFO.</td></tr><tr><td align="center">parse_url_tuple</td><td align="right">从URL中提取N（N&gt; = 1）个部分。它需要一个URL和一个或多个部件名，并返回一个元组。所有输入参数和输出列类型都是字符串。</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">percent_rank</td><td align="right"></td><td align="right"></td><td align="right"></td></tr><tr><td align="center">percentile</td><td align="right">返回pc上expr的百分位数（范围：[0,1]）。pc可以是double或double数组</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">percentile_approx</td><td align="right">近似中位数函数</td><td align="right">求近似的第pth个百分位数，p必须介于0和1之间</td><td align="right"></td></tr><tr><td align="center">pi</td><td align="right">返回pi</td><td align="right">SELECT pi（）FROM src LIMIT 1;</td><td align="right">3.14159 …</td></tr><tr><td align="center">pmod</td><td align="right">正取余函数</td><td align="right">select pmod(9,4)</td><td align="right">1</td></tr><tr><td align="center">posexplode</td><td align="right">表现得像数组爆炸，但包括原始数组中项目的位置</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">positive</td><td align="right">返回数值本身</td><td align="right">select positive(-5)</td><td align="right">5</td></tr><tr><td align="center">pow</td><td align="right">幂运算函数</td><td align="right">select pow(2,3)</td><td align="right">8</td></tr><tr><td align="center">power</td><td align="right">幂运算函数</td><td align="right">select pow(2,4)</td><td align="right">16</td></tr><tr><td align="center">printf</td><td align="right">可以根据printf样式格式字符串格式化字符串的函数</td><td align="right">SELECT printf（“Hello World％d％s”，100，“days”）</td><td align="right">“Hello World 100天”</td></tr><tr><td align="center">radians</td><td align="right">将度数转换为弧度</td><td align="right">SELECT radians（90）FROM src LIMIT 1;</td><td align="right">1.5707963267949mo</td></tr><tr><td align="center">rand</td><td align="right">取随机数函数，返回一个0到1范围内的随机数</td><td align="right">select rand() from dual;</td><td align="right">0.2599644</td></tr><tr><td align="center">rank</td><td align="right"></td><td align="right"></td><td align="right"></td></tr><tr><td align="center">reflect</td><td align="right">使用反射调用方法，同义词：java_method使用此UDF通过匹配参数签名来调用Java方法</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">reflect2</td><td align="right">使用反射调用arg0的方法使用此UDF通过匹配参数签名来调用Java方法</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">regexp</td><td align="right">果str匹配regexp则返回true，否则返回false</td><td align="right">SELECT’fb’reexx ‘’*'FROM src LIMIT 1;</td><td align="right">true</td></tr><tr><td align="center">regexp_extract</td><td align="right">正则表达式解析函数,将字符串subject按照pattern正则表达式的规则拆分</td><td align="right">regexp_extract(string subject, string pattern, int index)</td><td align="right"></td></tr><tr><td align="center">regexp_replace</td><td align="right">正则表达式替换函数,将字符串A中的符合java正则表达式B的部分替换为C</td><td align="right">regexp_replace(string A, string B, string C)：select regexp_replace(‘abc’, ‘a’, ‘v’)</td><td align="right">vbc</td></tr><tr><td align="center">repeat</td><td align="right">重复字符串函数</td><td align="right">select repeat(‘a’,2)</td><td align="right">aa</td></tr><tr><td align="center">reverse</td><td align="right">字符串反转函数</td><td align="right">select reverse(‘abc’)</td><td align="right">cba</td></tr><tr><td align="center">rlike</td><td align="right">如果str匹配regexp则返回true，否则返回false</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">round</td><td align="right">取整函数，返回double类型的整数值部分 （遵循四舍五入）</td><td align="right">select round(2.5674)/select round(2.5674,3);</td><td align="right">3/2.567</td></tr><tr><td align="center">row_number</td><td align="right"></td><td align="right"></td><td align="right"></td></tr><tr><td align="center">rpad</td><td align="right">右补足函数</td><td align="right">select lpad(‘abc’,3,‘d’)</td><td align="right">将’abc’进行用d进行右补足到4位：abcd</td></tr><tr><td align="center">rtrim</td><td align="right">左边去空格函数</td><td align="right">SELECT rtrim（‘facebook’）FROM src LIMIT 1;</td><td align="right">“Facebook的</td></tr><tr><td align="center">second</td><td align="right">日期转秒函数</td><td align="right">select second(‘2020-8-29 13:50:9’)</td><td align="right">9</td></tr><tr><td align="center">sentences</td><td align="right">将字符串中内容按语句分组，每个单词间以逗号分隔，最后返回数组</td><td align="right">sentences(‘Hello there! How are you?’)</td><td align="right">( (“Hello”, “there”), (“How”, “are”,“you”) )</td></tr><tr><td align="center">sha2</td><td align="right">算SHA-2系列散列函数（SHA-224，SHA-256，SHA-384和SHA-512）。第一个参数是要进行哈希处理的字符串或二进制文件。第二个参数表示结果的所需位长度，其值必须为224,256,384,512或0（相当于256）。从Java 8开始支持SHA-224。如果任一参数为NULL或散列长度不是允许值之一，则返回值为NULL。</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">sign</td><td align="right">返回x的符号</td><td align="right">SELECT sign（40）FROM src LIMIT 1;</td><td align="right">1</td></tr><tr><td align="center">sin</td><td align="right">正弦函数</td><td align="right">SELECT sin（0）FROM src LIMIT 1;</td><td align="right">0</td></tr><tr><td align="center">size</td><td align="right">类型大小(map/array)</td><td align="right">select size(array(‘a’,‘b’))</td><td align="right">2</td></tr><tr><td align="center">sort_array</td><td align="right">根据数组元素的自然顺序按升序对输入数组进行排序。</td><td align="right">SELECT sort_array（array（‘b’，‘d’，‘c’，‘a’））FROM src LIMIT 1;</td><td align="right">‘A B C D’</td></tr><tr><td align="center">soundex</td><td align="right">返回字符串的soundex代码。soundex代码由名称的第一个字母后跟三个数字组成。</td><td align="right">SELECT soundex（‘Miller’）;</td><td align="right">M460</td></tr><tr><td align="center">space</td><td align="right">空格字符串函数</td><td align="right">select space(10)</td><td align="right">10个空格</td></tr><tr><td align="center">split</td><td align="right">分割字符串函数</td><td align="right">select split(‘abcabcd’,‘c’)</td><td align="right">[“ab”,“ab”,“d”]</td></tr><tr><td align="center">sqrt</td><td align="right">开平方函数</td><td align="right">select sqrt(9)</td><td align="right">3</td></tr><tr><td align="center">stack</td><td align="right">将k列转换为n行，每行大小为k / n</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">std</td><td align="right">返回一组数字的标准偏差</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">stddev</td><td align="right">返回一组数字的标准偏差</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">stddev_pop</td><td align="right">返回一组数字的标准偏差</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">stddev_samp</td><td align="right">返回一组数字的样本标准差</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">str_to_map</td><td align="right">通过解析文本使用两个分隔符将文本拆分为键值对来创建映射,第一个分隔符分隔对，第二个分隔符分配键和值。如果只给出一个参数，则使用默认分隔符：’,‘作为delimiter1，’:'作为delimiter2</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">struct</td><td align="right">struct 构造函数</td><td align="right">STRUCTprovince:STRING,city:STRING,district:STRING,detail:STRING</td><td align="right"></td></tr><tr><td align="center">substr</td><td align="right">字符串截取函数</td><td align="right">select substr(‘abcde’,3) :select substr(‘abcde’,3,2)</td><td align="right">cde:cd</td></tr><tr><td align="center">substring</td><td align="right">字符串截取函数</td><td align="right">select substring(‘abcde’,3)</td><td align="right">cde</td></tr><tr><td align="center">sum</td><td align="right">总和统计函数</td><td align="right">select sum(xxx)</td><td align="right"></td></tr><tr><td align="center">tan</td><td align="right">返回x的正切（x是弧度）</td><td align="right">SELECT tan（0）FROM src LIMIT 1;</td><td align="right">1</td></tr><tr><td align="center">to_date</td><td align="right">抽取日期部分</td><td align="right">select to_date(‘2020-8-29 09:30:29’)</td><td align="right">2020/8/29</td></tr><tr><td align="center">to_unix_timestamp</td><td align="right">返回UNIX时间戳将指定时间转换为自1970-01-01以来的秒数。</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">to_utc_timestamp</td><td align="right">假设给定时间戳在给定时区内并转换为UTC（从Hive 0.8.0开始）</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">translate</td><td align="right">通过将from字符串中的字符替换为to字符串中的相应字符来转换输入字符串</td><td align="right">translate（‘abcdef’，‘ada’，‘192’）返回’1bc9ef’将’a’替换为’1’，将’d’替换为’9’</td><td align="right"></td></tr><tr><td align="center">trim</td><td align="right">从str中删除前导和尾随空格字符</td><td align="right">SELECT trim（‘facebook’）FROM src LIMIT 1;</td><td align="right">“Facebook的"</td></tr><tr><td align="center">trunc</td><td align="right">返回如果输入是日期，则返回日期，其中当天的时间部分被截断为格式模型fmt指定的单位。如果省略fmt，则日期将截断为最近的一天。它目前仅支持’MONTH’/‘MON’/‘MM’，‘QUARTER’/‘Q’和’YEAR’/‘YYYY’/'YY’作为格式。如果输入是数字组，则返回N截断为D十进制地方。如果省略D，则N被截断为0位.D可以是负截断（使零）小数点左边的D位。</td><td align="right">SELECT trunc(‘2009-02-12’, ‘MM’);</td><td align="right">‘2009-02-01’</td></tr><tr><td align="center">ucase</td><td align="right">字符串转大写函数</td><td align="right">select upper(‘ab’)</td><td align="right">AB</td></tr><tr><td align="center">unbase64</td><td align="right">base64 解码函数</td><td align="right">select unhex(‘616263’)</td><td align="right">abc</td></tr><tr><td align="center">unhex</td><td align="right">反转十六进制函数</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">unix_timestamp</td><td align="right">获取当前/日期/指定格式日期转 UNIX 时间戳函数</td><td align="right">select from_unixtime(1323308943,‘yyyyMMdd’)</td><td align="right">1323423425</td></tr><tr><td align="center">upper</td><td align="right">字符串转大写函数</td><td align="right">select upper(‘ab’)</td><td align="right">AB</td></tr><tr><td align="center">uuid</td><td align="right">返回通用唯一标识符（UUID）字符串。该值作为规范的UUID 36字符字符串返回。</td><td align="right">SELECT uuid（）;</td><td align="right">‘0baf1f52-53df-487f-8292-99a03716b688’</td></tr><tr><td align="center">var_pop</td><td align="right">非空集合总体变量函数</td><td align="right">统计结果集中col非空集合的总体变量</td><td align="right"></td></tr><tr><td align="center">var_samp</td><td align="right">非空集合样本变量函数</td><td align="right">统计结果集中col非空集合的样本变量</td><td align="right"></td></tr><tr><td align="center">variance</td><td align="right">返回一组数字的方差</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">version</td><td align="right">返回Hive构建版本字符串 - 包括基本版本和修订版本。</td><td align="right"></td><td align="right"></td></tr><tr><td align="center">weekofyear</td><td align="right">当前时间是一年中的第几周</td><td align="right">select weekofyear(‘2020-8-29 09:30:29’)</td><td align="right">35</td></tr><tr><td align="center">when</td><td align="right"></td><td align="right"></td><td align="right"></td></tr><tr><td align="center">windowingtablefunction</td><td align="right"></td><td align="right"></td><td align="right"></td></tr><tr><td align="center">xpath</td><td align="right">xpath（xml，xpath） - 返回xml节点中与xpath表达式匹配的值的字符串数组</td><td align="right">SELECT xpath（’ b1 &lt;/ b&gt; b2 &lt;/ b&gt; b3 &lt;/ b&gt; c1 &lt;/ c&gt; c2 &lt;/ c&gt; '，‘a / c / text（）’）FROM src LIMIT 1</td><td align="right">[“c1”，“c2”]</td></tr><tr><td align="center">xpath_boolean</td><td align="right">xpath_boolean（xml，xpath） - 计算布尔xpath表达式</td><td align="right">SELECT xpath_boolean（’ 1 &lt;/ b&gt; '，‘a / b’）FROM src LIMIT 1;</td><td align="right">TRUE</td></tr><tr><td align="center">xpath_double</td><td align="right">xpath_double（xml，xpath） - 返回与xpath表达式匹配的double值</td><td align="right">SELECT xpath_double（’ 1 &lt;/ b&gt; 2 &lt;/ b&gt; ’ ，‘sum（a / b）’） from src LIMIT 1;</td><td align="right">3</td></tr><tr><td align="center">xpath_float</td><td align="right">xpath_float（xml，xpath） - 返回与xpath表达式匹配的浮点值</td><td align="right">SELECT xpath_float（’ 1 &lt;/ b&gt; 2 &lt;/ b&gt; '，‘sum （a / b）’）FROM src LIMIT 1;</td><td align="right">3</td></tr><tr><td align="center">xpath_int</td><td align="right">xpath_int（xml，xpath） - 返回与xpath表达式匹配的整数值</td><td align="right">SELECT xpath_int（’ 1 &lt;/ b&gt; 2 &lt;/ b&gt; '，‘sum （a / b）’）FROM src LIMIT 1;</td><td align="right">3</td></tr><tr><td align="center">xpath_long</td><td align="right">path_long（xml，xpath） - 返回与xpath表达式匹配的long值</td><td align="right">SELECT xpath_long（’ 1 &lt;/ b&gt; 2 &lt;/ b&gt; '，‘sum （a / b）’）FROM src LIMIT 1;</td><td align="right">3</td></tr><tr><td align="center">xpath_number</td><td align="right">xpath_number（xml，xpath） - 返回与xpath表达式匹配的double值</td><td align="right">SELECT xpath_number（’ 1 &lt;/ b&gt; 2 &lt;/ b&gt; ’ ，‘sum（a / b）’）from src LIMIT 1;</td><td align="right">3</td></tr><tr><td align="center">xpath_short</td><td align="right">xpath_short（xml，xpath） - 返回与xpath表达式匹配的short值</td><td align="right">SELECT xpath_short（’ 1 &lt;/ b&gt; 2 &lt;/ b&gt; '，‘sum （a / b）’）FROM src LIMIT 1;</td><td align="right">3</td></tr><tr><td align="center">xpath_string</td><td align="right">xpath（xml，xpath） - 返回xml节点中与xpath表达式匹配的值的字符串数组</td><td align="right">SELECT xpath_string（’ b &lt;/ b&gt; cc &lt;/ c&gt; &lt;/ a &gt;’，‘a / c’）FROM src LIMIT 1;</td><td align="right">‘B1B2’</td></tr><tr><td align="center">year</td><td align="right">日期转年函数</td><td align="right">select year(‘2020-8-29 13:00:49’)</td><td align="right">2020</td></tr><tr><td align="center">~</td><td align="right">位取反操作</td><td align="right"></td><td align="right"></td></tr><tr><td align="center"></td><td align="right"></td><td align="right">位或操作</td><td align="right"></td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5c91125d23e7adaa17d9cca9aff816c5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Spring 5 AutowireCapableBeanFactory -- resolveDependency源码分析(二)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9a384e1ffdbef0a47a6b70bd1c1debdd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">强大工具psexec工具用法简介</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>