<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>在MATLAB2019b中安装MatConvNet工具箱（CPU版） - 编程中国的博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="在MATLAB2019b中安装MatConvNet工具箱（CPU版）" />
<meta property="og:description" content="安装要求 足够新的MATLAB版本（R2015b或更高版本）和一个支持C &#43;&#43; 11的编译器（Visual Studio 2015，GCC 4.8，Xcode 7.3.1或更高版本）。 对于GPU计算，至少需要CUDA 7.5以及CuDNN v（可选）或更新版本。
本次安装在如下实验环境中通过：
MATLAB2019b
Visual Studio 2019
matconvnet-1.0-beta25
步骤 1、下载MatConvNet工具箱安装包 下载链接 注：在链接中下载完安装包后将安装包剪切到MATLAB的安装路径中，本人是D:\MATLAB\toolbox（如果不安到toolbox里可能后续程序会报错，本人出现了这个问题）
2、安装和编译库 （1）如果这是您第一次编译 MatConvNet，请考虑先尝试 CPU 版本。
在MATLAB命令行中键入以下内容，以确保你的电脑在windous环境下VS的版本在2015及以上。
mex -setup mex -setup C&#43;&#43; （2）在命令行中依次输入以下代码
其中：cd后跟的路径为你保存工具箱的路径，因人而异。
cd D:\MATLAB\toolbox\matconvnet-1.0-beta25 addpath matlab vl_compilenn 注意：此处可能会出现编译错误，如下所示
警告: CL.EXE not found in PATH. Trying to guess out of mex setup. &gt; In vl_compilenn&gt;check_clpath (line 650)
In vl_compilenn (line 426)
In install (line 33) &#39;cl.exe&#39; 不是内部或外部命令，也不是可运行的程序 或批处理文件。 错误使用 vl_compilenn&gt;check_clpath (line 656)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/682c52ab6a148447cc2821e16d4aefa5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-24T16:15:56+08:00" />
<meta property="article:modified_time" content="2021-10-24T16:15:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程中国的博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程中国的博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">在MATLAB2019b中安装MatConvNet工具箱（CPU版）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>安装要求</h3> 
<p>足够新的MATLAB版本（R2015b或更高版本）和一个支持C ++ 11的编译器（Visual Studio 2015，GCC 4.8，Xcode 7.3.1或更高版本）。 对于GPU计算，至少需要CUDA 7.5以及CuDNN v（可选）或更新版本。</p> 
<p><strong>本次安装在如下实验环境中通过：</strong><br> MATLAB2019b<br> Visual Studio 2019<br> matconvnet-1.0-beta25</p> 
<h3>步骤</h3> 
<h4>1、下载MatConvNet工具箱安装包</h4> 
<p><a class="link-info" href="https://www.vlfeat.org/matconvnet" rel="nofollow" title="下载链接">下载链接</a>   </p> 
<p>注：在链接中下载完安装包后将安装包剪切到MATLAB的安装路径中，本人是D:\MATLAB\toolbox（如果不安到toolbox里可能后续程序会报错，本人出现了这个问题）</p> 
<h4>2、安装和编译库</h4> 
<p>（1）如果这是您第一次编译 MatConvNet，请考虑先尝试 CPU 版本。</p> 
<p>在MATLAB命令行中键入以下内容，以确保你的电脑在windous环境下VS的版本在2015及以上。</p> 
<pre><code>mex -setup 
mex -setup C++</code></pre> 
<p>（2）在命令行中依次输入以下代码</p> 
<p>其中：cd后跟的路径为你保存工具箱的路径，因人而异。</p> 
<pre><code>cd D:\MATLAB\toolbox\matconvnet-1.0-beta25
addpath matlab
vl_compilenn</code></pre> 
<p>注意：此处可能会出现编译错误，如下所示</p> 
<hr> 
<p>警告: CL.EXE not found in PATH. Trying to guess out of mex setup. <br> &gt; In vl_compilenn&gt;check_clpath (line 650)<br>    In vl_compilenn (line 426)<br>    In install (line 33) <br>    'cl.exe' 不是内部或外部命令，也不是可运行的程序 <br> 或批处理文件。 <br> 错误使用 vl_compilenn&gt;check_clpath (line 656)<br> Unable to find cl.exe</p> 
<p>出错 vl_compilenn (line 426)<br> cl_path = fileparts(check_clpath()); % check whether cl.exe in path</p> 
<hr> 
<p> <strong>解决方法：</strong></p> 
<p>1、找到cl.exe所在路径。</p> 
<p>我的cl.exe所在路径为：</p> 
<p>C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.29.30133\bin\Hostx64\x64</p> 
<p>其中：C:\Program Files (x86)\Microsoft Visual Studio\2019\Community为"VisualStudio安装路径"</p> 
<p>2、参考cl.exe路径，将vl_compilenn.m的646行改为如下：</p> 
<p>cl_path = fullfile(cc.Location, 'VC','Tools','MSVC','14.29.30133','bin','Hostx64','x64');</p> 
<p>其中：cc.Location会自动定位visual studio安装路径。不同版本的visual studio的14.29.30133路径不一样，注意更改。</p> 
<p>另：打开vl_compilenn.m的方法为双击红色的vl_compilenn。<img alt="" src="https://images2.imgbox.com/cf/2a/RYyZSV2R_o.png"></p> 
<p>3、重新编译，成功。</p> 
<p>注：有警告没关系，编译是成功的</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/ce/9f/cgPgUdkk_o.png"></p> 
<hr> 
<h4> 3、开始 MATLAB 和类型：</h4> 
<pre><code>&gt; run &lt;MatConvNet&gt;/matlab/vl_setupnn
% 其中&lt;MatConvNet&gt;为工具箱所在路径，例如D:\MATLAB\toolbox\matconvnet-1.0-beta25</code></pre> 
<p>以便将 MatConvNet 添加到 MATLAB 的搜索路径中。</p> 
<p>（若后续程序出现问题也可以尝试手动编译路径，即点击“主页—设置路径—添加并包含子文件夹—选中matconvnet文件夹—保存”）</p> 
<h4>4、测试</h4> 
<p>图书馆已准备就绪。您可以使用命令（使用 MATLAB R2015b 或更晚的）来测试它：</p> 
<pre><code>&gt; vl_testnn
</code></pre> 
<p>测试完成后的显示如下： </p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/63/7f/SoRjb9Yt_o.png"></p> 
<p style="text-align:center;"></p> 
<p><strong>注：使用GPU进行训练的方法参见下述文章</strong></p> 
<p><a class="link-info" href="https://blog.csdn.net/hiudawn/article/details/80381503?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=%E5%9C%A8MATLAB%E4%B8%8A%E5%AE%89%E8%A3%85MatConvNet&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-80381503.first_rank_v2_pc_rank_v29&amp;spm=1018.2226.3001.4187" title="参考文章">参考文章</a></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ade417aa8573e17341b7c5b2a20ff5b7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">spring一些捞到的东西</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5fe08c6cce1f47ceb08848e29a0c84d7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">深入理解现代浏览器</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 编程中国的博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://www.w3counter.com/tracker.js?id=151347"></script>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>